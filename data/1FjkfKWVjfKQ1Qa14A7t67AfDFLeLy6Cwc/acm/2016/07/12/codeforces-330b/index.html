<!DOCTYPE html>
<html lang="en">
<head>
  <title>CodeForces 330B Road Construction - 科学君的不科学博客</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <meta name="author" content="Liu233w" />
  <meta name="keywords" content="acm" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #ds-thread #ds-reset .ds-comment-body p a {color: #ff0;}
   #ds-thread #ds-reset .ds-comment-body p a:hover {color: #0ff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" href="http://liu233w.github.io/media/css/main.css" type="text/css"/>
  <link rel="stylesheet" href="http://liu233w.github.io/media/css/comment.css" type="text/css"/>
  <link rel="Shortcut Icon" href="https://raw.githubusercontent.com/Liu233w/liu233w.github.io/source/avatar.jpg" type="image/x-icon">
</head>

  <body><div class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="http://liu233w.github.io/">科学君的不科学博客</a></h1>
    <p>by 不科学的科学君</p>
    <nav class="site-nav">
      <div class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z" fill="#ffff00"/>
          <path d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z" fill="#ffff00"/>
          <path d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z" fill="#ffff00"/>
        </svg>
      </div>
      <ul class="trigger">
        <li><a href="http://liu233w.github.io/所有文章/">所有文章</a></li>
        <li><a href="http://liu233w.github.io/tags/">按标签索引</a></li>
        <li><a href="http://liu233w.github.io/acm/">Acm</a></li>
        <li><a href="http://liu233w.github.io/blog/">Blog</a></li>
        <li><a href="http://liu233w.github.io/about/">About</a></li>
        <li><a href="https://github.com/liu233w/liu233w.github.io">Github</a></li>
        <li><a href="http://liu233w.github.io/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
      <input type="text" class="field" name="q" id="s" placeholder="Search">
      <input type="hidden" name="as_sitesearch" value="liu233w.github.io">
    </form>
    <img id="avatarid" class="avatar" src="https://raw.githubusercontent.com/Liu233w/liu233w.github.io/source/avatar.jpg" />
  </header>
</div>

<div>
<div class="post">
<h1 class="title">CodeForces 330B Road Construction</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2b4b17b">题目：</a></li>
<li><a href="#orgf9a5178">代码：</a></li>
<li><a href="#orgdcff0f6">解析&amp;吐槽：</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2b4b17b" class="outline-2">
<h2 id="org2b4b17b">题目：</h2>
<div class="outline-text-2" id="text-org2b4b17b">
<p class="verse">
B. Road Construction
time limit per test
2 seconds
memory limit per test
256 megabytes
input
standard input
output
standard output

A country has n cities. Initially, there is no road in the country. One day, the king decides to construct some roads connecting pairs of cities. Roads can be traversed either way. He wants those roads to be constructed in such a way that it is possible to go from each city to any other city by traversing at most two roads. You are also given m pairs of cities — roads cannot be constructed between these pairs of cities.

Your task is to construct the minimum number of roads that still satisfy the above conditions. The constraints will guarantee that this is always possible.
Input

The first line consists of two integers n and m .

Then m lines follow, each consisting of two integers ai and bi (1 ≤ ai, bi ≤ n, ai ≠ bi), which means that it is not possible to construct a road connecting cities ai and bi. Consider the cities are numbered from 1 to n.

It is guaranteed that every pair of cities will appear at most once in the input.
Output

You should print an integer s: the minimum number of roads that should be constructed, in the first line. Then s lines should follow, each consisting of two integers ai and bi (1 ≤ ai, bi ≤ n, ai ≠ bi), which means that a road should be constructed between cities ai and bi.

If there are several solutions, you may print any of them.
Examples
Input

4 1
1 3

Output

3
1 2
4 2
2 3
</p>

<p>
note
</p>

<p>
this is one possible solution of the example:
<img src="http://liu233w.github.io/assets/acm/2016/07/12/codeforces-330b/e0655a1cf7b39a8d2447728cde1059fb3cccbaeb.png" alt="e0655a1cf7b39a8d2447728cde1059fb3cccbaeb.png" />
</p>

<p>
These are examples of wrong solutions:
<img src="http://liu233w.github.io/assets/acm/2016/07/12/codeforces-330b/9feb7083b4d6c60ba32c71a1738c63b8bfac1b15.png" alt="9feb7083b4d6c60ba32c71a1738c63b8bfac1b15.png" />
The above solution is wrong because it doesn't use the minimum number of edges (4 vs 3). In addition, it also tries to construct a road between cities 1 and 3, while the input specifies that it is not allowed to construct a road between the pair.
<img src="http://liu233w.github.io/assets/acm/2016/07/12/codeforces-330b/92ceeb24653609dd6c23343e6bbd2b97e0c3a551.png" alt="92ceeb24653609dd6c23343e6bbd2b97e0c3a551.png" />
The above solution is wrong because you need to traverse at least 3 roads to go from city 1 to city 3, whereas in your country it must be possible to go from any city to another by traversing at most 2 roads.
<img src="http://liu233w.github.io/assets/acm/2016/07/12/codeforces-330b/80b1d5102b747752e1a19964bb3495be37e9a41b.png" alt="80b1d5102b747752e1a19964bb3495be37e9a41b.png" />
Finally, the above solution is wrong because it must be possible to go from any city to another, whereas it is not possible in this country to go from city 1 to 3, 2 to 3, and 4 to 3.
</p>
</div>
</div>

<div id="outline-container-orgf9a5178" class="outline-2">
<h2 id="orgf9a5178">代码：</h2>
<div class="outline-text-2" id="text-orgf9a5178">
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;</span><span style="color: #2aa198;">iostream</span><span style="color: #2aa198;">&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;</span><span style="color: #2aa198;">queue</span><span style="color: #2aa198;">&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;</span><span style="color: #2aa198;">functional</span><span style="color: #2aa198;">&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;</span><span style="color: #2aa198;">vector</span><span style="color: #2aa198;">&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;</span><span style="color: #2aa198;">string</span><span style="color: #2aa198;">&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;</span><span style="color: #2aa198;">set</span><span style="color: #2aa198;">&gt;</span>
<span style="color: #268bd2;">#include</span> <span style="color: #2aa198;">&lt;</span><span style="color: #2aa198;">algorithm</span><span style="color: #2aa198;">&gt;</span>

<span style="color: #859900; font-weight: bold;">using</span> <span style="color: #859900; font-weight: bold;">namespace</span> <span style="color: #268bd2; font-weight: bold;">std</span>;

<span style="color: #b58900;">bool</span> <span style="color: #268bd2;">cons</span><span style="color: #2aa198;">[</span><span style="color: #6c71c4;">10000</span><span style="color: #2aa198;">]</span>;

<span style="color: #b58900;">int</span> <span style="color: #268bd2;">main</span><span style="color: #2aa198;">()</span>
<span style="color: #2aa198;">{</span>
    <span style="color: #268bd2; font-weight: bold;">ios</span>::sync_with_stdio<span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">false</span><span style="color: #b58900;">)</span>;
    cin.tie<span style="color: #b58900;">(</span><span style="color: #268bd2; font-weight: bold;">NULL</span><span style="color: #b58900;">)</span>;

    <span style="color: #b58900;">int</span> <span style="color: #268bd2;">n</span>,<span style="color: #268bd2;">k</span>;
    cin&gt;&gt;n&gt;&gt;k;

    <span style="color: #859900; font-weight: bold;">for</span><span style="color: #b58900;">(</span><span style="color: #b58900;">int</span> <span style="color: #268bd2;">i</span>=<span style="color: #6c71c4;">0</span>;i&lt;k;++i<span style="color: #b58900;">)</span>
    <span style="color: #b58900;">{</span>
        <span style="color: #b58900;">int</span> <span style="color: #268bd2;">a</span>,<span style="color: #268bd2;">b</span>;
        cin&gt;&gt;a&gt;&gt;b;
        cons<span style="color: #268bd2;">[</span>a<span style="color: #268bd2;">]</span>=cons<span style="color: #268bd2;">[</span>b<span style="color: #268bd2;">]</span>=<span style="color: #268bd2; font-weight: bold;">true</span>;
    <span style="color: #b58900;">}</span>

    <span style="color: #b58900;">int</span> <span style="color: #268bd2;">i</span>=<span style="color: #6c71c4;">1</span>;
    <span style="color: #859900; font-weight: bold;">while</span><span style="color: #b58900;">(</span>cons<span style="color: #268bd2;">[</span>i<span style="color: #268bd2;">]</span><span style="color: #b58900;">)</span>
        ++i;

    cout &lt;&lt; n-<span style="color: #6c71c4;">1</span>&lt;&lt;endl;
    <span style="color: #859900; font-weight: bold;">for</span><span style="color: #b58900;">(</span><span style="color: #b58900;">int</span> <span style="color: #268bd2;">j</span>=<span style="color: #6c71c4;">1</span>;j&lt;=n;++j<span style="color: #b58900;">)</span>
    <span style="color: #b58900;">{</span>
        <span style="color: #859900; font-weight: bold;">if</span><span style="color: #268bd2;">(</span>j!=i<span style="color: #268bd2;">)</span>
            cout &lt;&lt; j &lt;&lt;<span style="color: #2aa198;">' '</span>&lt;&lt;i&lt;&lt;endl;
    <span style="color: #b58900;">}</span>

    <span style="color: #859900; font-weight: bold;">return</span> <span style="color: #6c71c4;">0</span>;
<span style="color: #2aa198;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcff0f6" class="outline-2">
<h2 id="orgdcff0f6">解析&amp;吐槽：</h2>
<div class="outline-text-2" id="text-orgdcff0f6">
<p>
这道题的套路非常深。题目要求用尽量少的桥将几个城市连接起来，从一个城市到另一个城市最多需要经过两个桥，同时给出一些两两成对的城市，这两个城市之间不能架桥，题目保证有解。输出桥的数量和成对的城市——表示这两个城市之间要架一座桥。最优解有很多，输入其中任意一个即可。
</p>

<p>
分析题目之后我们发现，如果想要在两座桥之内到达任意城市并且桥的数量尽量少，那么每个城市都必须连接到同一个公共的城市，最终的桥梁成放射状。我们可以用反证法证明以上结论：
</p>

<p>
如果有一个城市没有连接到公共城市，它必须要连接到公共城市放射出来的一个城市中（保证桥梁数量最少时不能有环形），此时它到达公共城市需要经过两座桥，则到达其他与公共城市相连的城市至少需要三座桥，不合题意。
</p>

<p>
那么如果题目保证有解，一定会有一个城市可以与任意的城市相连，我们只需要找到这个城市，让它和其它所有城市配对即可。桥的数量就是城市的数量-1。
</p>
</div>
</div>

</div>
</div>
<div>
        <div class="post-meta">
            <span title="发布日期" class="post-info">2016-07-12</span>
            <span title="最后修改日期" class="post-info">2017-02-24</span>
            <span title="标签" class="post-info">:<a href="http://liu233w.github.io/tags/acm">acm</a>:</span>
            <span title="作者" class="post-info"><a href="mailto:wwwlsmcom &lt;at&gt; outlook &lt;dot&gt; com">Liu233w</a></span>
        </div>
    <script src="http://liu233w.github.io/media/js/jquery-2.1.3.min.js"></script>
        <section>
            <h1>Comments</h1>
            <div id="comment-wrap">
                    <a class="disqus_label">使用 Disqus 评论</a>
                    <a class="ds-label">使用多说评论</a>
    </ul>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
         //var disqus_developer = 1;
         var preempt_signal=false;
         var disqus_identifier = "/acm/2016/07/12/codeforces-330b/";
         var disqus_url = "http://liu233w.github.io/acm/2016/07/12/codeforces-330b/";
         var disqus_shortname = 'liu233w';
         /* * * DON'T EDIT BELOW THIS LINE * * */
         (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
             $('#disqus_thread').css('display','none');
         })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <div class="ds-thread"></div>
        <script type="text/javascript">
         var duoshuoQuery = {short_name:'liu233w'};
         (function() {
             var ds = document.createElement('script');
             ds.type = 'text/javascript';ds.async = true;
             ds.src = 'http://static.duoshuo.com/embed.js';
             ds.charset = 'UTF-8';
             (document.getElementsByTagName('head')[0]
           || document.getElementsByTagName('body')[0]).appendChild(ds);
             $('.ds-thread').css('display','block');
         })();
        </script>
    <script>
     /* comments */
     var ego_disqus_thread=$('#disqus_thread');
     var ego_ds_label=$('.ds-thread');
     $('.disqus_label').click(function(){
         ego_disqus_thread.show();
         ego_ds_label.hide();
     });
     $('.ds-label').click(function(){
         ego_disqus_thread.hide();
         ego_ds_label.show();
     });
    </script>
        </section>
    <script src="http://liu233w.github.io/media/js/main.js"></script>
    <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
            Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:wwwlsmcom &lt;at&gt; outlook &lt;dot&gt; com">Liu233w</a>
            &nbsp;&nbsp;-&nbsp;&nbsp;
            Powered by <a href="https://github.com/emacs-china/ego" target="_blank">EGO</a><br/>
            <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
            <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
    </div>
            </div>
            <script type="text/javascript"
                    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_SVG">
            </script>
            <script type="text/x-mathjax-config">
             MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "AMS"} } });
            </script>
</div>

  </div></body>
</html>
