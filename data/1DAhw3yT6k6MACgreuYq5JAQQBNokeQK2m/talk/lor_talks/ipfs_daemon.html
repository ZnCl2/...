<!DOCTYPE html>
<html>

<head>
	<title>IPFS daemon</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../../css/global.css">
</head>

<body>
	
<header>
  <a href="../../index.html"><img src="../../img/logo.png" width="55"></a><br>ChronCache	
</header>
	
<nav>
	<hr>
  <p><a href="../../talk.html">архив</a> <tt>|</tt> <a href="../../help.html">помощь</a> <tt>|</tt> <a href="/1Q9LVNLD1ghusGxpiwjYnVjPsxD5xGTGc7/donate/index.html">донат</a></p>
	<hr>
</nav>

<article>
	
<acide><p>Это резервная страница от 03.04.2020 / <a href="/1BpFtPez7mSiShtXfb4wPfMT1dZTuRybfZ/?Topic:1_1KMBUmz57LumMsDZfoZJkzZhXC6FVcZrik/">оригинал</a></p></acide>

<section>
	<h1>IPFS daemon</h1>
	<p><b>radjah:</b> <tt>(Aug 30, 2017)</tt><br>Кто-нибудь держит ipfs в виде демона? Какого бегемота оно на пустом месте грузит процессор?</p>
</section>	
	
<hr><p>Комментарии:</p>
	
<section class="com">
	<div>
		<p><b>balancer73:</b> <tt>(Aug 30, 2017)</tt><br>Я держу под десяток нод разного размера. Процессор и сеть грузит, потому что обеспечивает транзитный трафик и транзитное же хранение. Особенно бесит, когда сидишь на ноуте за серым IP с мобильным трафиком. И IPFS гоняет какие-то данные :)</p>
		<p>Вроде бы, сейчас как-то этот вопрос можно оттюнить, но особо не разбирался, мне проще на ноуте его вырубать, когда не пользуюсь, а на других нодах не жалко поработать на пользу сети :)</p>
	</div>
	<div>
		<p><b>radjah:</b> <tt>(Aug 30, 2017)</tt><br><em><b>balancer73:</b> ... Процессор и сеть грузит, потому что обеспечивает транзитный трафик...</em><br>Сеть пусть грузит, сети у меня много. А вот на счет процессора не ожидал. Даже нода H@H с большим кэшем на кубитраке работала тише, хоть и на java. Сейчас вот последний срез с git собран.<br><em>транзитное же хранение</em><br>А <code>~/.ipfs</code> как-то не спешит разрастаться при этом.</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Aug 30, 2017)</tt><br><em><b>radjah:</b> А вот на счет процессора не ожидал</em><br>Тут сложно сказать, на одноплатнике IPFS у меня нет, а на виртуалках нагрузка на процессор уже не так велика. Тем более — на выделенных серверах.<br><em>А ~/.ipfs как-то не спешит разрастаться при этом</em><br>Да, он не особо наглеет. Исходники не смотрел, но, возможно, там не больше какого-то процента от выделенного места выделяется под транзит. Но немного .ipfs распухает при простое, а по <code>ipfs repo gc</code> снова уменьшается :)</p>
		<p><span class="code"><code>$ du -hs ~/.ipfs<br>1,6G  /home/balancer/.ipfs<br>$ ipfs repo gc<br>$ du -hs ~/.ipfs<br>1,4G  /home/balancer/.ipfs</code></span></p>
		<p>Другая машина:</p>
		<p><span class="code"><code>$ du -hs ~/.ipfs<br>704M  /home/balancer/.ipfs<br>$ ipfs repo gc<br>$ du -hs ~/.ipfs<br>268M  /home/balancer/.ipfs</code></span></p>
	</div>
	<div>
		<p><b>sigma7:</b> <tt>(Aug 30, 2017)</tt><br>он сразу начинает качать кэш из сети. У меня он успокоился когда закачал 1.5 гига</p>
	</div>
	<div>
		<p><b>radjah:</b> <tt>(Sep 10, 2017)</tt><br><em><b>sigma7:</b> У меня он успокоился когда закачал 1.5 гига</em><br>У меня всё никак не успокоится. А размер кэша примерно соответствует тому, что я сам добавил. Может там в настройках что подкрутить надо?</p>
	</div>
	<div>
		<p><b>tokyomewmew:</b> <tt>(Nov 05, 2017)</tt><br>У меня win7 32 bit<br>У друга win10 64bit<br>Не работает ни там ни там</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Nov 07, 2017)</tt><br><em><b>tokyomewmew:</b> Не работает ни там ни там</em><br>А в чём выражается? Сложно представить, что оно может не работать. Автономный монолитный бинарник, который просто пашет на любой из десятка машин, где заводил (Win10, Ubuntu — все 64 bit).</p>
	</div>
	<div>
		<p><b>anotherneko:</b> <tt>(Nov 23, 2017)</tt><br>Транзит DHT же.</p>
	</div>
	<div>
		<p><b>geekless:</b> <tt>(Feb 11, 2018)</tt><br>А этой штуке белый IP-шник обязателен что ли? Попробовал запустить по мануалу — тишина, пиров не видит, нихрена не происходит, даже localhost:5001/webui не открывает. Или я что-то делаю не так?</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Feb 11, 2018)</tt><br><em><b>geekless:</b> А этой штуке белый IP-шник обязателен что ли?</em><br>Не обязателен. У меня <code>ipfs add</code> на ноуте в локалке создавали записи, доступные снаружи. И трафик постоянно паразитный был (из-за чего приходилось постоянно вырубать демон). Но это всё достаточно давно было, может, с полгода назад. Т.к. я понемногу использование IPFS у себя свернул :-/</p>
	</div>
	<div>
		<p><b>geekless:</b> <tt>(Feb 11, 2018)</tt><br>Видимо, у меня вот этот баг: <u>https://github.com/ipfs/go-ipfs/issues/3933</u><br>Ладно... не судьба потыкать IPFS. :D</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Feb 12, 2018)</tt><br><em><b>geekless:</b> Видимо, у меня вот этот баг</em><br>Можешь попробовать какую-то из старых версий :)</p>
		<p>Я всё подумываю не полениться и поперебирать старые версии, найти последнюю, которая не жрала так память и io, как нынешние. Ведь работало же оно когда-то отлично! :D А совместимость обратная там хорошая, там у народа такой зоопарк версий в пирах...</p>
	</div>
	<div>
		<p><b>geekless:</b> <tt>(Feb 12, 2018)</tt><br><em><b>balancer73:</b> Ведь работало же оно когда-то отлично!</em><br>«Синдром Firefox» :D</p>
	</div>
	<div>
		<p><b>anotherneko:</b> <tt>(Feb 16, 2018)</tt><br><em><b>geekless:</b> Видимо, у меня вот этот баг...</em><br>Сталкивался с подобной проблемой, решилось заменой порта по умолчанию на случайный.</p>
	</div>
	<div>
		<p><b>geekless:</b> <tt>(Feb 16, 2018)</tt><br><em><b>anotherneko:</b> ... решилось заменой порта по умолчанию на случайный</em><br>Помогло. Спасибо!</p>
	</div>
</section>
	
<p class="dr">Aug 30, 2017 / LOR.Talks</p>
	
</article>		
		
</body>
</html>