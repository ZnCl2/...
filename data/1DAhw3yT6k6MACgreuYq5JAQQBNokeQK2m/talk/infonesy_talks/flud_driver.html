<!DOCTYPE html>
<html>

<head>
	<title>Всякий флуд по разработке драйверов и транспортов</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../../css/global.css">
</head>

<body>
	
<header>
  <a href="../../index.html"><img src="../../img/logo.png" width="55"></a><br>ChronCache	
</header>
	
<nav>
	<hr>
  <p><a href="../../talk.html">архив</a> <tt>|</tt> <a href="../../help.html">помощь</a> <tt>|</tt> <a href="/1Q9LVNLD1ghusGxpiwjYnVjPsxD5xGTGc7/donate/index.html">донат</a></p>
	<hr>
</nav>

<article>
	
<acide><p>Это резервная страница от 03.04.2020 / <a href="/1F4WVHDpQYxuJL6xEY3EZTYkZds9TTjVHC/?Topic:3_1PniNzyi8fygvwyBaLpA9oBDVWZ5fXuJUw/">оригинал</a></p></acide>

<section>
	<h1>Всякий флуд по разработке драйверов и транспортов</h1>
	<p><b>balancer73:</b> <tt>(Nov 29, 2016)</tt><br>Блог, всё же, должен служить для каких-то более крупных статей. В ZeroMe нельзя делать отдельные каналы. Так что, пусть будет просто поток записей тут :)</p>
</section>	
	
<hr><p>Комментарии:</p>
	
<section class="com">
	<div>
		<p><b>balancer73:</b> <tt>(Nov 29, 2016)</tt><br>Хотя MyBB 1.x работает только с BBCode, а не Markdown, для черновой работы этого достаточно. Ну, подумаешь, Markdown будет в сыром виде пока идти... Потом можно плагин приделать.</p>
		<p>Там более, что пока единственная реально работающая связка — это передача потока с <u>http://forums.wrk.ru</u> на <u>http://www.unlimit-talks.tk</u>, а на первом вся разметка — продвинутая версия BBCode :)</p>
		<p>Пока прикрутил только MyBB-code с разворачиванием ссылок на картинки в сами картинки. Хотя и без превью, как это сделано на Авиабазе. Например: <u>http://www.unlimit-talks.tk/showthread.php?tid=592&amp;page=8</u></p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Nov 29, 2016)</tt><br>В порядке эксперимента привязал RSS-поток из опубликованных сообщений Tiny Tiny RSS с <u>http://tt-rss.balancer.ru/</u> на форум Авиабазы <u>http://www.wrk.ru/forums/viewforum.php?id=221</u></p>
		<p>Т.е. на tt-rss по cron сбрасываются обновления опубликованных записей в файловый синк (используется BTSync по R/O ключу BOEWZOVDW47TYM22WMQXDGULCNWLGRQFC — сейчас там 17Мб, все мои отметки с 2013 года), а на форумах Авиабазы по inotify-watch происходит импорт полученных обновлений на форум. Пока сразу в простом Markdown и выводится (соответственно, все картинки — внешние. Надо будет доработать фильтр, который будет картинки утягивать, закидывать в IPFS и подменять ссылки).</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Dec 04, 2016)</tt><br>Запустил начерно трансляцию избранного из Twitter в Infonesy. Принимаю туда же, куда и TT-RSS.</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Jan 05, 2017)</tt><br>Сделал демку трансляции новостей из моих RSS и Твиттера :)</p>
		<p><u>http://127.0.0.1:43110/1F3ggqq99yHzra2aEM6uRRbvbDMaj4EdpF/</u></p>
		<p>Пока только как демонстрация концепции.</p>
		<ul>
			<li>Нужно решить проблему объёма. За месяц набегает почти 4Мб одних текстов. Резать по месяцам, вероятно, придётся. Но тогда адрес текущих новостей будет всё время меняться.
			<li>Нужно картинки перекладывать в IPFS, сейчас они отдаются прямо с исходных сайтов.
		</ul>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Jan 15, 2017)</tt><br>Пилю драйвер для Vanilla forum, чтобы, наконец, соединить, хотя бы начерно, несколько рабочих форумов.</p>
		<p>Наткнулся на концептуальную проблему. Чувствовал, что с ней будет что-то не так и раньше, но сейчас упёрся лбом.</p>
		<p>В Vanilla-форуме сделано не как у многих других, где первое сообщение топика является обычным сообщением-постингом, как и ответы. Тут текст первого поста хранится прямо в записи топика. И поэтому нельзя идентифицировать стартовое сообщение по post_id, оно определяется по topic_id.</p>
		<p>Соответственно, если топики режутся/переносятся, то первое сообщение то конвертируется из топика в постинг, то из постинга в топик.</p>
		<p>В результате нельзя гарантировать сохранность ID такого сообщения :-/</p>
		<p>То есть, я могу передать в Infonesy UUID такого поста равным UUID топика. И, наверное, пока так и придётся сделать. Но тогда, при операциях с топиками Vanilla, этот UUID может потеряться. Или будет указывать уже на другое сообщение.</p>
		<p>Конечно, ещё есть вариант хранить в БД отдельные UUID и модифицировать их при операциях форума, но это многократно усложняет работу и требует вмешательства в код чужих плагинов (split/merge топиков).</p>
		<p>Сложный, блин, случай :-/</p>
	</div>
	<div>
		<p><b>tolstoevsky:</b> <tt>(Jan 20, 2017)</tt><br>А вот эта штука не рассматривалась: <u>https://hubzilla.org/hubzilla/</u> ?<br>Я толком не вникал, но идея из той же оперы.</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Jan 20, 2017)</tt><br><em><b>tolstoevsky:</b> Я толком не вникал, но идея из той же оперы</em><br>Да, навскидку посмотрел — идея близкая. Но есть принципиальная разница. По-моему, они продвигают собственный софт (надо присмотреться), а я ориентируюсь на использование уже имеющихся решений. Это, подчас, огромные человкогода решений. Так почему-бы не воспользоваться уже вложенным трудом, не занимаясь велосипедостроением :)</p>
		<p>Поэтому и ставлю задачу реализовать системы драйверов и протоколов обмена между такими самостоятельными решениями. Это намного проще и практичнее. Опять же, позволит не заманивать пользователей в новые системы, а объединять пользователей уже раскрученных ресурсов.</p>
		<p>Блин, где б взять 50 часов в сутках? :) Мне часов 10-20 надо поработать, чтобы полноценно запустить синхронизацию между запланированными популярными форумными движками, но никак не выкроить даже по часу времени :)</p>
	</div>
	<div>
		<p><b>antignu:</b> <tt>(Jan 20, 2017)</tt><br><em><b>tolstoevsky:</b> А вот эта штука не рассматривалась: https://hubzilla.org/hubzilla/</em><br>Это очередное федеративное решение. Какая-то непотребщина, вроде френдики? Зачем оно в моем 2k17?</p>
		<p>И правда, это же бывший redmatrix.</p>
		<blockquote>Nomadic identity means true ownership of online identity. With Hubzilla, you don't have an "account" on a server, you own an identity that you can take with you across the grid. You can clone a channel across multiple hubs for resilience against network failures or censorship, or you can completely move a channel from one hub to another, taking your data and connections with you.</blockquote>
		<p>Заявляют переносимость, но регистрация все так же по email. Не очень понятно, как именно это у них работает.<br><em>Так почему-бы не воспользоваться уже вложенным трудом, не занимаясь велосипедостроением</em><br>Это продолжение развития Friendica, то есть не совсем велосипед.</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Jan 20, 2017)</tt><br><em><b>antignu:</b> Это продолжение развития Friendica, то есть не совсем велосипед</em><br>Я сравниваю не с точки зрения распределённости, а с точки зрения юзабилити и функционала ноды. На фоне разных Vanilla forums/MyBB/LiveStreet/Wordpress и т.п. — всё это велосипед :) Нужно много труда вкладывать, чтобы достичь подобного функционала. И если речь идёт о полном комплекте софта в одном решении, то всё это придётся делать самому и с нуля. Я же вместо этого предпочитаю взять готовенькое и научиться это связывать :)</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Jun 06, 2017)</tt><br>Не смотря на то, что отдельные компоненты системы уже работают (<a href="http://www.balancer.ru/g/p4351615" target="_blank">RSS-трансляции</a>, <a href="http://www.unlimit-talks.tk/" target="_blank">unlimit-talks.tk</a>) и ещё отдельные компоненты в процессе тестов (в основном форумные движки), это, всё же больше пока демо концепции. И даже без выложенного вычищенного кода :)</p>
		<p>Давно назрело системное наступление, но глаза разбегаются и руки хватаются постоянно за разные направления. Так что надо упорядочить мысли и назначить план работ. И начинать нужно с самых востребованных и одновременно простых задач.</p>
		<p>То, ради чего задумывалась система, для синхронизации форумов, пока не так критично. Форумы в основной массе прекрасно живут сами по себе. Хотя и было бы интересно связать Web-форумы и ZeroTalk (например, <a href="https://proxy.zeronet.a0z.ru/1F4WVHDpQYxuJL6xEY3EZTYkZds9TTjVHC/" target="_blank">Infonesy.Talk</a>) или просто сделать для тех же форумов Авиабазы альтернативные интерфейсы на Vanilla или Flarum, но это не скорее хотелки, чем востребованная необходимость. А форумное писание тянет за собой много разных сложностей, которые решать ещё долго. Даже не смотря на то, что трансляция с форумов Авиабазы в MyBB на unlimit-talks работает вполне успешно. Также, было бы неплохо забрать/объединить данные с <a href="http://vault.balancer.ru/forum/" target="_blank">форума Убежища</a> на Авиабазу. Но и это задача не особо востребованная, пока всё итак работает.</p>
		<p>Зато в рамках потенциальных задач Infonesy на первом месте у меня стоит, думаю, блогописание. Заметки на разные темы пишутся на разных движках в десятке разных мест. Чему-то я делаю кросс-постинг вручную, что-то так и остаётся рассеянным по многим ресурсам. Даже в рамках самой Infonesy.</p>
		<p>И тут возникает необходимость думать и планировать.</p>
		<p>Для блогописания хорошо бы централизовать потоки. То есть, понятно, что в рамках Infonesy можно соединять любой ресурс с любым, но проще это делать через какой-то общий хаб. И в его роли, наверное, лучше ставить что-то самое продвинутое и массовое. Думаю, таким вариантом без сомнения является WordPress. Тем более, что у него есть бонус в виде прекрасного мобильного клиента.</p>
		<p>Но.</p>
		<p>На форумах Авиабазы давно есть <a href="http://www.balancer.ru/users/10000/blog/" target="_blank">система блогов</a>. Сделана она на самом форумном движке, популярностью особенной не пользуется, так как не имеет массы востребованных блог-фич, типа подписок и т.п. Была попытка пересадить людей на отдельный LiveStreet (<a href="http://ls.balancer.ru/" target="_blank">LSBR</a>), но и этот вариант «не взлетел», так как даже при наличии форумной авторизации в этой системе, люди не хотят куда-то уходить. Напрашивается вариант объединения двух систем, т.е. перенос системы форумных блогов в LSBR. Отказ от доморощенной системы, но сохранение функционала публикации с форума в блог. Просто это уже должно делаться не внутри самого форума, а через Infonesy. Форум при размещении записи с пометкой «в блог» кидает её в сеть, а блог-сайт уже забирает эти данные себе.</p>
		<p>Однако, вызывает сомнение, насколько хорош сегодня для этой цели LiveStreet. Система относительно мало популярная, слабо развивающаяся, с перекосом в коммерциализацию. И сюда точно плохо подходит WordPress, поскольку у него всё не очень хорошо с социальностью и множественными пользователями.</p>
		<p>Думаю, нужно поискать какую-то современную социальную систему на замену LiveStreet. Вариантов много, но пока не попалось что-то, полностью удовлетворяющее хотелкам:</p>
		<ol>
			<li>Открытый гостевой доступ, чтобы блоги/обсуждения читали не только регистранты, но и гости.
			<li>Желательно PHP, так как разрабатывать в рамках одной платформы проще.
			<li>Markdown в разметке для упрощения обмена в Infonesy.
			<li>Фотогалереи, категории, теги, блоги как персональные, так и коллективные...
		</ol>
		<p>Надо будет искать и тестировать :)</p>
		<p>Пока, наверное, надо будет организовать трансляцию блог-записей пользователей форумов Авиабазы в Infonesy. Чтобы было что загружать для тестов в тестируемые системы.</p>
	</div>
</section>
	
<p class="dr">Nov 29, 2016 / Infonesy.Talks</p>
	
</article>		
		
</body>
</html>