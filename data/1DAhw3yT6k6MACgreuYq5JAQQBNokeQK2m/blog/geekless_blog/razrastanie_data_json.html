<!DOCTYPE html>
<html>

<head>
	<title>Разрастание data.json как фактор, ограничивающий масштабируемость сайтов</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../../css/global.css">
</head>

<body>
	
<header>
  <a href="../../index.html"><img src="../../img/logo.png" width="55"></a><br>ChronCache	
</header>
	
<nav>
	<hr>
  <p><a href="../../blog.html">архив</a> <tt>|</tt> <a href="../../help.html">помощь</a> <tt>|</tt> <a href="/1Q9LVNLD1ghusGxpiwjYnVjPsxD5xGTGc7/donate/index.html">донат</a></p>
	<hr>
</nav>

<article>
	
<acide><p>Это резервная страница от 21.03.2019 / <a href="/1BLoGBTid3NhGu8ts3fAfHJprnbrH3wfTV/?Post:12">оригинал</a></p></acide>

<section>
	<h1>Разрастание data.json как фактор, ограничивающий масштабируемость сайтов</h1>
	<p>У всех популярных движков зайтов (ZeroBlog, ZeroTalk, ZeroWiki, ZeroMe и другие) есть такая особенность — весь массив сообщений, комментариев, лайков и тому подобного, хранится в виде «по одному файлу на каждого пользователя». То есть весь ваш контент — в одном файле. И чем больше вы пишете, тем больше этот файл.</p>
	<p>Например, сейчас все посты в этом блоге занимают 60 килобайт. В <a href="/Blog.ZeroNetwork.bit/">блоге nofish</a> — 151 килобайт. (Это по-английски он пишет. А писал бы по-русски, было бы в 2 раза больше — русский текст в кодировке UTF8 занимает по 2 байта на символ.) Казалось бы, немного. Но это фактор, ограничивающий масштабируемость вашего сайта по размеру и требующий все больше времени на обновления по сети. Если вы будете активно писать в блог, то за пару лет data.json легко вырастет до нескольких мегабайт. И если вы написали в блог заметку на 300 символов, то всё равно перекачивать по сети придётся весь файл целиком — всем, кто вас, читает. Это и нагружает сеть лишними пересылками данных, и пользователям медленного мобильного интернета может создать определённые неудобства.</p>
	<p>Есть и другие ограничения у такого подхода — в принципе невозможно реализовать ограничение загрузки отдельных материалов. Может быть, вы не хотите хранить у себя контент, который для вас неприемлим по этическим или юридическим причинам, но остальной контент сайта вполне интересен — но тонкой настройки быть не может: или всё, или ничего.</p>
	<p>Почему так было сделано... ну наверное потому, что с таким подходом было проще создать движок. Непреодолимых сложностей в этом нет — это не проблема ZeroNet как технологии, а проблема конкретного движка. Думаю, эта часть кода будет со временем доработана.</p>
</section>
	
<hr><p>Комментарии:</p>
	
<section class="com">	
	<div>
		<p><b>putsan:</b> <tt>(Feb 13, 2018)</tt><br>Думаю в будущем могут исправить эти неудобства.</p>
	</div>
	<div>
		<p><b>balancer73:</b> <tt>(Feb 19, 2018)</tt><br><em>Если вы будете активно писать в блог, то за пару лет data.json легко вырастет до нескольких мегабайт</em><br>А потом блог можно клонировать :) И делать, например, архивы по годам.<br><em>Непреодолимых сложностей в этом нет — это не проблема ZeroNet как технологии, а проблема конкретного движка.</em><br>Именно так. Например, в ZeroUp у пользователя множество файлов и грузятся они по запросу. Аналогично, наверное, можно сделать и в том же ZeroTalk — скажем, хранить сообщения участников в виде опциональных файлов с разбивкой по ID/размеру.</p>
	</div>
	<div>
		<p><b>anotherneko:</b> <tt>(Feb 28, 2018)</tt><br><em>И если вы написали в блог заметку на 300 символов, то всё равно перекачивать по сети придётся весь файл целиком — всем, кто вас, читает.</em><br>На самом деле zeronet давно умеет передавать только diffы этого файла. Хотя конечно изначальная загрузка в таком случае все равно займет ощутимое время.</p>
	</div>
</section>
	
<p class="dr">Feb 13, 2018 / Geekless.Blog</p>
	
</article>		
		
</body>
</html>