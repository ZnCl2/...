<!DOCTYPE html>
<html>

<head>
	<title>Про обмен трекерами</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="../../css/global.css">
</head>

<body>
	
<header>
  <a href="../../index.html"><img src="../../img/logo.png" width="55"></a><br>ChronCache	
</header>
	
<nav>
	<hr>
  <p><a href="../../blog.html">архив</a> <tt>|</tt> <a href="../../help.html">помощь</a> <tt>|</tt> <a href="/1Q9LVNLD1ghusGxpiwjYnVjPsxD5xGTGc7/donate/index.html">донат</a></p>
	<hr>
</nav>

<article>
	
<acide><p>Это резервная страница от 16.10.2019 <tt>(22.03.2020)</tt> / <a href="/1BLoGBTid3NhGu8ts3fAfHJprnbrH3wfTV/?Post:48">оригинал</a></p></acide>

<section>
	<h1>Про обмен трекерами</h1>
	<p>По умолчанию ZeroNet пытается найти 5 работающих трекеров через обмен трекерами. Поскольку она посылает запросы достаточно случайным образом, чем более трекер известен среди узлов, тем больше вероятность, что он будет еще более известным. А малоизвестные трекеры так и находятся в безызвестности.</p>
	<p>Я поднял лимит до 20. За несколько часов ZeroNet сделала 250+ запросов <code>getTrackers</code> и нашла 10 трекеров:</p>
	<div class="code">
		<code>1.  zero://103.118.41.222:38454
2.  zero://144.34.215.231:16419
3.  zero://172.93.52.144:27983
4.  zero://185.142.236.207:10443
5.  zero://216.189.144.82:26312
6.  zero://2401:1740:2000:0:309:2018:6303:dfbd:38454
7.  zero://2a00:1838:35:1a4::c32a:34836
8.  zero://45.77.244.56:27450
9.  zero://83.162.192.96:15441
10. zero://94.242.58.32:34836</code>
	</div>
	<p>Можно смоделировать, что представляет собой обмен трекерами:</p>
	<ol>
		<li>Предположим, что всей сети известны 5 исправных трекеров (A, B, C, D, E), и таким образом ни один узел не испытывает потребности обмениваться списками треверов.
		<li>Один из трекеров (A) становится недоступным. Узлы сети обнаруживают недостаточное количество трекеров, что провоцирует обмен запросами <code>getTrackers</code>. Узлы сети, на которых подняты малоизвестные трекеры, становытся источниками "волны", распространяющей информацию о новом трекере.
		<li>Может случиться так, что информация из одной такой волны (трекер F) распространяется по всей сети, и трекер F заменяет трекер A во всех списках. Но в силу случайного обмена запросами, возможно существование нескольких волн, каждая из которых проходит по отдельному подмножеству сети. Результат закрепляется в виде несовпадающих списков трекеров: (<b>F</b>, B, C, D, E); (<b>G</b>, B, C, D, E); (<b>H</b>, B, C, D, E)... Все узлы сети удовлетворили свою потребность в работающих трекерах, поэтому дальнейшего перемешивания списков не происходит.
		<li>Мысленно повторим вышеописанные рассуждения для трекера B и последующих трекеров в списке. Как видно из рассуждения, существует ненулевая вероятность, что сеть распадётся на два или более множеств, оперирующих непересекающимися списками трекеров. Таким образом, связность сети по трекерам не гарантирована.
	</ol>
	<p>Вероятность потери связности, впрочем, достаточно низкая, чтобы можно было ею пренебречь в практическом смысле.</p>
</section>	
	
<hr><p>Комментарии:</p>
	
<section class="com">
	<div>
		<p><b>blazingeye:</b> <tt>(Jul 01, 2019)</tt><br>Если есть механизм, из которого следует пусть и низкая, но ненулевая вероятность потери связности, то требуется механизм восстановления связности. Самый надёжный способ запуска механизма - привязаться к некому глобальному событию, во время которого можно будет по заранее известным местам объединить списки трекеров. Это значит, что во время этого события должна быть высокая вероятность обмена списками. Можно попробовать подыскать существующие, а можно попробовать создать глобальное периодичное событие.</p>
	</div>
	<div>
		<p><b>if0:</b> <tt>(Jul 01, 2019)</tt><br>Должен быть механизм обмена данными между трекерами (или трекеров вообще быть не должно), иначе в любом случае сеть распадеться на сегменты из-за ограничений максимального количества обслуживаемых соединений (нагрузки) для каждого трекера. Из-за чего их количество будет возрастать с ростом сети, следовательно вероятность получить ситуацию, когда, к примеру, два пользователя форума не увидят сообщений друг друга потому что оба не будут иметь общих трекров, сильно возрастет. Одно дело - найти хотя бы один общий из 20 трекеров, совсем другое - из 1000.</p>
		<p>P.S. Поэтому разрабы не хотят трекеров ни в Tor, ни в i2p потому что они не будут доступны пользователям из клирнета и наоборот, в результате получится три независимых сегмента.</p>
	</div>
	<div>
		<p><b>anotherneko:</b> <tt>(Jul 02, 2019)</tt><br>Вероятность того, что найдутся хотябы две группы, у которых не будет ни одного пользователя с пересекающимеся трекерами ничтожно мала. Если же найдется хотябы один такой пользователь то группы будут синхронизироваться через него и заметных проблем связности это не вызовет.</p>
	</div>
	<div>
		<p><b>dimka511:</b> <tt>(Mar 18, 2020)</tt><br>А как поднять лимит ?</p>
	</div>
	<div>
		<p><b>geekless:</b> <tt>(Mar 19, 2020)</tt><br><em><b>dimka511:</b> А как поднять лимит ?</em><br>Через опцию командной строки:</p>
		<p><span class="code"><code>AnnounceShare plugin:
  --working_shared_trackers_limit limit
                        Stop discovering new shared trackers after this number
                        of shared trackers reached (default: 5)</code></span></p>
	</div>
</section>
	
<p class="dr">Jul 01, 2019 / Geekless.Blog</p>
	
</article>		
		
</body>
</html>