<!DOCTYPE html><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title> Yet Another Password Guide 密碼指南</title><meta name="description" content=" (The English version is in the bottom half of the page.) "><link rel="stylesheet" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/assets/main.css"><link rel="canonical" href="http://127.0.0.1:43110/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/12/13/yet-another-password-guide.html"><link rel="alternate" type="application/rss+xml" title="Nerde Nolzda" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/feed.xml"><header role="banner"> <a class="site-title" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/">Nerde Nolzda</a><nav> <a href="#" class="menu-icon">&#9776;</a><div class="trigger"> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/about/">About</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/keys/">Keys</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/mirrors/">Mirrors</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/">Tags</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/feed.xml">RSS</a></div></nav></header><main><article itemscope itemtype="http://schema.org/BlogPosting"><header><h1 itemprop="name headline"> <a itemprop="mainEntityOfPage url" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/12/13/yet-another-password-guide.html"> Yet Another Password Guide 密碼指南 </a></h1><p class="post-meta"> <time datetime="2016-12-13T12:32:30+08:00" itemprop="datePublished"> Dec 13, 2016 </time> • <time datetime="2018-08-22T23:05:52+08:00" itemprop="dateModified"> Aug 22, 2018 </time> • <span itemprop="author publisher" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">WillyPillow</span> </span> • <span itemprop="keywords"> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/en.html" rel="tag">en</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/zh.html" rel="tag">zh</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/bilingual.html" rel="tag">bilingual</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/security.html" rel="tag">security</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/password.html" rel="tag">password</a></span> • <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/sigs/posts/2016-12-13-yet-another-password-guide.md.asc"> Signature </a></p></header><div itemprop="articleBody text"><p>(<a href="#eng">The English version</a> is in the bottom half of the page.)</p><h2 id="foreword">Foreword</h2><p>最近被問到關於密碼安全的問題，加上一直以來，在這方面的中文資源相對稀少，甚至有些錯誤的迷思，引發我決定寫此篇文章。</p><h2 id="tldr">Tl;dr</h2><p>如果你懶得讀以下這堆，這裡提供幾個建議：</p><ul><li>使用 <a href="#masterpassword-zh">Master Password</a> 管理密碼<li>對於密碼管理程式的主密碼，使用 <a href="#diceware-zh">Diceware</a> 產生一個 6 個單字以上的密碼。</ul><h2 id="entropy">Entropy</h2><p>要如何得知密碼的安全性？一般來說，可以推估密碼的熵 (Entropy)，也就是其不確定性。當然，嚴格說起，一個密碼（因為已經決定了）的 entropy 一定是 0，因此我們一般說密碼的 entropy 實際上是指密碼產生方式的隨機性。例如，一個六位數的數字密碼由於有 10^6 (~= 2^20) 種可能性，故在完全隨機的情形下，有約 20 bit 的 entropy。不過，人類的選擇常是容易預測的，造成 entropy 的降低。</p><h2 id="how-much-is-enough">How Much Is Enough?</h2><p>你可能會想，很多網站都有密碼輸入錯誤幾次便暫時鎖定帳號、IP ，或是出現驗證碼，密碼便不需那麼安全。但前述措施並非萬能，例如 IP 鎖定能透過僵屍網路迴避，而驗證碼可由我在<a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/17/online-voting-manipulation.html">此文章</a>中闡述的方法解讀。除此之外，許多對伺服器的攻擊都是取得『登入資料』的資料庫，而安全的密碼也能在這種情形下保護你。如此的原因是因為大部份注重安全的服務並不會將你的密碼以明文儲存，而是經由一個單向的 <a href="https://zh.wikipedia.org/wiki/%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B8">hash</a> / <a href="https://en.wikipedia.org/wiki/Key_derivation_function">KDF</a> 將密碼轉換為一串無法倒推回原密碼的內容。因此，單單得到如是資料庫的黑客欲得到你的密碼，仍然要透過一般的暴力或字典檔破解。不過，在這種情境下，不僅破解速率會增加幾千幾萬倍（因為不再需要透過網路），當然也不受前述的限制。</p><p>若要防範上文之攻擊，密碼的 entropy 要多大？假設伺服器使用一個非常糟糕的 hash function：<a href="https://zh.wikipedia.org/zh-tw/MD5">MD5</a>。（其之所以糟糕的原因是它的速度。為了減緩黑客的破解速度，一般會使用較慢的 KDF，如 <a href="https://en.wikipedia.org/wiki/PBKDF2">PBKDF2</a>）目前市面上高階的顯示卡（GTX1080）大約可以做到 25 Gh/s = 2.5 * 10^10 hash / second。換言之，由小寫字母和數字組成的隨機 8 位密碼 （約 2.8 * 10^12 種可能性，相當於約 41 bit entropy）平均只要 50 秒便能破解，更不要說黑客很可能會使用快速的設備。另外，運算速度的進步也是必須考慮的一環。</p><p>因此，一般來說使用超過 <a href="https://en.wikipedia.org/wiki/Password_strength#Required_bits_of_entropy">70 bit entropy 的密碼</a>也不為過，但當然，這取決於帳戶的敏感度和重要性，以及個人對安全性的要求。</p><h2 id="password-schemes">Password Schemes</h2><p>以下是一些常見且安全的密碼產生方式：</p><h3 id="completely-random">Completely Random</h3><p>用 KeePassX 等程式，隨機產生一串密碼，能得到最大的 安全/長度 比例。一個由大小寫字母、數字、符號及空白鍵所組成的隨機密碼只需要 13 個字元便可達到 80 bit entropy。不過，對不少人來說，這較難以記憶，甚至有可能因此而將密碼寫下貼在螢幕旁，大大降低了安全性。</p><p><a id="diceware-zh"></a></p><h3 id="diceware-aka-xkcd-method">Diceware (aka XKCD method)</h3><p>這方法在<a href="http://xkcd.com/936">這則 XKCD 漫畫</a>中出現，基本上就是隨機選取幾個英文單字，將它們串起來。雖然這方法一開始看起來十分不安全，容易遭到字典檔攻擊，但實際上假設你從 8000 個單字中隨機選取 6 個（可重複），即有 8000^6 ~= 2.6 * 10^23 種可能，約 78 bit entropy，和前述 13 字元的隨機字串相差無幾，而又更容易記憶（可編個故事）。不過，由於人類的決定十分不隨機，隨機地挑選這些單字便十分重要。<a href="http://world.std.com/~reinhold/diceware.html">Diceware 的官網</a>提供一個有 6^5 = 7776 個單字的列表，其中每個單字都有一串對應的數字 (1 ~ 6)。使用的方式是對每個想要選的單字，擲 5 次骰子，並以結果查詢該列表，得到相應之單字。</p><h3 id="others">Others</h3><p>說實在，其它方法，只要不是隨機產生的，都有安全性的疑慮。正如前文所言，我們做的決定經常是可預測的。除此之外，有些人會建議使用一個很長的片語或句子（如史諾登舉的例子 <code>MargaretThatcheris110%SEXY</code>）、該句子的單字字首組合（如 Bruce Schnier 的 <code>This little piggy went to market</code> -&gt; <code>tlpWENT2m</code>），或用中文輸入法的鍵位打出中文句子。如此雖然已經比一般人使用的密碼安全不少，但仍有以下的問題：</p><ul><li>很可能和個人喜好…等相關<li>難以保證品質（許多人仍會選擇簡單易猜的片語）<li>字首和讀音的出現頻率並非均勻分佈<li>…等等</ul><h2 id="why-not-reuse-passwords">Why Not Reuse Passwords?</h2><p>你可能會想，如果那麼麻煩，乾脆把每個網站的密碼都設為相同。不過，若一個網站受到攻擊（例如密碼資料庫流出），而你的密碼因此受到破解（前文已指出離線破解 hash 的速度十分快），你的其它帳戶的登入資訊便也遭洩漏。甚至如果該網站直接使用明文儲存密碼（而這是經常發生的事），連離線破解的麻煩也省去了。另外，如果該網站（或小部份的員工）是惡意的，它便能夠直接截錄你的密碼，並試圖以其登入你其它的帳戶。一言以蔽之，洩漏密碼的方式五花八門，如果所有的帳戶的密碼均相同，會使風險大大提升。</p><h2 id="password-managers">Password Managers</h2><p>不過，眾多帳戶的不同密碼，很快就會變得難以記憶。因此，許多安全專家均建議使用密碼管理程式。基本上，便是將你的所有密碼統一存在一個資料庫中，而該資料庫受到一個主密碼的加密。如此，便只要記憶該主密碼。以下是推薦的幾個密碼管理程式，其均為 open source，且也同時具有電腦和手機版。</p><p><a id="masterpassword-zh"></a></p><h3 id="master-password"><a href="https://ssl.masterpasswordapp.com/">Master Password</a></h3><p>這程式的原理基本上是將你的姓名、主密碼，和網站名稱做一些不可逆的運算，為各網站產生密碼。這樣的優點是完全不需同步，也可以在各裝置上取用你的密碼。除此之外，為了因應網站自動產生的密碼，它也具備儲存自訂密碼的功能，但當然就需要手動在裝置間同步了。</p><h3 id="keypassx"><a href="https://www.keepassx.org/">KeyPassX</a></h3><p>此程式是我目前正在使用的。它採用了最傳統的方式，也就是一個加密的本機資料庫。優點是安全性較高。雖然欲在各裝置上使用需要手動同步資料庫，但透過 Dropbox、SFTP 等方式，仍然不失方便性。另外，Android 上建議使用 Keepass2Android，內建的同步功能可少掉很多麻煩。</p><h2 id="misc">Misc</h2><h3 id="should-i-change-my-passwords-often">Should I change my passwords often?</h3><p>許多人都會建議經常更改密碼。不過，需要注意的是，這樣幾乎不會降低密碼被破解的機率。（詳見<a href="http://people.scs.carleton.ca/~paulv/papers/expiration-authorcopy.pdf">這篇 Paper</a>）基本上，除非得知自己的密碼有外洩的可能（例如伺服器資料庫流出、使用較不被信任的電腦登入…等），否則其實不必刻意常常更改密碼，畢竟如果被要求一直更改，許多使用者反而會為了避免忘記或麻煩而採用較不安全的密碼。</p><h3 id="isnt-writing-passwords-down-unsafe">Isn’t writing passwords down unsafe?</h3><p>另一個迷思是你不該把密碼寫下來。簡單來說，把密碼寫下然後貼在螢幕旁（或是其它時常不被看管的地方）顯然是非常糟糕的。但是，如果放在幾乎不離身的皮夾或錢包裡，其實算是頗安全的，畢竟我們早就習慣盯緊自己的錢包以及裡面的紙。這樣的好處是不會因為顧忌遺忘，而將密碼的安全性降低。</p><hr /><p><a id="eng"></a></p><h2 id="foreword-1">Foreword</h2><p>Recently, I’ve been asked questions about password security, inspiring me to write this article.</p><h2 id="tldr-1">Tl;dr</h2><p>If you’re too lazy to read the following article, here are some short suggestions:</p><ul><li>Use <a href="#masterpassword-en">Master Password</a> to manage your passwords<li>For the main password of the password manager, use <a href="#diceware-en">Diceware</a> to generate a password of at least 6 words long</ul><h2 id="entropy-1">Entropy</h2><p>How do we rate the security of a password? In general, we can estimate its entropy, i.e. its uncertainess. Of course, strictly speaking, a password, since it’s already determined, always has an entropy of 0. Thus, normally when we talk about the entropy of passwords, we are actually talking about the randomness of the method we use to generate the password. For example, since there are 10^6 (~= 2^20) possibilities of a 6-digit numeric password, there are about 20 bits of entropy in the case that it is randomly generated. However, the choices humans make are usually easily predictable, causing a decrease in entropy.</p><h2 id="how-much-is-enough-1">How Much Is Enough?</h2><p>You might think that since a lot of websites temporary lock accounts or IPs after several failed password attempts or require a CAPTCHA be completed, the password need not be so secure. However, the mechanisms mentioned above are not silver bullets. For example, IP bans can be bypassed by the use of botnets, and CAPTCHAs can be read by the method I wrote about <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/17/online-voting-manipulation.html">in this article</a>. In addition, a lot of server hacks leak the database of login credentials, and safe passwords can also help in this scenerio. The reason is that most security-minded sevices does not store your password in plain text, but instead turn them into data that can not be reversed back to the original password via an one-way <a href="https://en.wikipedia.org/wiki/Hash_function">hash</a> / <a href="https://en.wikipedia.org/wiki/Key_derivation_function">KDF</a>. As such, a cracker that obtains the database still needs to use normal brute force or dictionary attacks to get your password. However, in this scenerio, not only would the cracking speed be increase by several magnitutes (since networking is not required anymore), the limits mentioned above would not apply.</p><p>How large does the entropy of a password have to be to prevent such an attack? Consider a server using <a href="https://en.wikipedia.org/wiki/MD5">MD5</a>, a terrible hash function. (Mainly due to its speed. Normally, a slower KDF, like <a href="https://en.wikipedia.org/wiki/PBKDF2">PBKDF2</a>, is used to slow down the speed of crackers) Currently, high spec GPUs (GTX1080) can achieve about 25 Gh/s = 2.5 * 10^10 hashes / second. In other words, a 8-character password consisting of lower case letters and numbers (about 2.8 * 10^12 possibilities, amounting to about 41 bits of entropy) can be cracked in 50 seconds on average, not to mention that the cracker is highly likely to use faster equipment. Also, the advancement in computing speed is another factor to be considered.</p><p>Thus, it is completely reasonable to use a password with <a href="https://en.wikipedia.org/wiki/Password_strength#Required_bits_of_entropy">over 70 bits of entropy</a>. For course, this depends on the sensitivity and importance of accounts, and personal security requirements.</p><h2 id="password-schemes-1">Password Schemes</h2><p>Here are some common and secure ways to generate passwords:</p><h3 id="completely-random-1">Completely Random</h3><p>Using programs like KeePassX to generate a password randomly can achieve the highest security / length ratio. A password consisting lower and upper case letters, numbers, and punctuation along with spaces only needs 13 characters to reach 80 bits of entropy. However, for many this is rather hard to remember, and even makes some people write their password down and stick it to their screens, thereby decreasing security.</p><p><a id="diceware-en"></a></p><h3 id="diceware-aka-xkcd-method-1">Diceware (aka XKCD method)</h3><p>This method appeared in <a href="http://xkcd.com/936">this XKCD strip</a>. Basically, you randomly choose a few English words and connect them together. At first, this method may seem insecure and prone to dictionary attacks, but actually, if you randomly choose 6 words out of 8000 (with repetition allowed), there are 8000^6 permutations, amounting to about 78 bits of entropy. This is close to the 13-character random string mentioned above, while being easier to remember (by making up a story). However, since human choices are far from random, a method of choosing these words randomly becomes important. <a href="http://world.std.com/~reinhold/diceware.html">The offcial page of Diceware</a> provides a wordlist containing 6^5 = 7776 words, each of which corresponds to a sequence of digits (1 ~ 6). To use it, roll a dice 5 times for each word, and match the results to a word in the list</p><h3 id="others-1">Others</h3><p>To be frank, other methods, as long as it’s not randomly generated, have security issues. As mentioned above, our decisions are often predictable. In addition, some suggst using a long phrase or sentence (like Edward Snowden’s example <code>MargaretThatcheris110%SEXY</code>) or the combinations of initials of said sentence (like Bruce Schnier’s <code>This little piggy went to market</code> -&gt; <code>tlpWENT2m</code>). Although this is way safer than the passwords normal people use, there are the following problems:</p><ul><li>Highly possible to be connected with personal preferences …etc<li>Hard to ensure quality (a lot of people will still choose easy-to-guess phrases)<li>Initials are not uniform distributions<li>…etc</ul><h2 id="why-not-reuse-passwords-1">Why Not Reuse Passwords?</h2><p>You might think that if there’s so much fuss, why not set the passwords to all the websites the same? However, if one website is attacked (like a leaked password database), and your password is cracked because of this (as mentioned above, offline hash cracking speeds are very fast), all of the credentials of your other accounts are compromised as well. If the website stores the passwords in plain text, which happens often, they won’t even need to be cracked. In addition, if the website (or some of its employees) is malicious, it can directly capture your password, and try to log in your other accounts with it. In short, there are countless ways to leak passwords. If the passwords to all the accounts are the same, the risk is greatly increased.</p><h2 id="password-managers-1">Password Managers</h2><p>However, different passwords to lots of accounts can soon become difficult to remember. Thus, many security experts recommend the use of password managers, which basically save all your passwords in one database, which is protected by a single master password. This way, only the master password needs to be memorized. The following are a few recommended password managers which are open source and provide both desktop and mobile versions.</p><p><a id="masterpassword-en"></a></p><h3 id="master-password-1"><a href="https://ssl.masterpasswordapp.com/">Master Password</a></h3><p>How this program works is by doing irreversable calculations to your name, master password and website name, and use the results to generate passwords for each website. The advantage of this method is that no synchronizations are needed to use the passwords on different devices. Also, to deal with the passwords generated by the websites, it also has the functionality to save custom passwords, which, of course, need to be synchronized manually.</p><h3 id="keypassx-1"><a href="https://www.keepassx.org/">KeyPassX</a></h3><p>This program is what I’m using now. It uses the most traditional way, an encrypted local database. An advantage is better security. Though you need to synchronize the database manually for usage on multiple devices, it’s still pretty convenient to use methods like Dropbox, SFTP, …etc. Also, the recommended app on Android is Keepass2Android, which has synchronization features built in, saving a lot of trouble.</p><h2 id="misc-1">Misc</h2><h3 id="should-i-change-my-passwords-often-1">Should I change my passwords often?</h3><p>Many people recommend changing your passwords often. However, it should be noted that this hardly reduces the possibility of your passwords being cracked. (See <a href="http://people.scs.carleton.ca/~paulv/papers/expiration-authorcopy.pdf">this paper</a> for details) Bascially, unless you realize that your password might have been leaked (e.g. a leak of the server database, logging in via an untrusted computer, …etc), there’s not really a need to change it often. After all, being asked to change passwords all the time, many users would just use insecure ones in case they’re forgotten.</p><h3 id="isnt-writing-passwords-down-unsafe-1">Isn’t writing passwords down unsafe?</h3><p>Another misconception is that you shouldn’t write your passwords down. Simply put, writing them down and sticking them next to your screen (or other unguarded places) is obviously very bad. On the other hand, placing it in a wallet that rarely leaves your sight is reasonably safe, since we are used to keep a close eye on our wallets and the paper inside. An advantage of doing so is that you won’t be using insecure passwords because of the risk of forgetting them.</p></div><div><h1>Related Posts</h1><ul><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2018/08/24/setting-up-yubikey.html"> Setting Up Yubikey & NMC + Zeronet Update </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2017/10/23/revoking-my-gpg-keys.html"> Revoking My GPG Keys </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2017/02/06/freenet-on-qubes.html"> Freenet On Qubes </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2017/01/30/zeronet-offline-sign.html"> Zeronet Offline Sign </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2017/01/30/gpg-setup.html"> GPG Setup </a></ul></div><div><h1><span itemprop="commentCount">0</span> comments</h1><h2>Post a comment</h2><p> Send an email to <a href="mailto:comment@nerde.pw">comment@nerde.pw</a>.</p></div></article></main><footer itemscope itemtype="http://schema.org/Person"><ul><li itemprop="name">WillyPillow<li><a itemprop="email" href="mailto:wp@nerde.pw">wp@nerde.pw</a><li> Gitlab: <a href="https://gitlab.com/willypillow">WillyPillow</a><li> BitBucket: <a href="https://bitbucket.org/WillyPillow">WillyPillow</a><li> Github: <a href="https://github.com/WillyPillow">WillyPillow</a><li> Diaspora*: <a href="https://diasporing.ch/people/7abf8850bce50134011e7a163e59d8f4">WillyPillow</a><li> Reddit: <a href="https://www.reddit.com/user/WillyPillow/">WillyPillow</a><li>Bitcoin: 15ii2SMbgZSyzKxVSYwim7KtT2uqdSdjVm<li>Namecoin: NES89UkGDutphGbVYNUkGkQuRGs6vFQk6h</ul></footer>
