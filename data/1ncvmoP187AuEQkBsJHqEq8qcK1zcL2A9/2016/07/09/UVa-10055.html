<!DOCTYPE html><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title> UVa10055 And Cin</title><meta name="description" content=" I’ve stumbled upon UVa10055 Hashmat The Brave Warrior just now. "><link rel="stylesheet" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/assets/main.css"><link rel="canonical" href="http://127.0.0.1:43110/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/09/UVa-10055.html"><link rel="alternate" type="application/rss+xml" title="Nerde Nolzda" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/feed.xml"><header role="banner"> <a class="site-title" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/">Nerde Nolzda</a><nav> <a href="#" class="menu-icon">&#9776;</a><div class="trigger"> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/about/">About</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/keys/">Keys</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/mirrors/">Mirrors</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/">Tags</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/feed.xml">RSS</a></div></nav></header><main><article itemscope itemtype="http://schema.org/BlogPosting"><header><h1 itemprop="name headline"> <a itemprop="mainEntityOfPage url" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/09/UVa-10055.html"> UVa10055 And Cin </a></h1><p class="post-meta"> <time datetime="2016-07-09T20:42:47+08:00" itemprop="datePublished"> Jul 9, 2016 </time> • <time datetime="2018-06-02T22:24:20+08:00" itemprop="dateModified"> Jun 2, 2018 </time> • <span itemprop="author publisher" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">WillyPillow</span> </span> • <span itemprop="keywords"> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/en.html" rel="tag">en</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/uva.html" rel="tag">UVa</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/competitive-coding.html" rel="tag">competitive-coding</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/cpp.html" rel="tag">cpp</a></span> • <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/sigs/posts/2016-07-09-UVa-10055.md.asc"> Signature </a></p></header><div itemprop="articleBody text"><p>I’ve stumbled upon <a href="https://uva.onlinejudge.org/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;problem=996">UVa10055 Hashmat The Brave Warrior</a> just now.</p><p>Now, don’t get me wrong. It’s a simple question, but</p><ul><li>seeing the AC count on my UVa account increase is blissful, and<li>I wanted to find faster ways to solve it.</ul><p>My first submission is basically the following (forgot to optimize iostream though):</p><pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
  long long a, b;
  while (std::cin &gt;&gt; a &gt;&gt; b) {
    std::cout &lt;&lt; ((a &gt; b) ? (a - b) : (b - a)) &lt;&lt; "\n";
  }
}
</code></pre><p>The execution time was 0.280 seconds, which wasn’t so great. Since the maximum input was 2^32 (literally <code>UINT_MAX + 1</code> on most platforms), using <code>long long</code> on it seemed to be a waste, especially when I didn’t know if the server was 32-bit or 64-bit.</p><p>Anyway, I wrote the following:</p><pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
  // iostream optimize
  std::cin.tie(0);
  std::ios_base::sync_with_stdio(0);
  unsigned int a, b;
  // Cin first so we could call cin.eof() later
  std::cin &gt;&gt; a;
  while (!std::cin.eof()) {
    unsigned int ans;
    if (std::cin.fail()) {
      // If overflow ( a == pow(2, 32) )
      std::cin.clear();
      std::cin &gt;&gt; b;
      if (std::cin.fail()) {
        // If ( a == b == pow(2, 32) )
        std::cin.clear();
        std::cout &lt;&lt; "0";
      } else if (b == 0) {
        std::cout &lt;&lt; "4294967296";
      } else {
        // Underflow on purpose to get (2^32 - b)
        std::cout &lt;&lt; -b;
      }
    } else {
      std::cin &gt;&gt; b;
      if (std::cin.fail()) {
        // If ( b == pow(2, 32) )
        std::cin.clear();
        if (a == 0) {
          std::cout &lt;&lt; "4294967296";
        } else {
          // Underflow on purpose
          std::cout &lt;&lt; -a;
        }
      } else {
        std::cout &lt;&lt; ((a &gt; b) ? (a - b) : (b - a));
      }
    }
    std::cout &lt;&lt; "\n";
    std::cin &gt;&gt; a;
  }
}
</code></pre><p>And got a time of 0.020 seconds. Now, I wondered what results I’ll get if I went back to <code>long long</code>, keeping the iostream optimizations.</p><pre><code class="language-cpp">#include &lt;iostream&gt;

int main() {
  std::cin.tie(0);
  std::ios_base::sync_with_stdio(0);
  long long a, b;
  while (std::cin &gt;&gt; a &gt;&gt; b) {
    std::cout &lt;&lt; ((a &gt; b) ? (a - b) : (b - a)) &lt;&lt; "\n";
  }
}
</code></pre><p>And the time was STILL 0.020. Turned out that it didn’t make a big difference.</p><p>Anyway, I might dig out the <a href="https://bitbucket.org/snippets/WillyPillow/7KGXn">extremely optimized version</a> of input and atoi that I wrote some time ago, and give that a try in the future.</p></div><div><h1>Related Posts</h1><ul><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/08/12/uva108-maximum-sum.html"> UVa108: Maximum Sum </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/08/12/uva10696-f91.html"> UVa10696: f91 </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/08/12/uva10298-power-strings.html"> UVa10298: Power Strings </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/08/12/uva455-periodic-strings.html"> UVa455: Periodic Strings </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/08/09/uva299-train-swapping.html"> UVa299: Train Swapping </a></ul></div><div><h1><span itemprop="commentCount">0</span> comments</h1><h2>Post a comment</h2><p> Send an email to <a href="mailto:comment@nerde.pw">comment@nerde.pw</a>.</p></div></article></main><footer itemscope itemtype="http://schema.org/Person"><ul><li itemprop="name">WillyPillow<li><a itemprop="email" href="mailto:wp@nerde.pw">wp@nerde.pw</a><li> Gitlab: <a href="https://gitlab.com/willypillow">WillyPillow</a><li> BitBucket: <a href="https://bitbucket.org/WillyPillow">WillyPillow</a><li> Github: <a href="https://github.com/WillyPillow">WillyPillow</a><li> Diaspora*: <a href="https://diasporing.ch/people/7abf8850bce50134011e7a163e59d8f4">WillyPillow</a><li> Reddit: <a href="https://www.reddit.com/user/WillyPillow/">WillyPillow</a><li>Bitcoin: 15ii2SMbgZSyzKxVSYwim7KtT2uqdSdjVm<li>Namecoin: NES89UkGDutphGbVYNUkGkQuRGs6vFQk6h</ul></footer>
