<!DOCTYPE html><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title> ZeroJudge: a013 羅馬數字</title><meta name="description" content=" 必須考慮到補數…等情形。 We need to consider situations such as complements …etc. "><link rel="stylesheet" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/assets/main.css"><link rel="canonical" href="http://127.0.0.1:43110/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/30/zerojudge-a013.html"><link rel="alternate" type="application/rss+xml" title="Nerde Nolzda" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/feed.xml"><header role="banner"> <a class="site-title" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/">Nerde Nolzda</a><nav> <a href="#" class="menu-icon">&#9776;</a><div class="trigger"> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/about/">About</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/keys/">Keys</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/mirrors/">Mirrors</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/">Tags</a> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/feed.xml">RSS</a></div></nav></header><main><article itemscope itemtype="http://schema.org/BlogPosting"><header><h1 itemprop="name headline"> <a itemprop="mainEntityOfPage url" href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/30/zerojudge-a013.html"> ZeroJudge: a013 羅馬數字 </a></h1><p class="post-meta"> <time datetime="2016-07-30T10:09:03+08:00" itemprop="datePublished"> Jul 30, 2016 </time> • <time datetime="2018-06-02T22:24:45+08:00" itemprop="dateModified"> Jun 2, 2018 </time> • <span itemprop="author publisher" itemscope itemtype="http://schema.org/Person"> <span itemprop="name">WillyPillow</span> </span> • <span itemprop="keywords"> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/en.html" rel="tag">en</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/zh.html" rel="tag">zh</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/bilingual.html" rel="tag">bilingual</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/zerojudge.html" rel="tag">zerojudge</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/c.html" rel="tag">c</a>, <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/tag/competitive-coding.html" rel="tag">competitive-coding</a></span> • <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/sigs/posts/2016-07-30-zerojudge-a013.md.asc"> Signature </a></p></header><div itemprop="articleBody text"><p>必須考慮到補數…等情形。<br /> We need to consider situations such as complements …etc.</p><p><a href="http://zerojudge.tw/ShowProblem?problemid=a013">ZeroJudge Link (Zh)</a></p><pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;math.h&gt;
#include &lt;string.h&gt;

#define LENGTH 7
char roman[] = "IVXLCDM";
int base10[] = {1, 5, 10, 50, 100, 500, 1000};

int rom2Num(char *str);
void num2Rom(int num, char *out);

main() {
  char str1[100], str2[100], out[100];
  int iRes;
  while (scanf("%s", str1) != EOF &amp;&amp; str1[0] != '#') {
    scanf("%s", str2);
    iRes = abs(rom2Num(str1) - rom2Num(str2));
    num2Rom(iRes, out);
    printf("%s\n", iRes ? out : "ZERO");
  }
  return 0;
}

int rom2Num(char *str) {
  int ptr, num = 0, isCom = 1;
  for (ptr = 0; ptr &lt; strlen(str); ptr++) {
    if (ptr + 1 &lt; strlen(str) &amp;&amp;
        strchr(roman, str[ptr]) &lt; strchr(roman, str[ptr+1]))
      isCom = -1;
    else isCom = 1;
    num += isCom * base10[strchr(roman, str[ptr]) - roman];
  }
  return num;
}

void num2Rom(int num, char *out) {
  int i, repeat = 0;
  for (i = LENGTH-1; i &gt;= 0; i--) {
    if (num &gt;= base10[i]) {
      *(out++) = roman[i];
      num -= base10[i];
      i++; repeat++; continue;
    } else if (repeat &gt;= 4) {
      if (*(out - 5) == roman[i+1]) {
        *(out -= 5) = roman[i];
        out++;
        *(out++) = roman[i+2];
      } else {
        *(out -= 3) = roman[i+1];
        out++;
      }
    }
    repeat = 0;
  }
  *out = '\0';
}
</code></pre></div><div><h1>Related Posts</h1><ul><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/30/zerojudge-d049.html"> ZeroJudge: d049 中華民國萬歲！ </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/30/zerojudge-a095.html"> ZeroJudge: a095 麥哲倫的陰謀 </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/30/zerojudge-a053.html"> ZeroJudge: a053 Sagit's 計分程式 </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/30/zerojudge-a042.html"> ZeroJudge: a042 平面圖形切割 </a><li> <a href="/1ncvmoP187AuEQkBsJHqEq8qcK1zcL2A9/2016/07/30/zerojudge-a040.html"> ZeroJudge: a040 阿姆斯壯數 </a></ul></div><div><h1><span itemprop="commentCount">0</span> comments</h1><h2>Post a comment</h2><p> Send an email to <a href="mailto:comment@nerde.pw">comment@nerde.pw</a>.</p></div></article></main><footer itemscope itemtype="http://schema.org/Person"><ul><li itemprop="name">WillyPillow<li><a itemprop="email" href="mailto:wp@nerde.pw">wp@nerde.pw</a><li> Gitlab: <a href="https://gitlab.com/willypillow">WillyPillow</a><li> BitBucket: <a href="https://bitbucket.org/WillyPillow">WillyPillow</a><li> Github: <a href="https://github.com/WillyPillow">WillyPillow</a><li> Diaspora*: <a href="https://diasporing.ch/people/7abf8850bce50134011e7a163e59d8f4">WillyPillow</a><li> Reddit: <a href="https://www.reddit.com/user/WillyPillow/">WillyPillow</a><li>Bitcoin: 15ii2SMbgZSyzKxVSYwim7KtT2uqdSdjVm<li>Namecoin: NES89UkGDutphGbVYNUkGkQuRGs6vFQk6h</ul></footer>
