
<!DOCTYPE html>

<html>
<head>
 <title>ConObs on ZeroNet</title>
 <meta charset="utf-8">
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <base href="" target="_top" id="base">
 <script>base.href = document.location.href.replace("/media", "").replace("index.html", "").replace(/[&?]wrapper=False/, "").replace(/[&?]wrapper_nonce=[A-Za-z0-9]+/, "")</script>
 <style>
    section div
    {
        margin: 0 auto;
        width: 70%;
    }
    
    article footer
    {
        font-size: 12px;
    }
</style>
</head>
<body>

<section>
    <div>
        <h1>Welcome to ConObs on ZeroNet</h1>
        <article>
            <header>
                <h1>
                    Yeah, it's a little sparse at the moment
                </h1>
            </header>
            <p>
                First time running a new custom site on here, and under a .bit domain to boot!
            </p>
            <p>
                <a href="/blog.conobs.bit/">The Blog</a>
            </p>
            <p>
                <a href="/ZeroMedium.bit/?/1AjJqGb8AmPfgD62kEBBtqhg2hYDW5zner">ConObs over @ ZeroMedium</a>
            </p>
            <footer>
                <span>
                    ZeroMail: conobs@zeroid.bit
                    <br /><br />
                    Bitcoin: <a href="bitcoin:1AjJqGb8AmPfgD62kEBBtqhg2hYDW5zner?message=Donation to Conscious Observer">1AjJqGb8AmPfgD62kEBBtqhg2hYDW5zner</a>
                    <br /><br />
                    Namecoin: NJEdqurYwrmxAdWbubxW6SXhoyyBzBCPDp
                </span>
            </footer>
        </article>
    </div>
</section>

<script type="text/javascript" src="js/ZeroFrame.js"></script>
<script>

class Page extends ZeroFrame {
	setSiteInfo(site_info) {
		var out = document.getElementById("out")
		out.innerHTML =
			"Page address: " + site_info.address +
			"<br>- Peers: " + site_info.peers +
			"<br>- Size: " + site_info.settings.size +
			"<br>- Modified: " + (new Date(site_info.content.modified*1000))
	}

	onOpenWebsocket() {
		this.cmd("siteInfo", [], function(site_info) {
			page.setSiteInfo(site_info)
		})
	}

	onRequest(cmd, message) {
		if (cmd == "setSiteInfo")
			this.setSiteInfo(message.params)
		else
			this.log("Unknown incoming message:", cmd)
	}
}
page = new Page()
</script>

</body>
</html>
