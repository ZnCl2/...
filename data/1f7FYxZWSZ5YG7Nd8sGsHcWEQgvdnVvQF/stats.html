<!-- Copyright (C) RVRE Team 2016 -->
<!-- Stats backend for data mapping -->
<!-- Currently only gives out peer count -->
<html>

<head>
    <title>RVRE</title>
    <script type="text/javascript" src="js/ZeroFrame.js"></script>
    <script>
        class Rare extends ZeroFrame {
          onOpenWebsocket(){
            this.cmd("siteInfo", {}, (function(_this) {
              return function(site_info) {
                var searches = 0;
                document.getElementById("stats").innerHTML = "peers:" + site_info.peers + ",searches:" + searches;
                return _this.log("Site info:", site_info);
              };
            })(this));
          }
        }
        page = new Rare();
    </script>
</head>

<body>
    <p id="stats"></p>
</body>

</html>
