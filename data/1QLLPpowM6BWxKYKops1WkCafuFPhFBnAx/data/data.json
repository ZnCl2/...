{
	"title": "muja's blog",
	"description": "**Same language, different code**",
	"links": "Things to see:\n\n- [ZeroMe+](http://127.0.0.1:43110/1Lj1oPcN7oZQL8HkS5KbkzQuKqs42zQWY6/?Profile/12h51ug6CcntU2aiBjhP8Ns2e5VypbWWtv/17i7Y7r8nTaCfLbCAuaKyc4R5BbKZYU2Hr/muja@zeroid.bit)\n\n- [ZeroMail](http://127.0.0.1:43110/1MaiL5gfBM1cyb4a8e3iiL8L5gXmoAJu27/?to=muja)\n\n- [PGP Key](http://127.0.0.1:43110/1QLLPpowM6BWxKYKops1WkCafuFPhFBnAx/data/muja.txt)\n\n-\n\nSites I published: \n- [QR Code Generator](http://127.0.0.1:43110/1DrX4tBjLbCCzmFzgASSEEkj4TisnU2JBb)\n\n- [Time](http://127.0.0.1:43110/14PXVfjDXiQm6o6qCEX487WPYdLgefjCXe)\n\n- [Street Art](http://127.0.0.1:43110/18pRWVHHojR2DjfYQvuLe3GBtB1W32Hwbb)\n\n- [Street Art (IPFS)](http://127.0.0.1:43110/1L8ujYEH24bg7QTJaqe9h6LEi5GQxkvhiG)\n\n- [Concept for ZeroNet Docs](http://127.0.0.1:43110/1jVJjppSiP1g7XEocHd3UB5Yb5qAfQyMy)\n\n- [ZeroNet Docs](http://127.0.0.1:43110/17Kom2G5qNDc6NaQwv445h1gFzxkY3ZtZe/)\n\n- [Git Guide](http://127.0.0.1:43110/19WuEyeiN9tNqnDCAgNUovbBot6N3WcK2v)",
	"next_post_id": 9,
	"demo": false,
	"modified": 1477675091,
	"post": [
		{
			"post_id": 8,
			"title": "Delete Unwanted Sites (zites)",
			"date_published": 1477614170.4,
			"body": "Bash script to delete sites with user interaction.\n\n---\n\n[Script on NullPaste](http://127.0.0.1:43110/1MgHVPCE1ve6QfKrgsqCURzRj72HrRWioz/?17i7Y7r8nTaCfLbCAuaKyc4R5BbKZYU2Hr_27)\n\n```\n#!/bin/bash\n\nfor i in 1*; do\n    echo \"\"\n    grep --color=auto \"description\" $i/content.json\n    grep --color=auto \"title\" $i/content.json\n    try=\"True\"\n    while [ \"$try\" = \"True\" ]; do\n        echo \"\"\n        read -p \"Delete? (yes/no) \" rd_cln\n        if [ -z \"$rd_cln\" ]; then\n            rd_cln=\"no\"\n        fi\n        if [ \"$rd_cln\" = \"yes\" ] || [ \"$rd_cln\" = \"y\" ]; then\n            echo \"Deleted\"\n            rm -rf $i\n            try=\"False\"\n        elif [ \"$rd_cln\" = \"no\" ] || [ \"$rd_cln\" = \"n\" ]; then\n            try=\"False\"\n        elif [ \"$rd_cln\" = \"ls\" ]; then\n            ls -lAh $i\n            try=\"True\"            \n        fi\n    done\ndone\n\n```"
		},
		{
			"post_id": 7,
			"title": "ZeroVerse support",
			"date_published": 1459011484.945,
			"body": "This blog now accepts certificates created by the [ZeroVerse](http://127.0.0.1:43110/1HPgDoReCFtE9qy71hnp55ksBVvV1gHJLQ) authority.\n\nIf this feature is not working, try cleaning your cache or use `CTRL + SHIFT + R` on the [js/all.js](./js/all.js) file."
		},
		{
			"post_id": 6,
			"title": "Save and restore scroll position",
			"date_published": 1458601536.166,
			"body": "You're reading a blog post. You see an interesting link. You click it. The page changes, you go back but now you're at the top of the post.\n\nNot anymore.\n\n---\n\nWith the code that I will share with you, refreshing a page or going back to it will take you to the last spot you left it.\n\nThis feature came from [a commit](https://github.com/HelloZeroNet/ZeroTalk/commit/932bb195010dfbf1ff29efe36390c1d6c65ab982) from [ZeroTalk](http://127.0.0.1:43110/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT). ([see it on NullPaste](http://127.0.0.1:43110/1MgHVPCE1ve6QfKrgsqCURzRj72HrRWioz/?17i7Y7r8nTaCfLbCAuaKyc4R5BbKZYU2Hr_17))\n\nEdit your `js/all.js` file.\n\nSearch for `this.next_message_id = 1;` and add `this.history_state = {};` in the line after it.\n\nSearch for `return this.cmd(\"innerReady\");` and *replace* it with:\n\n```\nthis.cmd(\"innerReady\");\n      window.addEventListener(\"beforeunload\", (function(_this) {\n        return function(e) {\n          _this.log(\"save scrollTop\", window.pageYOffset);\n          _this.history_state[\"scrollTop\"] = window.pageYOffset;\n          return _this.cmd(\"wrapperReplaceState\", [_this.history_state, null]);\n        };\n      })(this));\n      return this.cmd(\"wrapperGetState\", [], (function(_this) {\n        return function(state) {\n          if (state != null) {\n            _this.history_state = state;\n          }\n          _this.log(\"restore scrollTop\", state, window.pageYOffset);\n          if (window.pageYOffset === 0 && state) {\n            return window.scroll(window.pageXOffset, state.scrollTop);\n          }\n        };\n      })(this));\n```\n\nIf this feature is not working, try cleaning your cache or use `CTRL + SHIFT + R` on the [js/all.js](./js/all.js) file."
		},
		{
			"post_id": 5,
			"title": "ZeroCommands",
			"date_published": 1457286235.82,
			"body": "If you read my past posts, you'll see that I'm a huge fan of aliases. \n\nOn this post I will, over time, publish all zeronet-related aliases that I can make.\n\n---\n\n**Last update**: 9 March, 2016.\n\n* [Start](http://127.0.0.1:43110/1QLLPpowM6BWxKYKops1WkCafuFPhFBnAx/?Post:1:Starting+ZeroNet+with+a+script) ZeroNet: `alias 0='gnome-terminal -x ~/code/zeronet/start.sh'`\n\n* Your user: `alias zuser='grep -s \\\"auth_user_name\\\" /path/to/zeronet/data/users.json'`\n\n* [Change](http://127.0.0.1:43110/1QLLPpowM6BWxKYKops1WkCafuFPhFBnAx/?Post:4:Changing+and+encrypting+ZeroIds) your user: `alias zch='~code/zeronet/changer.sh'`\n\n* Go to ZeroNet folder: `alias zerogo='cd /path/to/zeronet'` or `alias zg='cd /path/to/zeronet'`\n\n* Go to data folder of ZeroNet: `alias zerogodata='cd /path/to/zeronet/data'` or `alias zgd='cd /path/to/zeronet/data'`\n\n* Sign site's content: `alias zs='python zeronet.py siteSign'`\n\n* Publish site: `alias zp='python zeronet.py sitePublish'`\n\n* Create site: `alias zsc='python zeronet.py siteCreate'`\n\n* [Stop](http://127.0.0.1:43110/1QLLPpowM6BWxKYKops1WkCafuFPhFBnAx/?Post:2:Stopping+ZeroNet+with+a+script) ZeroNet: `alias zstop='~/code/zeronet/stop.sh'`"
		},
		{
			"post_id": 4,
			"title": "Changing and encrypting ZeroIds",
			"date_published": 1457222010.16,
			"body": "You've been reading about this encryption thing, but what can you use it for?\n\nI've seen that lots of people want to know how to change their ZeroId, so I made a script that will encrypt your current user, decrypt your other user and then change your user. Sounds good?\n\n---\n\nIf you use anything that's not Linux (or maybe Mac), then this won't work for you. You should try Linux, it's what cool people use this days ( :P ) and you don't need to uninstall your current operating system. A lot of people recommend  *Linux Mint* for beginners.\n\nThis \"tutorial\" assumes that your ZeroNet client is not running and that you have two users.json files both registered with ZeroIds. Simply move your current file to another folder and a new one will be created when you start ZeroNet (or maybe even while running).\n\nFirst thing you gotta do is get yourself some encryption keys. \n\nA few notes before:\n\nThe majority of people [citation needed] (;P) advertise against RSA-4096 (that's the size of the key in bits) saying that it's unnecessary since you gain less and less security as your key size increases (see [Diminishing returns](https://en.wikipedia.org/wiki/Diminishing_returns)). My take is that you can't have too much of a good thing (how naive). But read [this](https://www.gnupg.org/faq/gnupg-faq.html#no_default_of_rsa4096) to see why they say it's unnecessary.\n\n**Pro-tip**: since we are going to use these keys for scripts, give it some simple, one word name, it'll help later. \n\nSo, when they ask you for your ***Real name***, call it **Scripts**.\n\nRun `gpg --gen-key`\n\nNice!\n\nNow, before I give you the script, make a folder where you will save your encrypted ZeroIds. For example `/home/muja/backups/zeronet/users` or whatever works best for you. Just remember to put it on the script bellow.\n\nOpen a text editor and paste the second code-block (not changer.sh) on it.\n\n`changer.sh`\n```bash\n#!/bin/bash\n\n# Backup current user\n\nmkdir -p /tmp/zeronet/users/$1 > /dev/null 2>&1\ncp /path/to/zeronet/data/users.json /tmp/zeronet/users/$1/users.json\ncp /path/to/zeronet/data/sites.json /tmp/zeronet/users/$1/sites.json\ncd /tmp/zeronet/users\nzip -rq $1.zip $1/ > /dev/null 2>&1\ngpg --yes -r Scripts -o /home/muja/backups/zeronet/users/$1.zip.asc -aes /tmp/zeronet/users/$1.zip\nrm -f $1.zip\nrm -rf $1/\n\n# Change user\n\ngpg -o /tmp/zeronet/users/$2.zip /home/muja/backups/zeronet/users/$2.zip.asc\nunzip $2.zip  > /dev/null 2>&1\ncp $2/users.json /path/to/zeronet/data/users.json\nrm -f $2.zip\nrm -rf $2/\n\n```\n\nAfter you make the necessary changes (the path to your zeronet folder, the backup folder, your key name...) give the script permissions to run, like so:\n\n`chmod 755 changer.sh`\n\nGet an alias to call your script, like so:\n\n`echo \"alias zch='/path/changer.sh'\" >> ~/.bashrc`\n\nRun the script (`zch muja muja`). Change muja to your user (yes, two times).\n\nCool, your user (and your sites list) should be encrypted on `/home/muja/backups/zeronet/users/muja.zip.asc`.\n\nNow put your other user on `/path/to/zeronet/data/users.json` and run the command again, but this time calling your other user:\n\n`zch othermuja muja`\n\nThe first is your current user and the second is the one you want to change to.\n\nThis script is a lot simpler than it might look. If anyone tried doing this and it did not work, make sure you changed these things:\n\n```bash\n/path/to/zeronet # Path to your zeronet folder\nScripts # Your Real name on your key\n/home/muja/backups/zeronet/users #The place to save your users\n```\n\nThere's also the chance that I, while adapting this code for publishing, may have made some errors. So feel free to comment bellow or send me a [ZeroMail](http://127.0.0.1:43110/1MaiL5gfBM1cyb4a8e3iiL8L5gXmoAJu27/?to=muja).\n\nIt's very unlikely that someone will do this since it's such a niche thing, I just wanted to publish it anyway :)"
		},
		{
			"post_id": 3,
			"title": "Using .bit domains",
			"date_published": 1457207777.835,
			"body": "If you got a .bit doman, that's cool!\n\n---\n\nNow you need to add ` \"domain\": \"yourAdress.bit\",` to your `content.json` file.\n\nHere's an example from [ZeroBlog](http://127.0.0.1:43110/1BLogC9LN4oPDcruNz3qo1ysa133E9AGg8)'s [content.json](http://127.0.0.1:43110/1BLogC9LN4oPDcruNz3qo1ysa133E9AGg8/content.json):\n\n```\n \"description\": \"Blogging platform Demo\",\n \"domain\": \"Blog.ZeroNetwork.bit\",\n```\n\nNow clicking on your site from [ZeroHello](http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D) will open your *.bit* doman."
		},
		{
			"post_id": 2,
			"title": "Stopping ZeroNet with a script",
			"date_published": 1456791784.174,
			"body": "Because sometimes `CTRL + C` is not the best option.\n\n---\n\nThis will only work if you have something like [zero.sh](http://127.0.0.1:43110/1QLLPpowM6BWxKYKops1WkCafuFPhFBnAx/?Post:1:Starting+ZeroNet+with+a+script) already.\n\nAs usual you can save some typing by using an alias, like so:\n\n```shell\necho \"alias zstop='/path/stop.sh'\" >> ~/.bashrc\n```\n\nAnd here's the script:\n\n`stop.sh`\n```shell\n#!/bin/bash\n\ncd ~code/zeronet\nzeroPID=$( pgrep zero.sh )\n\nif [ $zeroPID ]\nthen\n    kill -INT -$zeroPID\n    echo \"ZeroNet has stopped\"\nelse\n    echo \"ZeroNet is not running\"\nfi\n```\n\nFor some reason `pgrep` doesn't work with absolute paths, hence the cd."
		},
		{
			"post_id": 1,
			"title": "Starting ZeroNet with a script",
			"date_published": 1456786639,
			"body": "This script will minimize the terminal, pull the latest commits and then start the client.\n\n---\n\nTo make it work even better, call the script in a new terminal. Here's an alias, but keep in mind that I use the gnome terminal so you might need to adapt this to the one you use.\n\n```\necho \"alias zero='gnome-terminal -x /path/zero.sh'\" >> ~/.bashrc\n```\n\nNow that you have an easy and nice way of calling your script, let's create the actual script, here it is:\n\n[zero.sh](http://127.0.0.1:43110/1MgHVPCE1ve6QfKrgsqCURzRj72HrRWioz/?17i7Y7r8nTaCfLbCAuaKyc4R5BbKZYU2Hr_22) (**0.0.4**)\n```\n#!/bin/bash\n\nsleep 1\nminWindow() { xdotool getactivewindow windowminimize\n}\ncd /path/to/zeronet\n\nif [ $1 ]; then\n    if [ $1 == \"disable\" ]; then\n    minWindow\n    python zeronet.py --tor $1\n    elif [ $1 == \"no-git\" ]; then\n    minWindow\n    python zeronet.py --tor always\n    else\n    echo \"Updating repository...\"\n    git pull origin master\n    echo \" \"\n    minWindow\n    python zeronet.py --tor $1\n    fi\nelse\necho \"Updating repository...\"\ngit pull origin master\necho \" \"\nminWindow\npython zeronet.py --tor always\nfi\n```\n\nThat's it."
		}
	]
}