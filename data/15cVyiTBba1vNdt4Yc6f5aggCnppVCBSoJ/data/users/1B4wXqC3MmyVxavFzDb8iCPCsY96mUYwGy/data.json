{
	"next_topic_id": 9,
	"next_comment_id": 12,
	"topic": [
		{
			"topic_id": 1,
			"comment_id": 1,
			"title": "区块链的认识误区",
			"cid": 1,
			"resume": "年后，好些朋友与我聊起关于区块链的相关话",
			"added": 1521573697502
		},
		{
			"topic_id": 3,
			"comment_id": 3,
			"title": "实战ZeroNet，学习新思维",
			"cid": 2,
			"resume": "ZeroNet的P2P模式致使必须换一个",
			"added": 1522053847094
		},
		{
			"topic_id": 4,
			"comment_id": 4,
			"title": "区块链的几大共识机制及优缺点",
			"cid": 1,
			"resume": "**首先说明，没有一种共识机制是完美无缺",
			"added": 1522183523660
		},
		{
			"topic_id": 5,
			"comment_id": 5,
			"title": "UOC去中心化的游戏区块链",
			"cid": 1,
			"resume": "**UOC去中心化的游戏区块链**  \n",
			"added": 1522644328170
		},
		{
			"topic_id": 6,
			"comment_id": 9,
			"title": "ZeroNet如何获取站点信息",
			"cid": 2,
			"resume": "**当用户访问ZeroNet的某个站点，",
			"added": 1528090076120
		},
		{
			"topic_id": 7,
			"comment_id": 10,
			"title": "ZeroNet的用户发帖为什么需要注册",
			"cid": 2,
			"resume": "**ZeroNet的用户发帖为什么需要在",
			"added": 1528765773415
		},
		{
			"topic_id": 8,
			"comment_id": 11,
			"title": "ZeroNet代码学习",
			"cid": 2,
			"resume": "ZeroNet中主要分为FileServ",
			"added": 1528770941811
		}
	],
	"topic_vote": {},
	"comment": {
		"1_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy": [
			{
				"id": 1,
				"uri": "1_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "年后，好些朋友与我聊起关于区块链的相关话题，应该是区块链突然暴火的缘故吧。在聊天中，对于区块链概念认识，分歧还是有的。我尝试解释一下可能的理解误区。  \n\n**１、区块链帐号和密码**  \n\n几乎所有的人都知道区块链的帐号和密码需要保护好，千万不能丢了，丢了之后，没有任何人可以帮你找回，那么这个认知是毫无问题的，但是在继续聊起区块链应用的时候，出现了很大的分歧。  \n\n**某基于区块链的产品，居然需要手机号进行注册**  \n\n我滴上帝啊，一个去中心化的产品，居然是由APP运营厂商来给我提供一个帐号和密码，然后说这个帐号密码它还不知道。简直就是笑话好吧。  \n\n其实在区块链产品中，其实是没有帐号和密码的说法，它只是一串网络地址(utxo)，可能是为了让众多的人理解，于是沿用了“帐号密码”这个单词而已。好比比特币或者比特信(bitmessage)，在脱网环境下，也是你自己想创建多少帐号就创建多少。  \n\n所以请一定记住，**那些帮你生成所谓帐号和密码的区块链应用，均为伪区块链应用**。  \n\n**2、去中心化和匿名**  \n\n总有人担心去中心化意味着这个政府机构的权利被削弱或干脆没了，例如在去中心化的社交产品中可以为所欲为的发言了。  \n\n其实去中心化和匿名完全风马牛不相及，如果你不使用匿名，那么你在去中心化的产品上无论是发言，上传影视文学作品，就意味着你所说所做的一切都将被记录在案且无法被篡改。这个是一条所有人都可以鉴证并查看的完整证据链。除非脑子生锈的人，才会非匿名状态下在去中心化的区块链产品上做违法的事情吧。  \n\n记住：**去中心化不是匿名**。  \n\n**３、区块链应用场景需求**  \n\n从用户需求的角度来看，区块链可以应用到很多行业，但是就成本而言，那么就不一定合适了。区块链产品落地，共识成本很高，也就是说确认一个行为或一笔交易是否违规，需要额外支付很高的费用。好比现在用比特币购买一斤白菜，你当下至少需要支付10倍的手续费用。现在是这样，今后将来也会是这样的，除非将来比特币被某大集团掌握，似乎这样就又回到了中心化的框框内了。  \n\n我觉得除非暴利行业，例如黑市交易需求，不太在意这比交易费，否则区块链应用落地会比较难。信任是要付出昂贵代价的，无论是去中心化还是非去中心化。",
				"added": 1521573697502
			}
		],
		"3_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy": [
			{
				"id": 3,
				"uri": "3_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "ZeroNet的P2P模式致使必须换一个全新的思路来编写论坛，非常佩服ZeroNet作者的思维模式。  \n\n基于C/S模式的论坛，几乎都是category包含topic包含post来构造一个论坛的，于是所有的数据库模式都是一致向下的，而这个模式是完全无法适用与P2P模式的，因为它没有可以依照的次序，每个用户只能撰写自己的区块内容，然要把这些重新组织再呈现出来，没有ZeroNet作者的思维借鉴，我肯定是想不出的。  \n\n目前你所见的这个论坛，仅不过是ZeroTalk的风格有些不同而已，只是论坛分区和置顶的模式，我略换了一个方法。  \n\n**一、基于站点的用户**  \n也许站点希望更灵活的为不同的用户提供特色服务，也期望尽量避免恶意行为。由于ZeroNet本身所提供的机制相对比较简单，所以想做到这些，目前的方法有些繁杂。  \n\n首先，默认所有用户都可以发言，但在没有得到允许的情况下，之允许发送极少量的字符。因为ZeroNet机制，所以其实任何用户都可以递交信息(如果其修改代码的话)，那么只能靠节点的检查限制字符数功能，让其无法发送一个合法的消息。  \n\n**二、站点用户权限**  \n对于已经授权的用户，建立权限机制，还是由于ZeroNet本身设计的缘故，还是只能为不同的用户设置消息发送大小限制。  \n\n其实做不到完全禁止恶意行为，只是如果有恶意的用户通过修改代码来进行恶意操作，那么通过建立用户权限的机制，可以让该恶意行为，并不能被其他用户看到。  \n\n换句话的意思就是，恶意行为存在，仅影响行为人自己。  \n\n**三、站点管理工具**  \n\n需要编写一个管理员工具，尽可能的自动化处理一些事务。特别是内容和用户权限管理。其次，在编写前端展示代码的时候，必须注意忽略那些可能的恶意内容，在传统的C/S模式下，这些工作都是Server端预判处理过而没有写入数据库的。而现在行不通了，所以只能是客户端去选择忽略那些非法内容。然后由站点管理工具滞后的处理掉那些非法的行为。",
				"added": 1522053847094
			}
		],
		"4_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy": [
			{
				"id": 4,
				"uri": "4_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "**首先说明，没有一种共识机制是完美无缺的，各共识机制都有其优缺点，有些共识机制是为解决一些特定的问题而生。**  \n\n1. POW( Proof of Work）工作量证明  \n````一句话介绍：干的越多，收的越多。````  \n依赖机器进行数学运算来获取记账权，资源消耗相比其他共识机制高、可监管性弱，同时每次达成共识需要全网共同参与运算，性能效率比较低，容错性方面允许全网50%节点出错。  \n优点：  \n1)算法简单，容易实现；\n2)节点间无需交换额外的信息即可达成共识；  \n3)破坏系统需要投入极大的成本；  \n缺点：  \n1)浪费能源；  \n2)区块的确认时间难以缩短；  \n3)新的区块链必须找到一种不同的散列算法，否则就会面临比特币的算力攻击；  \n4)容易产生分叉，需要等待多个确认；  \n5)永远没有最终性，需要检查点机制来弥补最终性；  \n\n2. POS Proof of Stake，权益证明  \n````一句话介绍：持有越多，获得越多。````  \n主要思想是节点记账权的获得难度与节点持有的权益成反比，相对于PoW，一定程度减少了数学运算带来的资源消耗，性能也得到了相应的提升，但依然是基于哈希运算竞争获取记账权的方式，可监管性弱。该共识机制容错性和PoW相同。它是Pow的一种升级共识机制，根据每个节点所占代币的比例和时间，等比例的降低挖矿难度，从而加快找随机数的速度。  \n优点：在一定程度上缩短了共识达成的时间；不再需要大量消耗能源挖矿。  \n缺点：还是需要挖矿，本质上没有解决商业应用的痛点；所有的确认都只是一个概率上的表达，而不是一个确定性的事情，理论上有可能存在其他攻击影响。例如，以太坊的DAO攻击事件造成以太坊硬分叉，而ETC由此事件出现，事实上证明了此次硬分叉的失败。  \n\n3. PBFT ：Practical Byzantine Fault Tolerance，实用拜占庭容错  \n````在保证活性和安全性（liveness & safety）的前提下提供了(n-1)/3的容错性````  \n在 N ≥ 3F + 1 的情况下一致性是可能解决。其中，N为计算机总数，F为有问题计算机总数。信息在计算机间互相交换后，各计算机列出所有得到的信息，以大多数的结果作为解决办法。  \n优点：  \n1）系统运转可以脱离币的存在，pbft算法共识各节点由业务的参与方或者监管方组成，安全性与稳定性由业务相关方保证。  \n2）共识的时延大约在2~5秒钟，基本达到商用实时处理的要求。  \n3）共识效率高，可满足高频交易量的需求。  \n缺点：  \n1)当有1/3或以上记账人停止工作后，系统将无法提供服务；  \n2)当有1/3或以上记账人联合作恶，且其它所有的记账人被恰好分割为两个网络孤岛时，恶意记账人可以使系统出现分叉，但是会留下密码学证据；  \n\nPOS衍生了DPOS，因为POS的权益股东太多，烦请股东选代表来参加股东大会吧，嗯嗯，大概就是这个意思，避免了开会时间过长。  \n\nPBFT衍生了dBFT(国产小蚁)，让记账的人带个牌子进场(数字指纹的身份认证)，丫如果记错了账，回头打屁股的意思吗？嘿嘿。  \n\n看完这些，你有神马共识的设计想法吗？我抛砖引玉，先提出我的想法吧。  \n\n**在意见一致的时候，老公说了算；在发生异议的时候，老婆说了算。**  \n\n能看懂我说的，绝对都是区块链老司机了。",
				"added": 1522183523660
			}
		],
		"5_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy": [
			{
				"id": 5,
				"uri": "5_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "**UOC去中心化的游戏区块链**  \nUltimate Online Chain For Game  \n\n这个世界上没有比赌徒更渴望公平公证的人  \n作者：罗汉果  \n\n**问题：一副牌，ABC三人想玩德州扑克游戏，相互不信任，也不相信任何第三方，在此前提下，请在“每一步都完全可信的环境”中，完成洗牌和发牌流程的设计。**  \n\n在去中心化的项目中，放在第一要素的问题就是利用技术手段去解决信任。现实生活中，信任的成本很高且还不一定达成需求。好比要说服彩民相信有公证人员参与的出号方式是可信的；又好比网络游戏运营商想让玩家相信开宝箱的几率是不会作弊的；再好比马上要开始的世界杯足球赛，那是绝对不可能有球队踢假球的……等等等等。  \n\n在区块链项目中，利用技术实现了一个数字化的不可篡改的链式账本，这是一种数据存储模式，每个账本中记录了完全可信的交易行为。为什么说这些交易行为是可信的，是因为在这些记录写入账本前是经过所有人点头认可的。  \n\n文档第一段的那道题，想描述的意思就是，如果没有有效机制去确保信任，那么这个游戏就没有办法玩下去了。当然这道题的答案也是UOC之所以能支持网络游戏运行的数学基础。  \n\n**所以可信、可信、可信才是一切社会活动的基石。**  \n\n一、共识机制是所有去中心化区块链项目的核心问题，是只要涉及区块链就必须得说清楚的东西。  \n\n共识机制在区块链中是干嘛用的呢？如果你我不能对这个单词达成一致认识，接下来的内容肯定是鸡同鸭讲了。先抛出一个是与非的选择题吧。  \n\nQ:区块链的共识机制是为了证明记账人没有把帐记错，是这样的吗？  \n\nA:不是这样的。补充解释，共识机制是一种尽量不要让太多人来参与记账权争夺的方法。  \n\n如果你的看法和我差不多一致，那么直接跳过本小结。为什么会有这样的问题呢，是因为我的一个同事拿着某百科“权威”的论点，跟和我争论了很久。  \n\n百科是这么描述的：\n````  \n如果中国一名微博大V、美国一名虚拟币玩家、一名非洲留学生和一名欧洲旅行者互不相识，但他们都一致认为你是个好人，那么基本上就可以断定你这人还不坏。````  \n\n而这个解释非常非常的容易让人造成误解，如果是我，我会这么比喻：  \n\n````  \n世界上觉得自己是美女的女人太多了，怎么才能找到一个是大家都公认的美女呢？如果真的都是美女，天下男人还不都挑花了眼啊。有没有什么方法让这些只是自认为是美女的人少一些呢？然后在找就容易一些了嘛。  \n````  \n\n比较一下，能看出两段解释中的差异性吗？  \n１、百科里面用好人这个单词容易让人下意识的以为会有坏人的存在，一旦有了这个观念，想从这个坑里面爬出来很累。我的解释就比较直观了，只有长得好看和不好看的。有人就是觉得凤姐姐好看，你不会打算咬他吧。  \n２、百科描述的是一堆人在认定一个目标。非常不完整，而我的描述通过某种方法海选后，挑出一些让大家继续选。  \n\n我对共识算法的理解是这样理解：所有人都可以递交自己的账本，递交自己账本中的交易记录，即便可能有错误的，没关系，反正会有第二次甄别，不怕。让尽量少的人递交有效账本，这就是共识算法要干的事情，那就是筛选。  \n\n解释完共识机制的概念了，那么总结一下，共识机制的核心作用是“想想尽一切方法，让能参与投票的人数降下来，再降下来。让扯着脖子呼喊各自喜欢明星的粉丝们，都安静些，吃瓜群众着急等着结果呢。  \n\n在了解了共识机制的核心作用后，就容易理解和判断各种区块链选择不同机制的真正意义了。  \n\n各个机制的实现原理我就不一一详术了，你可以搜索到很多技术大牛的详尽解释。各家区块链为什么选择自己认为合适的机制呢？“区块链所选择使用的共识机制，不仅仅是为了效率快慢，而是为了它所服务的内容生态。  \n\n比特币的**工作量证明(PoW,proof of work)**的投票方法绝对是无法被质疑的。尽管效率有些慢，交易手续有些高，但从它诞生的那一日起，它所适用环境的真实用户，不会在乎效率快那么一点，同时有着极高利润的买卖更本不在乎多那么一点点的转账手续费(注：至今天2018年5月8日止的知名区块链产品中，我个人觉得，只有比特币有着更为深远的定位，有着一套完整的生态。稍后交易章节会详细涉及这个问题。我个人也坚定的认为只有比特币将能如撒旦一般，一如既往的存在。)  \n\n以太坊的**股权证明(PoS,proof of stake)**为了提供更快的交易效率，选择了一种按照财富大小的排队机制。这也是无可厚非的事情，听说过福布斯排行榜，胡润排行榜，不过还真的不好统计啊。\n\nEOS的**委任权益证明(DPoS,Delegated Proof of Stake)**属于自建21个超豪华明星俱乐部，然后举办这个职业联赛，所有人可投票自己喜欢的球队，比赛角逐胜负。生态完整，无懈可击。（除了有人小心翼翼地问：这21个俱乐部举办的比赛，能下注吗？可能存在黑幕吗？）  \n\n还有基于**拜占庭容错算法(BFT，Byzantine Fault Tolerance)**的共识，由于是必须建立在可信节点上的，所以应该适用于企业联盟的各项业务，咬文嚼字的话，用多中心化诠释去中心化的含义，没有办法，勉强认同吧。  \n\n我有点死脑筋，我一直以为去中心化的区块链，前置条件是为不可信环境提出的解决方案，都人人可信了，还把链数据保留下来做什么？难道是为了将来的某一天，用链数据来证明自己以前的所做所为是不可信？总觉得很怪，所以我对此类共识暂时不感兴趣。一口坏牙，咬文嚼字的事情，我做不来。  \n\n介绍完现有流行的共识机制，干货来了，开始介绍UOC使用的博弈证明(PoG，Proof of Game)。介绍博弈证明的前提是，文章开头的那道题目有解。 \n\n－－－待序－－－",
				"added": 1522644328170
			},
			{
				"id": 6,
				"uri": "6_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"cpuri": "5_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "重要的事情说三遍，**博弈证明是Proof of Game, IT IS GAME! NOT GAMBLING。**  \n\n只是所有节点都可以玩的争夺记账权的竞争游戏。  \n\n1、节点报名参赛角逐24小时之后的记账权，报名费例如例如这个好比1UOC好了，门槛降到最低。  \n2、在第12小时，开奖。依次序去摸扑克牌，谁摸的点大，谁就是冠军。其次亚军、第三名等。  \n3、决出胜负之后，报名费先退还给所有报名参赛者。所以博弈证明真的NOT Gambling了吧。  \n4、在第24小时，冠军有机会先记账，不想记账、亚军第三名一个个来。为了奖励本次记账人，系统会发放给记账人20UOC的大红包。  \n\n游戏规则超级简单吧，下注，哦不对是报名，离手、开奖，请去评委席落坐，等待姑娘们上场，然后，然后这个，然后这个就没有了哦。  \n\n(此处省去会议加餐小课堂内容……)  \n\nQ1: 你觉得会有多少节点乐于参与这个竞赛呢？  \nA1:________  \n\nQ2: 姑且不论Q1的答案是什么，你觉得这个机制，是否是所有节点可公平参与的呢？  \nA2:________  \n\nQ3: 如果UOC也有EOS那样的硬件带宽还有防御配置，你觉得能否达到传说中的TPS呢？  \nA3:________  \n提示: 如果你的答案是做不到，那么请再仔细看看1234，尤其是画重点的地方，继续脑动大开地想想。  \n\nQ4: 万一没有节点玩这个无聊的摸扑克游戏，你觉得应该怎么办呢？  \nA4:________  \n提示：给本题增加点难度。比赛新规则，获胜利者，只有记账权，系统不会发红包了。  \n\nQ5:你觉得UOC是否非常欢迎节点开小号入场呢？  \nA5:________  \n\nUOC的共识机制使用的是博弈证明，优点是比特币一样，采用数学算法实现。没有权钱交易，没有可能的黑幕。缺点是即便有了超豪华配置，依然无法做到EOS的3秒出块，我原先以为光速已经很快了，但ＥＯＳ在全世界遍布21个节点，３秒内互证一次信息，似乎时间不够啊，有点超出我的物理知识范畴，莫非是夸父再现？  \n\n我自信我对网络通讯编程还是有一点点认知的 ，两年前提供给厦门千骥射击类手游《反击风暴》的网络底层，基于我命名的时间同步机制，4000人实际运行中能达到稳定每秒1万6千的包发送量。我觉得可以了。有兴趣的可以试试了解下这个产品，若有兴趣对此解决方案有进一步的了解，请联系厦门千骥的段总啦。  \n\n至此UOC区块链的共识机制的介绍结束了。UOC能做到10秒出块，每个块可容纳5万交易，TPS-5000。每个节点需要保证能提供10M/10S高速传输所需要的带宽，作为节点，这点小钱应该还是承受得起的吧。  \n\n不过就5000TPS，应付网络游戏的需求简直就是痴人做梦，了不起做个凯蒂猫，或者鼻涕狗，在不然佩奇猪之类的吧。稍后我会介绍在暗网内已经非常成熟的去中心化的自证存储技术，然后结合区块链，能够让更多类型的网络游戏完美的上链运行。在此之前，我得先解释下UOC的第二个技术：**聚合约(Multiple contract)**。  \n\n无论哪种记账方式，无论流水帐，还是复试记账，又或者区块链账本，第一件要描述的事情就是钞票的归属问题。钱的归属问题，网络上，会很少查看到关于这个问题的技术文档。而我认为这是一个相当重要的问题，直接关系到区块链项目的可落地化实现。  \n\n先来一个简要的概述吧。  \n\nA、比特币的记录描述了钞票从一个人的口袋跑到了另外一个人的过程，从而确认这笔钱归谁所有。  \n\nB、以太坊增加了一种新的描述，钞票从一个人的口袋可能会跑到另一个人的口袋，也可能不会的一种不确定状态。这笔钱谁都不归属。比特币其实也有加锁交易来描述这一状态，但它只有有限的几种指令，并且故意被设计成没有循环、条件跳转，所以这个很难被用作更多的用途。  \n\nC、有没有一种钞票，它是属于任何人的呢？目前所有的区块链产品中我没有看到。  \n\n我喝一口水先，在喝水之前，请教大家在脑海里面理解一个单词，“交易”，对就是交易，什么是交易呢？  \n\n……  \n……  \n……  \n\n我对交易的理解就是，A给了B１００块钱，然后B称了两斤兔子肉给A。  \n淘宝买东西货不对版，或者没收到东西，淘宝会给我做主；菜市场买菜，我给你钱你不给我东西，警察会给我做主。  \n\n但，区块链只有转帐，没有交易，这个说法对吗？  \n\n还记得之前我曾说的橙色字部分，关于各个区块链的生态提法吗？  \n\n比特币的生态因为只需要有转帐就足够了，去暗网溜达溜达，然后再了解下曾经著名的“丝绸之路”是干什么就知道了。除非那些黑色交易产业关门了，否则比特币就目前的交易速度已经足够了，“快，你想死的有多快。”这是某网中路人皆知的名言。请注意，比特币除了转帐，他是有交易的，只是有些东西不想给人看见而已。  \n比特币不会使用除工作量证明之外的其他共识机制，因为非工作量证明共识机制的区块链，每个帐号都有可能被冻结，真的存在无法进行转账的风险。  \n\n以太坊和EOS都不具有比特币的生态，因为共识机制的选举方式存在锁定账户的风险。  \n\n以太坊的生态我很模糊，是期望人人可发币，还是其他什么的，总感觉摇摆不定的很。  \n\n我觉得EOS的生态则非常清晰。首先某种特别领域的人，肯定不敢用，21个节点的记账人收到FBI的指令，就不掂量掂量吗？另外如果我是21个节点的记账人之一，我一定会挖空心思去勾搭另外其他节点打假球。  \n\n**UOC区块链为游戏而生，为游戏和一切内容产生服务的应用落地而生。**  \n\n－－－待续－－－",
				"added": 1525887069182
			},
			{
				"id": 7,
				"uri": "7_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"cpuri": "6_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "现实生活中，国家会为我们提供很多社会公共资源，一切带公字头的都是，公共交通工具，公共场所。任何人都可以索取公共服务，或者支付少量的费用就可以使用，公共资源使用是具有非排他性。衡量一个国家的经济实力，看公共设施，公共服务就可以了。国家通过税收，然后购买公共设施，然后提供公共服务。  \n\n网络游戏也是这样的一个世界，怪物是公共的，副本是公共的，关卡也是公共的，玩家在游戏里面看到的除了其他玩家，一切都是公共的。时间收费的游戏肯定是，道具收费的游戏是一种转换而已。  \n\n玩家通过时间和劳动，消耗公共资源，然后创造新的价值，为自己或者其他人服务，如此周而复始的循环。  \n\n也许你认为我这样的想法只是我自己的看法，你说的没错，我就是这么看得。不认同的可以，烦请出手的时候别打脸哦。  \n\n我必须有这样的设计，才能将游戏庞大且复杂的逻辑，用可描述的计算机语言在区块链中落地下来。否则现有的智能合约也就是个凯蒂猫或鼻涕狗这样用来翻炒的产品，要不然就是所谓的中心化服务器，存盘数据放链上的混血产品。  \n\n如果你认同怪物、副本、关卡这些都是公共资源（不包括装备、武器、药水等）,那么下面区块链对决传统客/服模式的思维风暴可以开始了。  \n\n一句话结束本小节介绍，UOC的聚合约，是一种可提供公共资源服务交易的可编程实现(请一定注意，我用的是交易这个单词，而不在是转账了)。  \n\n我先简单的描述一下这个公共资源是如何被使用的，以及相关区块链的特性。  \n一、区块链游戏必须且也只能是基于时间收费的游戏。没有免费游戏的说法，也无法提供道具收费的可能。  \nQ1:区块链为什么不能提供免费游戏呢？  \nA1:区块链最少要有一笔转账，用户的公钥(理解为帐号好了)才会出现在区块链的记录里。  \n\nQ2:基于Q1问题，那么游戏运营商先转一笔钱给用户，用户开始后，再把用户的钱扣掉，不行吗？  \nA2:不行。游戏运营商不可能知道用户的私钥，无法从该用户上扣钱的。如果我是用户，我会注册一大波一大堆帐号，秒把运营商的所有费用套走，然后我就发了。  \n\nQ3:游戏运营商在游戏中设计一个道具，让用户交费难道不可以吗？  \nA3:可以，但是如果我是游戏节点，我会把你的公钥篡改成我的公钥并发给玩家，而这个行为是不会被察觉的。这一层风险开发商需要慎重考虑。  \n\nQ4:游戏运营商可以写一个购买智能合约，然后让用户通过这种方式购买好了？  \nA4:我不反对这种行为，合约递交需要支付手续费，游戏开发商如果不在乎，当生成合约后，用户不购买，需要承担这笔费用。如果说开发商钱多到可以烧，我反复地生成合约然后取消，一天内就可以帮你烧完。其次，节点也可以生产类似的合约，欺骗玩家购买。矿工可不管这个合约是谁来创建的哦。  \n\n二、区块链中，游戏运营商千万不要奖励主币给玩家，包括副本奖励，BOSS掉落，只能奖励游戏金币或者道具物品除非游戏开发商有很多币，而且毫不担心这种发币行为会给游戏带来巨大的泡沫。其实掉落一些稀有的道具，让玩家自行去拍卖行拍卖好了。  \n\n三、区块链游戏副本、关卡这些公共资源的服务  \n上面已经说了，游戏开发商买游戏道具给玩家，只能收游戏币，不能收主币。玩家进入副本，并不是向任何人购买，而是向自己购买。转账产生交易费，是税收。你可以在聚合约中申明一个与记账人分成的比例。请注意，太小的分成比例，记账人可能不会愿意将这种这种交易打包记账。当然运营商也可以开一台服务器去竞争记账节点。  \n\n继续提请注意的，游戏聚合约的记账打包节点和UOC的记账节点不一样，跑游戏聚合约的是可能对你的游戏感兴趣的，想获取你的游戏主币的节点，这个节点不一定要是UOC的记账节点。但UOC所有的节点都会帮游戏转发消息。  \n\n在UOC区块链中，进入副本是一笔转账交易，所以一定有交易手续费，除非游戏开发商，自己能竞争到游戏记账权，如果你的游戏不是特别火，很大程度上你可以竞争你自己的游戏记账权。  \n\n综上三条，UOC区块链游戏都是要花钱玩的，但没有道具收费的这种形式。  \n\n接下来，我将为大家讲讲在暗网内已经非常成熟的去中心化的**自证存储技术。**\n\n－－－待续－－－",
				"added": 1525887233384
			},
			{
				"id": 8,
				"uri": "8_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"cpuri": "7_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "自证存储是诸多P2P暗网中广泛使用的存储技术。好比FreeNet,ZeroNet(暗网Reddit),Twister(暗网微博)等。  \n\n一、玩家自己就是自己的记账人  \n\n这种P2P内容存储方式有个特点，就是内容产生者就是记账人。如果用户自己作弊，将一条正确的消息，故意修改成多条不正确的消息，发给不同节点，在下一个动作产生前，这些消息对于节点来说，都是正确的。但如果用户要进行下一个动作，他就必须自己在自己造成的这些分叉记录中选择正确的一条并自证，否则将无法进行下一个动作，因此在这个机制下不可能产生双花。  \n\n这是一个很有趣的储存方式，它是记账人自己的账本。好比我要给某好友发一条聊天消息，并不是将内容发送给好友，而是将这条消息用对方的公钥加密后，将其记录在自己的账本中。然后将自己的账本广播出去。  \n\n所有关心你的用户收到你的账本更新时候，会查询你的账本内容更新内容，尝试用自己的私钥去解密那条消息，能解开的，那么肯定是你要发送给的那个人了。  \n\n**UOC为自证存储增加链识别**  \n\n数据结构如下，和区块链的结构，首尾相联。  \n````  \n－－－－－  \n块头  \n消息(自证内容)  \n块尾  \n－－－－－  \n````  \n\n因为玩家每条消息都必须先自证，所以消息经过聚合约验证合法后，游戏节点就可以将这条消息打包了。  \n\nA节点收到坏节点用户往东走一步的消息，验证通过，发现合法，通过这个块。  \nB节点收到坏节点用户往西走一步的消息，验证通过，发现合法，也通过这个块。  \n\nAB节点此时出现软分叉，软分叉是任何区块链都会出现的。但因为其他人没有该玩家的私钥，所以这种软分叉一定是该玩家自己干出来的。  \nUOC区块链对于用户自己作弊造成的软分叉是这样处理的：  \n\n一、非玩家交互信息，在生成当日数据快照前是允许的。一旦生成快照发现软分叉，该用户将被锁死。因为该分叉数据只有可能是玩家自己作弊造成的，而且该用户留下了作弊的数字证明。  \n\n二、如果是交互信息的软分叉，对方用户先按照时间顺序处理第一个，当下一个到达的时候，提交证据申请仲裁。一旦仲裁成功，作弊玩家将会被锁死帐号。  \n\n玩家自己的账本是自证存储的，因为这个账本不关联其他用户的账本，所以一旦玩家自己作弊，会留下数字证据，对这样的玩家只能忍痛下手了，但不会对系统造成影响。  \n\n三、当日游戏数据快照\n\n游戏每天在指定的某个时间段，生成整个游戏数据快照。这个操作每天一次，记账人生成快照数据。快照数据是指将当日玩家操作的行为打包成快照，并生成新的初始化数据。玩家无需遍历过往行为形成结果了，而是从这个每日初始化源开始。  \n\n如果玩家想要查看过往记录，可通过提供快照服务的节点获得。  \n\n生成快照是一笔免交易费用的行为。因为免交易手续费，所以很大可能是游戏开发商这一轮自己担当记账人了，即便有坏记账人出现，开发商也不用担心，因为这是一个极其耗费资源和CPU的事情，在没有获取所有的快照数据之前，坏节点是无法打出正确的记录的。当然如果有节点愿意做，多么好的事情啊。  \n\n生成快照的目的，是为了数据没有那么巨大了。  \n\n生产快照免费，但是UOC建议游戏开发商，游戏应该按照时间收费，起码预先收取用户一周的入住费用，哪怕是一天仅仅一块钱或者一毛钱啊。为什么要这么做呢？未缴费的用户们可能会占用很大的储存空间。  \n\n(如何预收这笔费用呢？此处省略小课堂教学内容……)  \n\n**UOC区块链支持的游戏类型是有限制的**  \n\nUOC目前不支持即时性要求很高的游戏，仅限于回合制游戏，养成类，经营类，战棋战略类，卡牌类，还有什么等等吧。类似《魔兽世界》、《传奇》这种基于大世界的就完全不考虑了。  \n\n如果玩家可以接受有一台基于中心网络转发代理服务器的话，可以支持开发例如《魔兽争霸》、《CS》、《王者荣耀》这一类的即时战斗游戏，但有个前提，同步机制必须是基于时间同步的。还有就是我没写过此类测试代码，稍后，我会给出解决思路，有兴趣的可以一起研究讨论。  \n\n**UOC就5000TPS，能扛住游戏的需求吗？**  \n\n我非常认同区块链技术圈里面的一句话，超过5000TPS的区块链就是骗子。  \n\n先说回合制的战斗副本吧。无论是《大话西游》、《我是MT》、《小小三国》或者是其他战棋类型游戏。回合制属于你放唱罢我登场型，在一定时间的限制下，行动方完成一系列动作，一直到结束动作。  \n\n由于UOC区块链的特性，游戏策划必须做如下思维调整：  \n````  \n1. 游戏不允许有随机数值  \n2. 游戏道具不允许有最小值～最大值的区间  \n3. 玩家没有离线状态，所有的玩家都是在线的  \n4. 在线玩家没有作出网络回馈消息,这是合法行为  \n5. 目前不允许玩家在世界大地图中，主动控制移动行为  \n6. 目前玩家在世界大地图中，有存储需要的指令，除了收发邮件和聊天的IM社交行为，其他任何行为都必须是有cooldown时间限制的或者限制每日次数的，包括切换装备，调整背包位置， 在商店购买道具。  \n7.目前玩家在世界大地图中，不允许进行战斗。必须开房切换到战斗场景，或者副本。\n8.战斗制是基于回合的，在限定时间内，依照次序，进入攻击或防守状态  \n9.进入副本或战斗场景后，切换装备依然是需要有cooldown时间限制的，但可以相对比较短。  \n````  \n\n(如何进行回合战斗呢？此处省略小课堂教学内容……)  \n\n结论，整个战斗是全链的，别说是5000TPS，即便是10TPS也是能够胜任战斗的。链上的存盘数据是很小的，并且是可回放进行检查的。  \n\n－－－文档结束－－－",
				"added": 1525887508068
			}
		],
		"6_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy": [
			{
				"id": 9,
				"uri": "9_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "**当用户访问ZeroNet的某个站点，是获取站点信息呢？**  \n\n一、尝试连接BitTorrent的trackers，然后发送hash_info请求，获取Peer。\n\nhash_info就是站点的地址进行sha1，例如本站的地址是:15cVyiTBba1vNdt4Yc6f5aggCnppVCBSoJ。\n````\n{\n 'peer_id': ???,//下载者的id，一个20字节长的字符串。每个下载者在开始一次新的下载之前，需要随机创建这个id。\n 'downloaded': 0,\n 'left': 431102370,//该peer还有多少数据没有下载完，十进制表示。\n 'uploaded': 0,\n 'event': 0,//一个可选的关键字，值是started、compted或者stopped之一（也可以为空，不做处理）\n 'key': 0,\n 'num_want': 10,\n 'ip_address': 0,//一个可选的参数，给出了peer的ip地址\n 'port': ???,//下载者的监听的端口\n 'info_hash':'???'//torrent文件中info部分的sha hash，20字节长。\n}\n````  \n尚未理解的问题：\n1. 其中left是431102370，这是zeronet给出的一个数字，为什么是这个数字呢？  \n猜测的意思是重置下载。  \n2. 如果站点的地址是.bit后缀的地址，是怎么解析的呢？  \n猜测的意思是ZeroNet中有个默认的ZeroName，应该是从那里查表获得的。  \n\n二、获得Peer信息后，与Peer建立连接，下载content.json。  \n\nZeroNet只是利用了BitTorrent的来寻找ZeroNet的专属Peer，这个Peer并不运行BitTorrent。所以并不需要验证什么文件内容之类的，就只是网络握手而已。所以info_hash其实是伪造的。  \n\n不得不说ZeroNet很聪明。",
				"added": 1528090076120
			}
		],
		"7_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy": [
			{
				"id": 10,
				"uri": "10_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "**ZeroNet的用户发帖为什么需要在中心化的服务器上注册一个帐号呢？**  \n\n这是因为ZeroNet没有共识机制，无法写入每个节点都认同的结果，所以只能用中心化的方法制作了。",
				"added": 1528765773415
			}
		],
		"8_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy": [
			{
				"id": 11,
				"uri": "11_user/1B4wXqC3MmyVxavFzDb8iCPCsY96mUYwGy",
				"body": "ZeroNet中主要分为FileServer和UiServer两个部分。其中FileServer负责处理和其他节点的事务是核心，而UiServer主要是处理页面的操作和展示信息以及和FileServer的交互通讯。  \n\n\n开启FileServer的时候，先连接到BitTorrent的Tracker。然后开启announceSites,cleanupSites,wakeupWatcher三个线程，这些线程都是为了处理连接到Tracker或者Peer工作的。  \n\n连接部分的代码在Connection目录下的Connect.py以及ConnectServer.py中，对不同的网络信息做不同的处理。",
				"added": 1528770941811
			}
		]
	},
	"comment_vote": {},
	"userinfo": [
		{
			"nickname": "单身狗",
			"avatar": "avatar.jpg",
			"sign": "一定设法让自己变得勤快起来！！！加油",
			"gender": -1
		}
	]
}