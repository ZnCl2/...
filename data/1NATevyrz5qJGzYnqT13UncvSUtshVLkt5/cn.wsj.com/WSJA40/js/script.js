!function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[a]={exports:{}};e[a][0].call(d.exports,function(t){var i=e[a][1][t];return r(i?i:t)},d,d.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(){},{}],2:[function(t,e){function i(){l=!1,a.length?u=a.concat(u):d=-1,u.length&&n()}function n(){if(!l){var t=setTimeout(i);l=!0;for(var e=u.length;e;){for(a=u,u=[];++d<e;)a&&a[d].run();d=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var a,s=e.exports={},u=[],l=!1,d=-1;s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new r(t,e)),1!==u.length||l||setTimeout(n,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],3:[function(t,e){e.exports=t("./lib/axios")},{"./lib/axios":5}],4:[function(t,e){(function(i){"use strict";var n=t("./../utils"),r=t("./../helpers/buildURL"),o=t("./../helpers/parseHeaders"),a=t("./../helpers/transformData"),s=t("./../helpers/isURLSameOrigin"),u="undefined"!=typeof window&&window.btoa||t("./../helpers/btoa"),l=t("../helpers/settle");e.exports=function(e,d,c){var h=c.data,f=c.headers;n.isFormData(h)&&delete f["Content-Type"];var p=new XMLHttpRequest,m="onreadystatechange",g=!1;if("test"===i.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||s(c.url)||(p=new window.XDomainRequest,m="onload",g=!0,p.onprogress=function(){},p.ontimeout=function(){}),c.auth){var y=c.auth.username||"",v=c.auth.password||"";f.Authorization="Basic "+u(y+":"+v)}if(p.open(c.method.toUpperCase(),r(c.url,c.params,c.paramsSerializer),!0),p.timeout=c.timeout,p[m]=function(){if(p&&(4===p.readyState||g)&&0!==p.status){var t="getAllResponseHeaders"in p?o(p.getAllResponseHeaders()):null,i=c.responseType&&"text"!==c.responseType?p.response:p.responseText,n={data:a(i,t,c.transformResponse),status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:t,config:c,request:p};l(e,d,n),p=null}},p.onerror=function(){d(new Error("Network Error")),p=null},p.ontimeout=function(){var t=new Error("timeout of "+c.timeout+"ms exceeded");t.timeout=c.timeout,t.code="ECONNABORTED",d(t),p=null},n.isStandardBrowserEnv()){var _=t("./../helpers/cookies"),x=c.withCredentials||s(c.url)?_.read(c.xsrfCookieName):void 0;x&&(f[c.xsrfHeaderName]=x)}if("setRequestHeader"in p&&n.forEach(f,function(t,e){"undefined"==typeof h&&"content-type"===e.toLowerCase()?delete f[e]:p.setRequestHeader(e,t)}),c.withCredentials&&(p.withCredentials=!0),c.responseType)try{p.responseType=c.responseType}catch(w){if("json"!==p.responseType)throw w}c.progress&&("post"===c.method||"put"===c.method?p.upload.addEventListener("progress",c.progress):"get"===c.method&&p.addEventListener("progress",c.progress)),void 0===h&&(h=null),p.send(h)}}).call(this,t("_process"))},{"../helpers/settle":18,"./../helpers/btoa":10,"./../helpers/buildURL":11,"./../helpers/cookies":13,"./../helpers/isURLSameOrigin":15,"./../helpers/parseHeaders":17,"./../helpers/transformData":20,"./../utils":21,_process:2}],5:[function(t,e){"use strict";function i(t){this.defaults=r.merge({},t),this.interceptors={request:new a,response:new a}}var n=t("./defaults"),r=t("./utils"),o=t("./core/dispatchRequest"),a=t("./core/InterceptorManager"),s=t("./helpers/isAbsoluteURL"),u=t("./helpers/combineURLs"),l=t("./helpers/bind"),d=t("./helpers/transformData");i.prototype.request=function(t){"string"==typeof t&&(t=r.merge({url:arguments[0]},arguments[1])),t=r.merge(n,this.defaults,{method:"get"},t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.withCredentials=t.withCredentials||this.defaults.withCredentials,t.data=d(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=[o,void 0],i=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)i=i.then(e.shift(),e.shift());return i};var c=new i(n),h=e.exports=l(i.prototype.request,c);h.request=l(i.prototype.request,c),h.Axios=i,h.defaults=c.defaults,h.interceptors=c.interceptors,h.create=function(t){return new i(t)},h.all=function(t){return Promise.all(t)},h.spread=t("./helpers/spread"),r.forEach(["delete","get","head"],function(t){i.prototype[t]=function(e,i){return this.request(r.merge(i||{},{method:t,url:e}))},h[t]=l(i.prototype[t],c)}),r.forEach(["post","put","patch"],function(t){i.prototype[t]=function(e,i,n){return this.request(r.merge(n||{},{method:t,url:e,data:i}))},h[t]=l(i.prototype[t],c)})},{"./core/InterceptorManager":6,"./core/dispatchRequest":7,"./defaults":8,"./helpers/bind":9,"./helpers/combineURLs":12,"./helpers/isAbsoluteURL":14,"./helpers/spread":19,"./helpers/transformData":20,"./utils":21}],6:[function(t,e){"use strict";function i(){this.handlers=[]}var n=t("./../utils");i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=i},{"./../utils":21}],7:[function(t,e){(function(i){"use strict";e.exports=function(e){return new Promise(function(n,r){try{var o;"function"==typeof e.adapter?o=e.adapter:"undefined"!=typeof XMLHttpRequest?o=t("../adapters/xhr"):"undefined"!=typeof i&&(o=t("../adapters/http")),"function"==typeof o&&o(n,r,e)}catch(a){r(a)}})}}).call(this,t("_process"))},{"../adapters/http":4,"../adapters/xhr":4,_process:2}],8:[function(t,e){"use strict";function i(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var n=t("./utils"),r=t("./helpers/normalizeHeaderName"),o=/^\)\]\}',?\n/,a={"Content-Type":"application/x-www-form-urlencoded"};e.exports={transformRequest:[function(t,e){return r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(o,"");try{t=JSON.parse(t)}catch(e){}}return t}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:n.merge(a),post:n.merge(a),put:n.merge(a)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&300>t}}},{"./helpers/normalizeHeaderName":16,"./utils":21}],9:[function(t,e){"use strict";e.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},{}],10:[function(t,e){"use strict";function i(){this.message="String contains an invalid character"}function n(t){for(var e,n,o=String(t),a="",s=0,u=r;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if(n=o.charCodeAt(s+=.75),n>255)throw new i;e=e<<8|n}return a}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=n},{}],11:[function(t,e){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var n=t("./../utils");e.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var a=[];n.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(n.isArray(t)&&(e+="[]"),n.isArray(t)||(t=[t]),n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},{"./../utils":21}],12:[function(t,e){"use strict";e.exports=function(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}},{}],13:[function(t,e){"use strict";var i=t("./../utils");e.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},{"./../utils":21}],14:[function(t,e){"use strict";e.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},{}],15:[function(t,e){"use strict";var i=t("./../utils");e.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=i.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},{"./../utils":21}],16:[function(t,e){"use strict";var i=t("../utils");e.exports=function(t,e){i.forEach(t,function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])})}},{"../utils":21}],17:[function(t,e){"use strict";var i=t("./../utils");e.exports=function(t){var e,n,r,o={};return t?(i.forEach(t.split("\n"),function(t){r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e&&(o[e]=o[e]?o[e]+", "+n:n)}),o):o}},{"./../utils":21}],18:[function(t,e){"use strict";e.exports=function(t,e,i){var n=i.config.validateStatus;i.status&&n&&!n(i.status)?e(i):t(i)}},{}],19:[function(t,e){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}},{}],20:[function(t,e){"use strict";var i=t("./../utils");e.exports=function(t,e,n){return i.forEach(n,function(i){t=i(t,e)}),t}},{"./../utils":21}],21:[function(t,e){"use strict";function i(t){return"[object Array]"===x.call(t)}function n(t){return"[object ArrayBuffer]"===x.call(t)}function r(t){return"undefined"!=typeof FormData&&t instanceof FormData}function o(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function s(t){return"number"==typeof t}function u(t){return"undefined"==typeof t}function l(t){return null!==t&&"object"==typeof t}function d(t){return"[object Date]"===x.call(t)}function c(t){return"[object File]"===x.call(t)}function h(t){return"[object Blob]"===x.call(t)}function f(t){return"[object Function]"===x.call(t)}function p(t){return l(t)&&f(t.pipe)}function m(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function g(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function v(t,e){if(null!==t&&"undefined"!=typeof t)if("object"==typeof t||i(t)||(t=[t]),i(t))for(var n=0,r=t.length;r>n;n++)e.call(null,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(null,t[o],o,t)}function _(){function t(t,i){e[i]="object"==typeof e[i]&&"object"==typeof t?_(e[i],t):t}for(var e={},i=0,n=arguments.length;n>i;i++)v(arguments[i],t);return e}var x=Object.prototype.toString;e.exports={isArray:i,isArrayBuffer:n,isFormData:r,isArrayBufferView:o,isString:a,isNumber:s,isObject:l,isUndefined:u,isDate:d,isFile:c,isBlob:h,isFunction:f,isStream:p,isURLSearchParams:m,isStandardBrowserEnv:y,forEach:v,merge:_,trim:g}},{}],22:[function(t,e){!function(t,i){"use strict";"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.matchesSelector=i()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],r=n+"MatchesSelector";if(t[r])return r}}();return function(e,i){return e[t](i)}})},{}],23:[function(t,e){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.EvEmitter=i()}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,r=i[n];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];r;){var a=o&&o[r];a&&(this.off(t,r),delete o[r]),r.apply(this,e),n+=a?0:1,r=i[n]}return this}},t})},{}],24:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["desandro-matches-selector/matches-selector"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("desandro-matches-selector")):i.fizzyUIUtils=n(i,i.matchesSelector)}(window,function(t,e){"use strict";var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void r.push(t);e(t,n)&&r.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)r.push(i[o])}}),r},i.debounceMethod=function(t,e,i){var n=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];t&&clearTimeout(t);var e=arguments,o=this;this[r]=setTimeout(function(){n.apply(o,e),delete o[r]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,r){i.docReady(function(){var o=i.toDashed(r),a="data-"+o,s=document.querySelectorAll("["+a+"]"),u=document.querySelectorAll(".js-"+o),l=i.makeArray(s).concat(i.makeArray(u)),d=a+"-options",c=t.jQuery;l.forEach(function(t){var i,o=t.getAttribute(a)||t.getAttribute(d);try{i=o&&JSON.parse(o)}catch(s){return void(n&&n.error("Error parsing "+a+" on "+t.className+": "+s))}var u=new e(t,i);c&&c.data(t,r,u)})})},i})},{"desandro-matches-selector":22}],25:[function(t,e){!function(t,i){"use strict";"function"==typeof define&&define.amd?define(function(){return i()}):"object"==typeof e&&e.exports?e.exports=i():t.getSize=i()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;l>e;e++){var i=u[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||s("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function r(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var r=n(e);o.isBoxSizeOuter=a=200==t(r.width),i.removeChild(e)}}function o(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=n(e);if("none"==o.display)return i();var s={};s.width=e.offsetWidth,s.height=e.offsetHeight;for(var d=s.isBorderBox="border-box"==o.boxSizing,c=0;l>c;c++){var h=u[c],f=o[h],p=parseFloat(f);s[h]=isNaN(p)?0:p}var m=s.paddingLeft+s.paddingRight,g=s.paddingTop+s.paddingBottom,y=s.marginLeft+s.marginRight,v=s.marginTop+s.marginBottom,_=s.borderLeftWidth+s.borderRightWidth,x=s.borderTopWidth+s.borderBottomWidth,w=d&&a,b=t(o.width);b!==!1&&(s.width=b+(w?0:m+_));var I=t(o.height);return I!==!1&&(s.height=I+(w?0:g+x)),s.innerWidth=s.width-(m+_),s.innerHeight=s.height-(g+x),s.outerWidth=s.width+y,s.outerHeight=s.height+v,s}}var a,s="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=u.length,d=!1;return o})},{}],26:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","./item","./layout-mode","./layout-modes/masonry","./layout-modes/fit-rows","./layout-modes/vertical"],function(t,e,r,o,a,s){return n(i,t,e,r,o,a,s)}):"object"==typeof e&&e.exports?e.exports=n(i,t("outlayer"),t("get-size"),t("desandro-matches-selector"),t("fizzy-ui-utils"),t("./item"),t("./layout-mode"),t("./layout-modes/masonry"),t("./layout-modes/fit-rows"),t("./layout-modes/vertical")):i.Isotope=n(i,i.Outlayer,i.getSize,i.matchesSelector,i.fizzyUIUtils,i.Isotope.Item,i.Isotope.LayoutMode)}(window,function(t,e,i,n,r,o,a){"use strict";function s(t,e){return function(i,n){for(var r=0;r<t.length;r++){var o=t[r],a=i.sortData[o],s=n.sortData[o];if(a>s||s>a){var u=void 0!==e[o]?e[o]:e,l=u?1:-1;return(a>s?1:-1)*l}}return 0}}var u=t.jQuery,l=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=o,d.LayoutMode=a;var c=d.prototype;c._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in a.modes)this._initLayoutMode(t)},c.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},c._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var n=t[i];n.id=this.itemGUID++}return this._updateItemsSortData(t),t},c._initLayoutMode=function(t){var e=a.modes[t],i=this.options[t]||{};this.options[t]=e.options?r.extend(e.options,i):i,this.modes[t]=new e(this)},c.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},c._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},c.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},c._init=c.arrange,c._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},c._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},c._bindArrangeComplete=function(){function t(){e&&i&&n&&r.dispatchEvent("arrangeComplete",null,[r.filteredItems])}var e,i,n,r=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},c._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],r=[],o=this._getFilterTest(e),a=0;a<t.length;a++){var s=t[a];if(!s.isIgnored){var u=o(s);u&&i.push(s),u&&s.isHidden?n.push(s):u||s.isHidden||r.push(s)}}return{matches:i,needReveal:n,needHide:r}},c._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},c.updateSortData=function(t){var e;t?(t=r.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},c._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=h(i)}},c._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.updateSortData()}};var h=function(){function t(t){if("string"!=typeof t)return t;var i=l(t).split(" "),n=i[0],r=n.match(/^\[(.+)\]$/),o=r&&r[1],a=e(o,n),s=d.sortDataParsers[i[1]];return t=s?function(t){return t&&s(a(t))}:function(t){return t&&a(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},c._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=s(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},c._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},c._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},c._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},c._manageStamp=function(t){this._mode()._manageStamp(t)},c._getContainerSize=function(){return this._mode()._getContainerSize()},c.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},c.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},c._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},c.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,r=e.length;for(i=0;r>i;i++)n=e[i],this.element.appendChild(n.element);var o=this._filter(e).matches;for(i=0;r>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;r>i;i++)delete e[i].isLayoutInstant;this.reveal(o)}};var f=c.remove;return c.remove=function(t){t=r.makeArray(t);var e=this.getItems(t);f.call(this,t);for(var i=e&&e.length,n=0;i&&i>n;n++){var o=e[n];r.removeFrom(this.filteredItems,o)}},c.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},c._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},c.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d})},{"./item":27,"./layout-mode":28,"./layout-modes/fit-rows":29,"./layout-modes/masonry":30,"./layout-modes/vertical":31,"desandro-matches-selector":22,"fizzy-ui-utils":24,"get-size":25,outlayer:34}],27:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["outlayer/outlayer"],n):"object"==typeof e&&e.exports?e.exports=n(t("outlayer")):(i.Isotope=i.Isotope||{},i.Isotope.Item=n(i.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var r=i.destroy;return i.destroy=function(){r.apply(this,arguments),this.css({display:""})},e})},{outlayer:34}],28:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["get-size/get-size","outlayer/outlayer"],n):"object"==typeof e&&e.exports?e.exports=n(t("get-size"),t("outlayer")):(i.Isotope=i.Isotope||{},i.Isotope.LayoutMode=n(i.getSize,i.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype,r=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return r.forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var r=this.getFirstItemSize();this[i]=r&&r[n]||this.isotope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function r(){i.apply(this,arguments)}return r.prototype=Object.create(n),r.prototype.constructor=r,e&&(r.options=e),r.prototype.namespace=t,i.modes[t]=r,r},i})},{"get-size":25,outlayer:34}],29:[function(t,e,i){!function(n,r){"function"==typeof define&&define.amd?define(["../layout-mode"],r):"object"==typeof i?e.exports=r(t("../layout-mode")):r(n.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e})},{"../layout-mode":28}],30:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["../layout-mode","masonry/masonry"],n):"object"==typeof e&&e.exports?e.exports=n(t("../layout-mode"),t("masonry-layout")):n(i.Isotope.LayoutMode,i.Masonry)}(window,function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype,r={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var o in e.prototype)r[o]||(n[o]=e.prototype[o]);var a=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var s=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:s.apply(this.isotope,arguments)},i})},{"../layout-mode":28,"masonry-layout":32}],31:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["../layout-mode"],n):"object"==typeof e&&e.exports?e.exports=n(t("../layout-mode")):n(i.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e})},{"../layout-mode":28}],32:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],n):"object"==typeof e&&e.exports?e.exports=n(t("outlayer"),t("get-size")):i.Masonry=n(i.Outlayer,i.getSize)}(window,function(t,e){"use strict";var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,o=r/n,a=n-r%n,s=a&&1>a?"round":"floor";o=Math[s](o),this.cols=Math.max(o,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this._getColGroup(n),o=Math.min.apply(Math,r),a=r.indexOf(o),s={x:this.columnWidth*a,y:o},u=o+t.size.outerHeight,l=this.cols+1-r.length,d=0;l>d;d++)this.colYs[a+d]=u;return s},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var r=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,r)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),r=this._getOption("originLeft"),o=r?n.left:n.right,a=o+i.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var u=Math.floor(a/this.columnWidth);u-=a%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var l=this._getOption("originTop"),d=(l?n.top:n.bottom)+i.outerHeight,c=s;u>=c;c++)this.colYs[c]=Math.max(d,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i})},{"get-size":25,outlayer:34}],33:[function(t,e){!function(i,n){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size"],n):"object"==typeof e&&e.exports?e.exports=n(t("ev-emitter"),t("get-size")):(i.Outlayer={},i.Outlayer.Item=n(i.EvEmitter,i.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())
}function r(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var o=document.documentElement.style,a="string"==typeof o.transition?"transition":"WebkitTransition",s="string"==typeof o.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],l={transform:s,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=l[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],r=t[i?"top":"bottom"],o=this.layout.size,a=-1!=n.indexOf("%")?parseFloat(n)/100*o.width:parseInt(n,10),s=-1!=r.indexOf("%")?parseFloat(r)/100*o.height:parseInt(r,10);a=isNaN(a)?0:a,s=isNaN(s)?0:s,a-=e?o.paddingLeft:o.paddingRight,s-=i?o.paddingTop:o.paddingBottom,this.position.x=a,this.position.y=s},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),r=i?"paddingLeft":"paddingRight",o=i?"left":"right",a=i?"right":"left",s=this.position.x+t[r];e[o]=this.getXValue(s),e[a]="";var u=n?"paddingTop":"paddingBottom",l=n?"top":"bottom",d=n?"bottom":"top",c=this.position.y+t[u];e[l]=this.getYValue(c),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,r=parseInt(t,10),o=parseInt(e,10),a=r===this.position.x&&o===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var s=t-i,u=e-n,l={};l.transform=this.getTranslate(s,u),this.transition({to:l,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var c="opacity,"+r(s);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:c,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var h={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=h[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var r=e.onEnd[n];r.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(f)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return a&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n})},{"ev-emitter":23,"get-size":25}],34:[function(t,e){!function(i,n){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,r,o){return n(i,t,e,r,o)}):"object"==typeof e&&e.exports?e.exports=n(i,t("ev-emitter"),t("get-size"),t("fizzy-ui-utils"),t("./item")):i.Outlayer=n(i,i.EvEmitter,i.getSize,i.fizzyUIUtils,i.Outlayer.Item)}(window,function(t,e,i,n,r){"use strict";function o(t,e){var i=n.getQueryElement(t);if(!i)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,l&&(this.$element=l(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var r=++c;this.element.outlayerGUID=r,h[r]=this,this._create();var o=this._getOption("initLayout");o&&this.layout()}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function s(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var r=p[n]||1;return i*r}var u=t.console,l=t.jQuery,d=function(){},c=0,h={};o.namespace="outlayer",o.Item=r,o.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=o.prototype;n.extend(f,e.prototype),f.option=function(t){n.extend(this.options,t)},f._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},o.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],r=0;r<e.length;r++){var o=e[r],a=new i(o,this);n.push(a)}return n},f._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(t){return t.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(t,e){var n,r=this.options[t];r?("string"==typeof r?n=this.element.querySelector(r):r instanceof HTMLElement&&(n=r),this[t]=n?i(n)[e]:r):this[t]=0},f.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},f._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},f._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},f.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=s(t),this.stagger)},f._positionItem=function(t,e,i,n,r){n?t.goTo(e,i):(t.stagger(r*this.stagger),t.moveTo(e,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},f._getContainerSize=d,f._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},f._emitCompleteOnItems=function(t,e){function i(){r.dispatchEvent(t+"Complete",null,[e])}function n(){a++,a==o&&i()}var r=this,o=e.length;if(!e||!o)return void i();var a=0;e.forEach(function(e){e.once(t,n)})},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l)if(this.$element=this.$element||l(this.element),e){var r=l.Event(e);r.type=t,this.$element.trigger(r,i)}else this.$element.trigger(t,i)},f.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},f.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},f.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},f.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},f._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},f._manageStamp=d,f._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,r=i(t),o={left:e.left-n.left-r.marginLeft,top:e.top-n.top-r.marginTop,right:n.right-e.right-r.marginRight,bottom:n.bottom-e.bottom-r.marginBottom};return o},f.handleEvent=n.handleEvent,f.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},n.debounceMethod(o,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},f.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},f.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},f.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},f.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},f.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},f.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},f.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},f.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},f.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},f.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},f.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},o.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&h[e]},o.create=function(t,e){var i=a(o);return i.defaults=n.extend({},o.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},o.compatOptions),i.namespace=t,i.data=o.data,i.Item=a(r),n.htmlInit(i,t),l&&l.bridget&&l.bridget(t,i),i};var p={ms:1,s:1e3};return o.Item=r,o})},{"./item":33,"ev-emitter":23,"fizzy-ui-utils":24,"get-size":25}],35:[function(t){"use strict";function e(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var i=t("./lib/layout"),n=(t("./lib/chart_template"),t("./lib/nav")),r=e(n);!function(){i.isoLayout();r.navigation();document.addEventListener("DOMContentLoaded",function(){socialRiser.create();Iframe.init()})}()},{"./lib/chart_template":40,"./lib/layout":44,"./lib/nav":45}],36:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.Modal=void 0;{var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=t("./getdata"),u=r(s),l=t("isotope-layout"),d=(n(l),t("./filters")),c=r(d),h=t("./_templates"),f=r(h);i.Modal=function(){function t(e,i,n){if(o(this,t),c.item_array.length>0){var r=function(t,e){var i=n,r=Number(t.element.attributes["data-id"].value);return i===r?a=e:void 0};this.dataIndex=n;{var a,n=Number(this.dataIndex);c.item_array.map(r)}this.index=Number(a)}else this.dataIndex=n;this.build(e,i,this.dataIndex),this.open(e,i),this.navigation(e,i)}return a(t,[{key:"index",set:function(t){this._rotation_index=Number(t)},get:function(){return this._rotation_index}},{key:"dataIndex",set:function(t){this._dataIndex=Number(t)},get:function(){return this._dataIndex}}]),a(t,[{key:"filtered_carousel_values",value:function(){var t=c.item_array[this.index].element.attributes["data-id"].value;this.dataIndex=t,this.build("wsjaModalWrapper",this,t)}},{key:"build",value:function(t,e,i){var n=document.getElementsByClassName("hl_modal");if(n.length>0){var r=n[0];r.className=r.className.replace(/ hl_modal/,"")}var o=i,a="el_"+i,s=document.getElementById(a);s&&(s.className+=" hl_modal"),window.location.hash="/?id="+i;var l,d=u.dataObject[o];if("extras"===d.type){if(d.filters.indexOf("video")>-1)return;l=f.extras_modal(d)}else if("gerry"===d.type)l=f.gerry_modal(d);else{if("chart"===d.type)return null;l=f.modal(d)}document.getElementById("modalContent").innerHTML=l}},{key:"open",value:function(t){var e=document.getElementsByTagName("body")[0];return e.className+=" modal_open",document.getElementById(t).className+=" open"}},{key:"close",value:function(){window.location.hash="/";var t=document.getElementsByTagName("body")[0];return t.className&&(t.className=t.className.replace(/ modal_open/,"")),t.className.indexOf("modal_open")>-1&&(console.log("too many modal_opens"),t.className=t.className.replace(/ modal_open/,"")),document.getElementById("wsjaModal").className=document.getElementById("wsjaModal").className.replace(/ modal-visible/,""),document.getElementById("wsjaModalWrapper").className=document.getElementById("wsjaModalWrapper").className.replace(/ open/,"")}},{key:"navigation",value:function(t,e){function i(){if(c.item_array.length>0)o.index=o.index>0?o.index-1:c.item_array.length-1,o.filtered_carousel_values(o.index);else{o.dataIndex=o.dataIndex>0?o.dataIndex-1:39;var i=o.dataIndex;o.build(t,e,i)}}function n(){if(c.item_array.length>0)o.index=o.index<c.item_array.length-1?o.index+1:0,o.filtered_carousel_values(o.index);else{o.dataIndex=o.dataIndex<39?o.dataIndex+1:0;var i=o.dataIndex;o.build(t,e,i)}}var r=this,o=this,a=document.getElementById("closeModal"),s=document.getElementById("wsjaModalWrapper"),u=document.getElementsByClassName("modal_nav");document.onkeydown=function(e){switch(e=e||window.event,e.which||e.keyCode){case 37:return i();case 39:return n();case 27:return o.close(t);default:return}},s.onclick=function(t){t.target.className.indexOf("open")>-1&&o.close()},a.onclick=function(){return o.close()},u[0].onclick=function(){if(c.item_array.length>0)r.index=r.index>0?r.index-1:c.item_array.length-1,r.filtered_carousel_values(r.index);else{r.dataIndex=r.dataIndex>0?r.dataIndex-1:39;var i=r.dataIndex;r.build(t,e,i)}},u[1].onclick=function(){if(c.item_array.length>0)r.index=r.index<c.item_array.length?r.index+1:0,r.filtered_carousel_values(r.index);else{r.dataIndex=r.dataIndex<39?r.dataIndex+1:0;var i=r.dataIndex;r.build(t,e,i)}}}},{key:"destroy",value:function(){for(var t=document.getElementById("modalContent");t.firstChild;)t.removeChild(t.firstChild)}}]),t}()}},{"./_templates":39,"./filters":42,"./getdata":43,"isotope-layout":26}],37:[function(t,e){"use strict";e.exports=function(){return Modernizr.touch}},{}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.isPlaying=function(){var t=document.getElementById("inner_video_player");t.addEventListener("click",function(t){console.log(t)}),console.log(t)}},{}],39:[function(t,e,i){"use strict";function n(t){{var e=(Modernizr.touch,t.length,""),i=t.year.split(/[-,]/)[0],n=t,r=h(n.filters);r?r[0]:null}return e+='<div class="package_item main '+(n.style?n.style:"")+'" id="el_'+n.id+'" data-filters="'+n.filters+'" data-countries="'+r+'" data-id="'+n.id+'" data-year="'+n.year+'" data-year-sort="'+i+'">\n            <div class="inner_image" style="background-image:url(\''+n.cover+'\');">\n              <div class="tag">\n                <span class="countrytag"></span><span class="yeartag">'+i+'</span>\n              </div>\n            </div>\n            <div class="promo_dek">\n             <h5 class="title">'+n.title+"</h5>\n             </div>\n          </div>"}function r(t){{var e="http://www.wsj.com/asia40",i=t,n="",r=t.year.split(/[-,]/)[0],o=-1!==i.filters.indexOf("extras")?!0:!1,a=(o?"":i.year,o?"extras":"regular"),s=o?c(t):i.content,u=h(i.filters);u?u[0]:null}return n+='<div class="package_item main '+a+'" data-filters="'+i.filters+'" data-countries="'+u+'"  data-id="'+i.id+'" data-year="'+i.year+'" data-year-sort="'+r+'">\n            <div class="inner_image" id="'+(o?t.style:"")+'" style="background-image:url(\''+i.cover+'\');">\n\n              <div class="tag">\n                <span class="countrytag"></span><span class="yeartag">'+r+'</span>\n              </div>\n            </div>\n            <div class="small credit">'+(i.credit?i.credit:"")+'</div>\n           <div class="promo_dek">\n            <h5 class="title">'+i.title+"</h5>\n           <p>"+s+' <br/><a class="related_link" href="'+i.link+'" target=_blank > </a></p>\n\n                    <div class="social-links social-riser">\n                           <div class="social-link social-link-twitter">\n                           <a data-url="https://twitter.com/share?url='+e+"&amp;text=%23"+i.social+'" rel="WSJ%2040"\n                              data-text="WSJA%2040" data-network="twitter" href="https://twitter.com/share?url='+e+"&amp;text=%23"+i.social+'"\n                              onclick="share(this.href);return false" onfocus="this.blur()" class="sr-twitter" ><span class="twshare"></span> </a>\n                            </div>\n\n                    </div>\n           </div>\n          </div>'}function o(t){var e=(Modernizr.touch,t.length,""),i=t;return e+='<div class="package_item extras '+(i.style?i.style:"")+'" data-filters="'+i.filters+'" id="el_'+i.id+'" data-id="'+i.id+'" data-year="'+i.year+'">\n            <div class="inner_image" style="background-image:url(\''+i.imgSrc+'\'); background-repeat: no-repeat; background-size:cover; ">\n            </div>\n           <div class="promo_dek">\n            <h5 class="title">'+i.title+"</h5>\n           </div>\n          </div>"}function a(t){var e=(Modernizr.touch,t.length,""),i=t;return e+='<div class="package_item extras video '+(i.style?i.style:"")+'" data-filters="'+i.filters+'" data-id="'+i.id+'" data-year="'+i.year+'">\n\n            <div class="inner_video" >\n            <wsjvideo class="media-inset inset-bottom-margin" >\n              <div style="margin-top:0px;width:100%;height:0;padding-bottom:56.25%;position:relative;">\n                  <div style="position:absolute;width:100%;height:100%;">\n                      <div id="inner_video_player" style="position:absolute;width:100%;height:100%;left:0;top:0;" data-playing="false">\n                          <iframe style="width:100%;height:100%;" src="http://video-api.wsj.com/api-video/player/iframe.html?guid=2FDAECA5-B1D0-4FEE-830E-8EB2E2455B38&adsEnabled=false&resetOnComplete=true&height=288&width=512" frameborder="0" scrolling="no"></iframe>\n                      </div>\n                  </div>\n              </div>\n            </wsjvideo>\n            <div class="promo_dek">\n                <h5 class="title">'+i.title+"</h5>\n              </div>\n            </div>\n\n          </div>"}function s(t){var e=window.location.origin+window.location.pathname+"/%23/?id="+t.id;return'<div class="row">\n              <div class="col-md-12">\n                <div class="row">\n                  <div class="col-md-12">\n                    <div class="tag">\n                      '+t.year+"\n                    </div>\n                    <img src='"+t.imgSrc+'\' />\n                    <span class="small credit">'+t.credit+'</span>\n                  </div>\n                </div>\n                <div class="row">\n                  <div class="col-md-8 col-md-push-2 col-sm-10 col-sm-push-1">\n                    <div class="inner-content">\n                      <h4 class="hed">'+t.title+"</h4>\n                      <span>"+t.content+'</span>\n                      <br/>\n                    <a href="'+t.link+'" target=_blank > </a>\n                      <br/>\n                    </div>\n\n                    <div class="social-links social-riser">\n                           <div class="social-link social-link-twitter">\n                           <a href="https://twitter.com/share?url='+e+"&amp;text=%23"+t.social+'"\n                              onclick="share(this.href);return false" onfocus="this.blur()" class="sr-twitter" ><span class="twshare"></span> </a>\n                            </div>\n\n                    </div>\n                  </div>\n                </div>\n            </div>\n          </div>'}function u(t){window.location.origin+window.location.pathname;return'<div class="package_item charts '+(t.style?t.style:"")+'" data-filters="'+t.filters+'" data-id="'+t.id+'" data-year="'+t.year+'">\n                <h5 style="padding-left:10px;">'+t.title+'</h5>\n                <br/>\n            <div id="'+t.style+'"></div>\n            <div class="credit" style="padding-left:10px;">'+t.credit+'</div>\n              <div class="inner-content">\n\n                <p style="padding-left:10px;">'+t.content+"</p>\n              </div>\n            </div>"}function l(t){var e=window.location.origin+window.location.pathname+"/%23/?id="+t.id,i=c(t);return'<div class="row">\n              <div class="col-md-12">\n                <div class="row">\n                  <div class="col-md-12">\n                    <img src=\''+t.cover+'\' />\n                    <span class="small credit">'+(t.credit?t.credit:"")+'</span>\n                  </div>\n                </div>\n                <div class="row">\n                  <div class="col-md-8 col-md-push-2 col-sm-10 col-sm-push-1">\n                    <div class="inner-content">\n                      <h4 class="hed">'+t.title+"</h4>\n\n                                "+i+'\n\n                    </div>\n\n                    <div class="social-links social-riser">\n                           <div class="social-link social-link-twitter">\n                              <a data-url="https://twitter.com/share?url='+e+"&amp;text=%23"+t.social+'" rel="WSJ%2040"\n                              data-text="WSJ%2040" data-network="twitter" href="https://twitter.com/share?url='+e+"&amp;text=%23"+t.social+'"\n                              onclick="share(this.href);return false" onfocus="this.blur()" class="sr-twitter" ><span class="twshare"></span> </a>\n                            </div>\n\n                    </div>\n                  </div>\n                </div>\n            </div>\n          </div>'}function d(t){var e=window.location.origin+window.location.pathname;return'<div class="row" id="baker">\n              <div class="col-md-12">\n                <div class="row">\n                  <div id="gerryImg">\n                    <img src=\'img/gerry-hedcut.png\' />\n                  </div>\n                </div>\n                <div class="row">\n                  <div class="col-md-8 col-md-push-2 col-sm-10 col-sm-push-1">\n                    <div class="inner-content">\n                      <h4 class="hed">'+t.title+"</h4>\n                      <span>"+t.content+'</span>\n                      <h5>Sincerely,</h5>\n                      <div id="sig-wrap">\n                        <img id="signature" src="img/gerry-sig.png">\n                      </div>\n                      <h5>Gerard Baker<br/>\n                      Editor in Chief, <br/>\n                      The Wall Street Journal</h5>\n                    </div>\n                    <div class="social-links social-riser">\n                           <div class="social-link social-link-twitter">\n                           <a href="https://twitter.com/share?url='+e+'&text=A letter to readers on %23WSJAsia40 anniversary" onclick="share(this.href);return false" onfocus="this.blur()" class="sr-twitter" ><span class="twshare"></span> </a>\n                            </div>\n\n                    </div>\n                  </div>\n                </div>\n            </div>\n          </div>'}function c(t){var e=t.content,i="";return t.filters.includes("leaders")?e.forEach(function(t){i+='<div class="extras people"><span class="hl_name">'+t.Name+"</span>",i+=t.Company?"<br><span>"+t.Company+"</span>":"",i+=t.Country?"<span> ("+t.Country+") ":"",i+=' <a href="'+t.Link+'" target=_blank> </a></div>'}):t.filters.indexOf("disasters")>-1?e.forEach(function(t){i+="<div><h5>"+t.Name+"</h5>",i+=t.Date?"<span> "+t.Date+"</span> <br>":"",i+=t.Summary?"<span> "+t.Summary+"</span> ":"",i+='<br> <a href="'+t.Link+'" target=_blank> </a></div>'}):t.filters.indexOf("aheds")>-1?(i+="<p> "+t.define+"</p> ",e.forEach(function(t){i+="<div><h5>"+t.Name+"</h5>",i+=t.Date?"<span> "+t.Date+"</span> <br>":"",i+=t.Summary?"<span> "+t.Summary+"</span> ":"",i+=' <a href="'+t.Link+'" target=_blank> </a></div>'})):t.filters.indexOf("pageone")>-1&&(i+='<div> <a href="'+t.link+'" target=_blank> </a></div>'),i}function h(t){var e=/(||||||||||||||||||)(?!\s\w)/gi,i=t,n=i.match(e);return n}Object.defineProperty(i,"__esModule",{value:!0}),i.simple_template=n,i.mobile_template=r,i.extras_template=o,i.video_extras_template=a,i.modal=s,i.extras_chart_tmpl=u,i.extras_modal=l,i.gerry_modal=d},{}],40:[function(t,e,i){"use strict";function n(){function t(){for(var t=document.getElementById("timeline_chart");t.firstChild;)t.removeChild(t.firstChild);var e=Number(window.getComputedStyle(t).width.slice(0,-2)),i={top:40,right:50,bottom:30,left:10},n=e-i.left-i.right,r=300-i.top-i.bottom,o=d3.timeParse("%d/%m/%y"),a=d3.scaleTime().range([0,n]),s=d3.scaleLinear().range([r,0]),u=d3.scaleOrdinal(["rgba(99, 188, 81, 0.7)","rgba(0, 152, 219, 0.7)","rgba(249, 162, 36, 0.7)","rgba(99, 188, 81,0.7)","rgba(114, 114, 114, 0.7)","rgb(238, 58, 67)"]),l=d3.select("#timeline_chart").append("svg").attr("width",n+i.left+i.right).attr("height",r+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")"),d=d3.line().x(function(t){return a(o(t.date))}).y(function(t){return s(t.value)});d3.json("libs/new-datafinal.json",function(t,i){function n(){}var c=i;a.domain(d3.extent(i[1].values,function(t){return o(t.date)})),s.domain([0,30]),u.domain(c.map(function(t){return t.id})),l.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+r+")").call(d3.axisBottom(a));var h=l.append("g").attr("class","axis axis--y").call(d3.axisLeft(s).tickSize(-e).ticks(5,"s").tickFormat(function(t,e){return 6===e?t+"%":t})).call(n).style("text-anchor","start");h.append("text").attr("class","axis-title").attr("y",-10).attr("x",115).attr("dy",".71em").style("text-anchor","end").text("Share of global GDP");var f=l.selectAll(".country").data(i).enter().append("g").attr("class",function(t){return t.id}),p=f.append("path").attr("class",function(t){return t.country+" line"}).style("stroke",function(t){return u(t.country)}).attr("d",function(t){return d(t.values)}),m=[p._groups[0][4].getTotalLength()];d3.select(p._groups[0][4]).attr("stroke-dasharray",m[0]+" "+m[0]).attr("stroke-dashoffset",m[0]).transition().duration(5e3).attr("stroke-dashoffset",0),f.append("text").datum(function(t){return{country:t.country,dates:o(t.values[t.values.length-1].date),value:t.values[t.values.length-1].value}}).attr("transform",function(t){return"translate("+a(t.dates)+","+s(t.value)+")"}).attr("x",3).attr("dy","0.35em").style("font","10px sans-serif").text(function(t){return t.country})})}t(),window.addEventListener("resize",function(){t()})}Object.defineProperty(i,"__esModule",{value:!0}),i.d3chart=n},{}],41:[function(t,e,i){"use strict";function n(){i.resizeWidth=r=$(window).width(),$(function(){$("#agdp").empty();var t={top:20,right:10,bottom:25,left:10},e=$("#agdp").width()-5,i=.6*e,n=$(window).outerWidth();500>n&&(i=1*e);var r=e-t.left-t.right,o=i-t.top-t.bottom,a=d3.timeParse("%Y"),s=65,u=30,l=["rgba(99, 188, 81,0.7)","rgba(0, 152, 219,0.7)","rgba(249, 162, 36,0.7)","rgba(249, 162, 36,0.7)","rgba(114,114,114,0.7)","rgb(238, 58, 67)"],d=d3.scaleTime().range([u,r-15]),c=d3.scaleLinear().range([o,0]),h=d3.area().curve(d3.curveBasis).defined(function(t){return t
}).x(function(t){return d(t.date)}).y0(o).y1(function(t){return c(t.value)}),f=d3.axisBottom(d),p=d3.axisLeft(c).ticks(6).tickSize(-r).tickFormat(function(t){return 25===t?"$"+t:t}),m=d3.select("#agdp").append("svg").attr("width",e).attr("height",i).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.csv("chart_data/gdp.csv",function(t,e){if(t)throw t;e.forEach(function(t){t.date=a(t.date),t.value=+t.value});var i=d3.max(e,function(){return 25});d.domain(d3.extent(e,function(t){return t.date})),c.domain([0,i]),m.append("path").datum(e).attr("class","area").attr("d",h).style("fill",function(){return l[1]}).style("opacity",.8);var n=(m.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")").call(f),m.append("g").attr("class","y axis").call(p));n.selectAll("text").append("tspan").text("").each(function(t){25!==t&&d3.select(this).style("fill-opacity","0")}),n.selectAll("text").attr("x",s).attr("dy",-5)})}),$(function(){$("#apop").empty();var t={top:20,right:10,bottom:25,left:10},e=$("#apop").width(),i=.6*e,n=$(window).outerWidth();500>n&&(i=1*e);var r=e-t.left-t.right,o=i-t.top-t.bottom,a=d3.timeParse("%Y"),s=50,u=20,l=["#ce3139","#0079ae","#52a045"],d=d3.scaleTime().range([u,r-15]),c=d3.scaleLinear().range([o,0]),h=d3.area().curve(d3.curveBasis).defined(function(t){return t}).x(function(t){return d(t.date)}).y0(o).y1(function(t){return c(t.value)}),f=d3.axisBottom(d),p=d3.axisLeft(c).ticks(5).tickSize(-r).tickFormat(function(t){return 20===t?"$"+t:t}),m=d3.select("#apop").append("svg").attr("width",e).attr("height",i).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.csv("chart_data/pop.csv",function(t,e){if(t)throw t;e.forEach(function(t){t.date=a(t.date),t.value=+t.value});var i=d3.max(e,function(t){return t.value});d.domain(d3.extent(e,function(t){return t.date})),c.domain([0,i]),m.append("path").datum(e).attr("class","area").attr("d",h).style("fill",function(){return l[2]}).style("opacity",.8);var n=(m.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")").call(f),m.append("g").attr("class","y axis").call(p));n.selectAll("text").append("tspan").text("").each(function(t){4!==t&&d3.select(this).style("fill-opacity","0")}),n.selectAll("text").attr("x",s).attr("dy",-5)})}),$(function(){$("#aco2").empty();var t={top:20,right:10,bottom:25,left:10},e=$("#aco2").width(),i=.6*e,n=$(window).outerWidth();500>n&&(i=1*e);var r=e-t.left-t.right,o=i-t.top-t.bottom,a=d3.timeParse("%Y"),s=80,u=20,l=["#ce3139","#0079ae","#52a045"],d=d3.scaleTime().range([u,r-15]),c=d3.scaleLinear().range([o,0]),h=d3.area().curve(d3.curveBasis).defined(function(t){return t}).x(function(t){return d(t.date)}).y0(o).y1(function(t){return c(t.value)}),f=d3.axisBottom(d),p=d3.axisLeft(c).ticks(6).tickSize(-r).tickFormat(function(t){return 16===t?t:t}),m=d3.select("#aco2").append("svg").attr("width",e).attr("height",i).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.csv("chart_data/co2.csv",function(t,e){if(t)throw t;e.forEach(function(t){t.date=a(t.date),t.value=+t.value});d3.max(e,function(t){return t.value});d.domain(d3.extent(e,function(t){return t.date})),c.domain([0,16]),m.append("path").datum(e).attr("class","area").attr("d",h).style("fill",function(){return l[0]}).style("opacity",.8);var i=(m.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")").call(f),m.append("g").attr("class","y axis").call(p));i.selectAll("text").append("tspan").text("").each(function(t){16!==t&&d3.select(this).style("fill-opacity","0")}),i.selectAll("text").attr("x",s).attr("dy",-5)})})}Object.defineProperty(i,"__esModule",{value:!0}),i.d3Charts=n;var r=i.resizeWidth=void 0;$(window).on("resize",function(){return $(window).width()!==r?n():void 0}),n()},{}],42:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){function r(){var t=document.getElementById("inner_video_player");return t.innerHTML="",t.innerHTML='<iframe style="width:100%;height:100%;" src="http://video-api.wsj.com/api-video/player/iframe.html?guid=2FDAECA5-B1D0-4FEE-830E-8EB2E2455B38&adsEnabled=false&resetOnComplete=true&height=288&width=512" frameborder="0" scrolling="no"></iframe>',t}var o=Modernizr.touch,a=document.getElementById("menu_pos");a=a.offsetTop;var s={content:function(e){var i=(t.getAttribute("data-filter"),c.wsja_isotope);i.arrange({filter:function(t,i){var n=i.getAttribute("data-filters"),r=n.search(e)>-1?!0:!1;return r},sortBy:["id","year"],sortAscending:{id:!0,year:!1}}),o&&window.scrollTo(0,a),this.carousel_idx_array(i),i.layout(),r()},decade:function(){var n=t.getAttribute("data-filter"),r=t.getAttribute("data-start-decade"),s=t.getAttribute("data-end-decade"),u=c.wsja_isotope;n?this.content(n):u.arrange({filter:function(t,n){var o=void 0,a=n.getAttribute("data-year").split(/[-,]/);if(a.length>1)for(i=0;i<a.length;i++){var l=Number(a[i]);if(l>=r&&s>=l){n.setAttribute("data-year-sort",l);var d=n.getElementsByClassName("yeartag");return d[0].innerHTML=l,d}}else o=a[0];return u.updateSortData(e),o>=r&&s>=o},sortBy:["year","id"],sortAscending:{id:!0,year:!1}}),o&&window.scrollTo(0,a),this.carousel_idx_array(u),u.layout()},build_country_tags:function(){for(var t=document.getElementsByClassName("package_item"),e=0;e<t.length;e++){var i=t[e].getAttribute("data-filters").indexOf("extras"),n=t[e].getAttribute("data-filters").indexOf("charts");if(-1===i&&-1===n){var r=t[e].getAttribute("data-countries");r.length>1&&(r=r.replace(/,/g," | ")),t[e].getElementsByClassName("countrytag")[0].innerHTML=r+": "}}},remove_country_tags:function(){for(var t=document.getElementsByClassName("countrytag"),e=0;e<t.length;e++)t[e].innerHTML=""},reset_year_tags:function(){l.arrange({filter:function(t,i){var n=i.getAttribute("data-year").split(/[-,]/);if(n.length>1){i.setAttribute("data-year-sort",n[0]);var r=i.getElementsByClassName("yeartag");r[0].innerHTML=n[0]}l.updateSortData(e)},sortBy:"year",sortAscending:!1})},country:function(){var e=(t.getAttribute("data-filter"),c.wsja_isotope),i=document.getElementsByClassName("package_item");e.updateSortData(i),e.arrange({filter:function(t,e){var i=e.getAttribute("data-countries");return i="null"===i?!1:i},sortBy:["country","year"],sortAscending:{country:!0,year:!1}}),this.build_country_tags(),e.updateSortData(),e.layout()},carousel_idx_array:function(t){var e=t.filteredItems;return n.item_array=h=e},reset:function(){this.reset_year_tags(),this.remove_country_tags();var t=c.wsja_isotope;t.arrange({filter:".main",sortBy:["year"],sortAscending:{id:!0,year:!1}}),n.item_array=h=t.filteredItems}},l=c.wsja_isotope,d=document.getElementsByClassName("active")[0];if(d&&("extras"===d.getAttribute("data-filter")&&r(),d.className=d.className.replace(/ active/,"")),t.className+=" active","country"===c.wsja_isotope.sortHistory[0][0]&&s.remove_country_tags(),"year"===c.wsja_isotope.sortHistory[0][1]&&s.reset_year_tags(),t.className.indexOf("decade")>-1)s.decade();else if(t.className.indexOf("content")>-1&&"country"===t.getAttribute("data-filter")){var f=t.getAttribute("data-filter");s.country()}else if(t.className.indexOf("content")>-1&&"all"===t.getAttribute("data-filter"))s.reset();else if(t.className.indexOf("content")>-1){var f=t.getAttribute("data-filter");s.content(f)}return u.d3Charts(),s}Object.defineProperty(n,"__esModule",{value:!0}),n.item_array=void 0,n.data_filters=o;var a=t("./getdata"),s=(r(a),t("./d3charts")),u=r(s),l=t("./_templates"),d=(r(l),t("./layout")),c=r(d),h=n.item_array=[]||!1},{"./_templates":39,"./d3charts":41,"./getdata":43,"./layout":44}],43:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(){var t=(d.default(),"libs/archibald.json"),e=s.default.get(t,{responseType:"json"}).then(function(t){return t.data.articlelist.map(function(t,e){var i=void 0,n=t.Image.split("_");return"extras"===t.Type&&"46"!==t.Id?(t.Image=t.Image,i=t.Image.split("_"),i=t.Image):(t.Image=n[0]+"_"+n[1]+"_M_"+n[3],i=t.Image),{id:e,type:t.Type,filters:t.Keywords,menu:t.Menu,year:t.Year,title:t.Hed,social:t.SocialHed,credit:t.CreditText,imgSrc:t.Image,style:t.Style,define:t.Defs,link:t.RelatedArticleURL,GUID:t.GUID?t.GUID:null,cover:i,content:t.Summary}})}).then(function(t){i.dataObject=h=t;var e=t;return e});return i.dataObject=h=e}Object.defineProperty(i,"__esModule",{value:!0}),i.dataObject=void 0,i.getdata=o;var a=t("axios"),s=r(a),u=t("fs"),l=(r(u),t("./_istouch")),d=n(l),c=t("./_templates"),h=(n(c),i.dataObject=[])},{"./_istouch":37,"./_templates":39,axios:3,fs:1}],44:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function a(){f.getdata().then(function(t){return u(t)}).then(function(){return y.d3Charts(),s()}).then(function(){})}function s(){var t=/(Afghanistan|Bangladesh|Cambodia|China|Hong Kong|India|Indonesia|Japan|Malaysia|Myanmar|North Korea|Pakistan|South Korea|Singapore|Philippines|Sri Lanka|Taiwan|Thailand)/gi;n.wsja_isotope=w=new c.default(x,{itemSelector:".package_item",layoutMode:"masonry",percentPosition:!0,getSortData:{id:"[data-id] parseInt",year:"[data-year-sort]",country:function(e){var i=e.getAttribute("data-filters"),n=i.match(t),r=n?n[0]:"z";return r}},filter:".main",sortBy:["id","year"],sortAscending:{id:!0,year:!1},masonry:{columnWidth:".grid_sizer",gutterWidth:10}});w.items;return w.once("layoutComplete",function(t,e){return l(e)}),w.layout(),w}function u(t){var e,n='<div class="grid_sizer" data-filters=""></div>';for(i=0;i<t.length;i++)e=t[i].type,Modernizr.touch&&window.innerWidth<=600?n+=t[i].filters.indexOf("video")>-1?m.video_extras_template(t[i]):t[i].filters.indexOf("charts")>-1?m.extras_chart_tmpl(t[i]):m.mobile_template(t[i]):"multi"===e?n+=m.simple_template(t[i]):"video"===e?n+=m.video_template(t[i]):"photo"===e?n+=m.photo_template(t[i]):"extras"===e?t[i].GUID?(console.log("VIDEO:",t[i].GUID),n+=m.video_extras_template(t[i])):n+=m.extras_template(t[i]):"chart"===e&&(n+=m.extras_chart_tmpl(t[i]));var r=x.innerHTML=n;return r}function l(){var t,e=document.getElementsByClassName("package_item");if(!Modernizr.touch||window.innerWidth>620){for(i=0;46>i;i++)40!==i&&e[i].addEventListener("click",function(){var e=this,i=e.getAttribute("data-id");return t=new _.Modal("wsjaModalWrapper",e,i)});window.onload=function(){var e=Number(window.location.hash.match(/[0-9]*/g)[6]);if(window.scrollTo(0,80),e>0&&46>e&&!Modernizr.touch){var i=this;return t=new _.Modal("wsjaModalWrapper",i,e)}}}var n=document.getElementById("gb_essay");n.addEventListener("click",function(){if(Modernizr.touch){var e=this,i=49;return window.open("http://www.wsj.com/articles/a-letterto-readers-1473416167")}var e=this,i=46;t=new _.Modal("wsjaModalWrapper",e,i)})}Object.defineProperty(n,"__esModule",{value:!0}),n.wsja_isotope=void 0,n.isoLayout=a,n.build_isotope=s,n.buildTemplate=u,n.modal_event_listeners=l;var d=t("isotope-layout"),c=o(d),h=t("./getdata"),f=r(h),p=t("./_templates"),m=r(p),g=t("./d3charts"),y=r(g),v=t("./_load_video.js"),_=(r(v),t("./Modal")),x=document.getElementById("package"),w=n.wsja_isotope=void 0},{"./Modal":36,"./_load_video.js":38,"./_templates":39,"./d3charts":41,"./getdata":43,"isotope-layout":26}],45:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}function a(){var t=document.getElementsByClassName("package_item"),e=document.getElementsByClassName("menu_btn");for(i=0;i<e.length;i++){var n=e[i];n.addEventListener("click",function(e){var i=document.getElementsByClassName("hl_modal");if(i.length>0){var n=i[0];n.className=n.className.replace(/ hl_modal/,"")}var r=e.target,o=t;p.data_filters(r,o)})}var r=document.getElementById("wsj40logo");return r.addEventListener("click",function(){location.reload()}),s(e)}function s(){window.addEventListener("scroll",y)}function u(t,e,i){var n;return function(){var r=this,o=arguments,a=function(){n=null,i||t.apply(r,o)},s=i&&!n;clearTimeout(n),n=setTimeout(a,e),s&&t.apply(r,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.navigation=a,n.sticky_nav=s;var l=t("isotope-layout"),d=(o(l),t("./getdata")),c=r(d),h=t("./layout"),f=(r(h),t("./filters")),p=r(f),m=t("./Modal"),g=(o(m),c.getdata(),document.getElementById("package"),!1),y=u(function(){var t=document.getElementById("mobile_menu"),e=(document.getElementsByClassName("navbar"),document.getElementById("menu_pos").offsetTop),i=window.pageYOffset;if(i>e&&g===!1)return t.className=t.className.replace(/ unfixed_menu/," fixed_menu"),g=!0;if(e>i&&g===!0)return t.className=t.className.replace(/ fixed_menu/," unfixed_menu"),g=!1;var n=document.getElementsByClassName("open")[0];n&&(n.className=n.className.replace(/ open/,""))},150)},{"./Modal":36,"./filters":42,"./getdata":43,"./layout":44,"isotope-layout":26}]},{},[35]);