function init(){anim(),changeVolume();new Konami(yo);document.body.style="background-color:#000000";var t=window,e=document,n=e.documentElement,o=e.getElementsByTagName("body")[0],d=t.innerWidth||n.clientWidth||o.clientWidth,a=t.innerHeight||n.clientHeight||o.clientHeight;for(dotabc="",i=0;i<100;i++)px=Math.floor(Math.random()*(d-20)),py=Math.floor(Math.random()*(a-20)),dotabc+='<div id="d'+i+'" style="width:2px;height:2px;background-color:#fefefe;position:absolute;top:'+py+"px;left:"+px+'px;"></div>';document.getElementById("dots").innerHTML=dotabc,document.getElementById("dots").style.zIndex="-1"}function yo(){document.getElementById("loop").src="samba.mp3",document.getElementById("loop").load(),document.getElementById("loop").play()}function anim(){setTimeout(anim,speed),frame++,frame>9&&(frame=1,speed>10&&speed--),3==frame&&playSuper(),document.getElementById("gnome").innerHTML='<img src="img/'+frame+'.png" onClick="changeVolume()" style="width:256;height:256;" />'}function playSuper(){document.getElementById("super").play()}function changeVolume(){volume+=.1,volume>1&&(volume=0),document.getElementById("super").volume=volume,document.getElementById("debug").innerHTML=volume}var Konami=function(t){var e={addEvent:function(t,e,n,o){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n](window.event,o)},t.attachEvent("on"+e,t[e+n]))},input:"",pattern:"38384040373937396665",load:function(t){this.addEvent(document,"keydown",function(n,o){return o&&(e=o),e.input+=n?n.keyCode:event.keyCode,e.input.length>e.pattern.length&&(e.input=e.input.substr(e.input.length-e.pattern.length)),e.input==e.pattern?(e.code(t),e.input="",n.preventDefault(),!1):void 0},this),this.iphone.load(t)},code:function(t){window.location=t},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],code:function(t){e.code(t)},load:function(t){this.orig_keys=this.keys,e.addEvent(document,"touchmove",function(t){if(1==t.touches.length&&1==e.iphone.capture){var n=t.touches[0];e.iphone.stop_x=n.pageX,e.iphone.stop_y=n.pageY,e.iphone.tap=!1,e.iphone.capture=!1,e.iphone.check_direction()}}),e.addEvent(document,"touchend",function(){1==e.iphone.tap&&e.iphone.check_direction(t)},!1),e.addEvent(document,"touchstart",function(t){e.iphone.start_x=t.changedTouches[0].pageX,e.iphone.start_y=t.changedTouches[0].pageY,e.iphone.tap=!0,e.iphone.capture=!0})},check_direction:function(t){x_magnitude=Math.abs(this.start_x-this.stop_x),y_magnitude=Math.abs(this.start_y-this.stop_y),x=this.start_x-this.stop_x<0?"RIGHT":"LEFT",y=this.start_y-this.stop_y<0?"DOWN":"UP",result=x_magnitude>y_magnitude?x:y,result=1==this.tap?"TAP":result,result==this.keys[0]&&(this.keys=this.keys.slice(1,this.keys.length)),0==this.keys.length&&(this.keys=this.orig_keys,this.code(t))}}};return"string"==typeof t&&e.load(t),"function"==typeof t&&(e.code=t,e.load()),e},isInit=!1;
