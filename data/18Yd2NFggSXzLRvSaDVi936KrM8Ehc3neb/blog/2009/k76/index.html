<!DOCTYPE HTML>
<html lang="ru">
    <head>
      <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>18Yd2NFggSXzLRvSaDVi936KrM8Ehc3neb</title>
      <link rel="stylesheet" href="/18Yd2NFggSXzLRvSaDVi936KrM8Ehc3neb/css/main.css"/>
      <link rel="shortcut icon" type="image/x-icon" href="/18Yd2NFggSXzLRvSaDVi936KrM8Ehc3neb/i/favicon.ico"/>
      <link href="/18Yd2NFggSXzLRvSaDVi936KrM8Ehc3neb/rss.xml" title="Akademic's blog" type="application/rss+xml" rel="alternate"/>
    </head>
    <body>
        <header><h1><a href="/18Yd2NFggSXzLRvSaDVi936KrM8Ehc3neb" rel="home">akademic.name</a></h1></header>
        <main class="content">
            
<article>
    <h1>Скрипт для rejector.ru</h1> <time>27.12.2009</time>
	<p>Попалась мне тут статья на хабре про сервис <a href="http://rejector.ru">http://rejector.ru</a>
Прочитать зачем он нужен лучше на сайте.
Я же использовал его, чтобы назвать все домашние компьютеры приятными глазу именами с помощью функции &ldquo;Закладки&rdquo;.
Теперь вместо 192.168&hellip; могу набирать домены.
Единственная проблема у меня возникла - ip-адрес хоть и внешний, но всёже динамический.
PPPoE сессия рвётся минимум раз в сутки, а ip-адрес практически всегда даётся разный.</p>

<p>В FAQ сервиса написано, что поддерживается протокол dyndns.
Это радовало, жаль только Linksys wrt54gc умеет использовать dyndns только с родным сайтом.
У меня в сети есть сервер на debian. Сейчас занимается торрентами и  файл-хранением.
Вот решил его использовать для обновления ip на rejector&rsquo;е.
Сначала решил поставить пакет умеющий dyndns, но он потащил лишние зависимости, а потом ещё стал напрягать обильными настройками.</p>

<p>В-общем, свой велосипед ближе к телу.
Здесь <a href="http://rejector.ru/features/dynip/">http://rejector.ru/features/dynip/</a> описан простейший api.
Просто переходим по ссылке, с указанием логина и пароля - справится и wget.
Правда, чтобы не напрягать создателей лучше проверять, надо ли делать запрос.
Сделать я это решил через проверку, что доменное имя, которое я назначил серверу, ведёт на сервер. Т.е. проверить, что домен резолвится в ip сервера.</p>

<p>Сначала хотел реализовать на python, а потом как-то вышло что сделал всё на shell. Поставил в крон, работает.</p>

<p>Заодно, наконец завёл себе акк на bitbucket.org. Буду туда скрипты всякие выкладывать. Заодно буду практиковать mercurial дабы не забыть.</p>

<p>В-общем, вот репозиторий со скриптом: <a href="http://bitbucket.org/akademic/public_scripts/">http://bitbucket.org/akademic/public_scripts/</a>
В будущем, надеюсь, будет расти, пополняться.</p>

    
    <span class="next_blog_post">
    <a href="/18Yd2NFggSXzLRvSaDVi936KrM8Ehc3neb/blog/2010/k77/index.html" rel="next">Снова на дебиан? Возможно.</a>
    </span>
	
	
    <span class="prev_blog_post">
    <a href="/18Yd2NFggSXzLRvSaDVi936KrM8Ehc3neb/blog/2009/k75/index.html" rel="previous">Зарядка аккумулятора</a>
    </span>
	
</article>

        </main>
        <footer>
        Будьте внимательны, многое из того, что написано в этом блоге, является личным мнением автора и не претендует на истину.
        <img src="/18Yd2NFggSXzLRvSaDVi936KrM8Ehc3neb/i/yopiright.jpg" width="12" height="12"/> 2008
        </footer>
    </body>
</html>
