{
	"next_topic_id": 2,
	"topic": [
		{
			"topic_id": 1637347237,
			"title": "Новая супер финансовая система, которая может поломать текущую фиатную и блокчейн систему",
			"body": "в далеком будущем такая система будет рулить\n\nпримерный код\n\n<pre>\nfunction process_fat_accounts(accounts, base) {\n    let sum = 0;\n    for (let index = 0; index < accounts.length; index++) {\n        const money = accounts[index];\n        if (money > base) {\n            let f = Math.pow(money / base, 1.3);\n            if ((accounts[index] - f) > base) {\n                accounts[index] -= f;\n                sum += f;\n            }\n        }\n    }\n    return sum;\n}\n\nfunction small_amount_limit(f) {\n    return f > 20 ? 20 : f;\n}\n\nfunction process_poor_accounts(accounts, base, benefits) {\n    let all_factors = 0;\n    for (let i = 0; i < accounts.length; i++) {\n        const money = accounts[i];\n        if (money < base) {\n            all_factors += small_amount_limit(base / money);\n        }\n    }\n    let amount_to_add = benefits / all_factors;\n\n    for (let i = 0; i < accounts.length; i++) {\n        let money = accounts[i];\n        if (money < base) {\n            let f = small_amount_limit(base / money) * amount_to_add;\n            accounts[i] += f;\n        }\n    }\n}\n\nfunction main() {\n    let accounts = Array.from({ length: 1000000 }, () => Math.floor(Math.random() * 10000));\n\n    let base = accounts.reduce((a, b) => a + b, 0) / accounts.length;\n\n    console.log(\"base: \" + base.toFixed(2));\n\n    //один цикл в 8 часов, 3 цикла в день, 100 циклов в один месяц\n    for (let i = 0; i < 100; i++) {\n        let benefits = process_fat_accounts(accounts, base);\n        process_poor_accounts(accounts, base, benefits);\n        // показываем как меняется баланс на 5-ом экаунте\n        console.log(i + \"| баланс на 5ом счету\", accounts[5].toFixed(2));\n    }\n    console.log(\"finished\");\n}\n\n//start main\nmain();\n</pre>\n\n",
			"added": 1637347236,
			"modified": 1637347330
		}
	],
	"topic_vote": {},
	"next_comment_id": 1,
	"comment": {},
	"comment_vote": {}
}