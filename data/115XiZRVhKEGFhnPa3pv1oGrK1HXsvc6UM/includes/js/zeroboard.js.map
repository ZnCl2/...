{"version":3,"sources":["webpack:///webpack/bootstrap 3b28f09ec78265dc1117","webpack:///./includes/js/main.js","webpack:///./includes/js/components/newPost.js","webpack:///./includes/js/core/zero_frame.js","webpack:///./includes/js/core/page.js","webpack:///./includes/js/core/utils.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACrCA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;;;;;;;;KAEa;;;;;;;;;;;gCAED;AACA,kBAAK,IAAL,GAAY,oBAAZ,CADA;;AAGA,kBAAK,QAAL,GAHA;;AAKA,kBAAK,iBAAL,GAAyB,CAAzB,CALA;AAMA,kBAAK,WAAL,GAAmB,IAAnB,CANA;;AAQA,kBAAK,IAAL,CAAU,aAAV,GARA;;;;0CAWU;;;AACd,wBAAW,KAAK,cAAL,CAAoB,IAApB,CAAyB,IAAzB,CAAX,EAA2C,KAA3C,EADc;AAEd,iBAAI,eAAC,CAAM,aAAN,CAAoB,KAApB,IAA6B,KAAK,iBAAL,GAA0B,EAAxD,EAA4D;AAC5D,wBAD4D;cAAhE;AAGA,kBAAK,GAAL,CAAS,UAAT,EAAqB,EAArB,EAAyB,UAAC,OAAD,EAAa;AAAE,wBAAK,cAAL,CAAoB,OAApB,EAAF;cAAb,CAAzB,CALc;;;;0CAQD;;;AACb,oBAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAqB;AACpC,wBAAK,GAAL,CAAS,SAAT,EAAoB,EAAE,YAAY,oBAAZ,EAAtB,EAA0D,UAAC,YAAD,EAAkB;AACxE,yBAAI;AACA,gCAAK,SAAL,GAAiB,KAAK,KAAL,CAAW,YAAX,CAAjB,CADA;AAEA,gCAAO,SAAP,CAFA;sBAAJ,CAGE,OAAO,CAAP,EAAU;AACR,iCAAQ,GAAR,CAAY,iDAAZ,EADQ;AAER,gCAAO,QAAP,CAFQ;sBAAV;kBAJoD,CAA1D,CADoC;cAArB,CAAnB,CADa;;;;2CAcE;;;AACf,kBAAK,cAAL,GAAsB,IAAtB,CAA2B,YAAM;AAC7B,wBAAK,GAAL,CAAS,UAAT,EAAqB,EAArB,EAAyB,UAAC,OAAD,EAAa;AAClC,4BAAK,cAAL,CAAoB,OAApB,EADkC;;AAGlC,yBAAI,OAAK,WAAL,IAAoB,IAApB,EAA0B;AAC1B,gCAAK,IAAL,CAAU,YAAV;;AAD0B,sBAA9B;;AAKA,4BAAK,cAAL,GARkC;kBAAb,CAAzB,CAD6B;cAAN,CAA3B,CADe;;;;;;;;;mCAmBR,KAAK,SAAS;AACrB,iBAAI,OAAO,aAAP,EAAsB;AACtB,sBAAK,cAAL,CAAoB,OAApB,EADsB;cAA1B;;;;yCAKwB;iBAAb,6DAAO,oBAAM;;AACxB,iBAAI,CAAC,IAAD,EAAO;AACP,wBAAO,KAAK,QAAL,CAAc,YAAd,CADA;cAAX;AAGA,iBAAI,QAAQ,oBAAR,EAA8B;AAC9B,wBAAO,eAAP,CAD8B;cAAlC;AAGA,iBAAI,CAAC,IAAD,EAAO;AACP,wBAAO,IAAP,CADO;cAAX;AAGA,oBAAO,KAAK,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAP,CAVwB;;;;wCAaZ,SAAS;AACrB,kBAAK,QAAL,GAAgB,QAAQ,MAAR,IAAkB,OAAlB,CADK;AAErB,kBAAK,iBAAL,GAAyB,gBAAM,aAAN,CAAoB,KAApB,CAAzB,CAFqB;AAGrB,kBAAK,IAAL,CAAU,cAAV,CAAyB,KAAK,QAAL,CAAzB,CAHqB;;;;oCAMb;AACR,iBAAI,SAAS,EAAT,CADI;;;;;;AAER,sCAAiB,SAAS,MAAT,CAAgB,SAAhB,CAA0B,CAA1B,EAA6B,KAA7B,CAAmC,GAAnC,2BAAjB,oGAA0D;yBAAjD,mBAAiD;;AACtD,yBAAI,CAAC,CAAC,KAAK,KAAL,CAAW,eAAX,CAAD,EAA8B;AAC/B,gCAAO,KAAK,KAAL,CAAW,eAAX,EAA4B,CAA5B,CAAP,CAD+B;sBAAnC;AAGA,4BAAO,KAAK,IAAL,EAAP,CAJsD;AAKtD,yBAAI,KAAK,KAAK,MAAL,GAAY,CAAZ,CAAL,IAAuB,GAAvB,EAA4B;AAC5B,gCAAO,KAAK,SAAL,CAAe,CAAf,EAAkB,KAAK,MAAL,GAAY,CAAZ,CAAzB,CAD4B;sBAAhC;AAGA,yBAAI,QAAQ,EAAR,IAAc,QAAQ,GAAR,EAAa;AAC3B,kCAD2B;sBAA/B;AAGA,4BAAO,IAAP,CAAY,IAAZ,EAXsD;kBAA1D;;;;;;;;;;;;;;cAFQ;;AAeR,kBAAK,YAAL,GAAoB,MAApB,CAfQ;;;;YA/EH;;;AAmGb,QAAO,SAAP,GAAmB,IAAI,SAAJ,EAAnB,C;;;;;;;;;;;;;;;;;;;KC1GqB;AAEjB,cAFiB,OAEjB,GAAc;;;;;+BAFG,SAEH;MAAd;;kBAFiB;;iCAQT,MAAM;;;;;oCAIH;;;;;uCAIG;;;YAhBG;;;;;AAmBrB,KAAI,OAAJ,G;;;;;;;;;;;;;;;;ACnBA,KAAM,kBAAkB,YAAlB;AACN,KAAM,eAAe,UAAf;AACN,KAAM,oBAAoB,cAApB;AACN,KAAM,WAAW,MAAX;AACN,KAAM,WAAW,MAAX;AACN,KAAM,+BAA+B,wBAA/B;AACN,KAAM,8BAA8B,wBAA9B;;KAEe;AAEjB,cAFiB,SAEjB,GAAc;+BAFG,WAEH;;AACV,cAAK,UAAL,GAAkB,EAAlB,CADU;AAEV,cAAK,OAAL,GAFU;AAGV,cAAK,eAAL,GAAuB,CAAvB,CAHU;AAIV,cAAK,IAAL,GAJU;MAAd;;kBAFiB;;gCASV;AACH,oBAAO,IAAP,CADG;;;;mCAIG;;;AACN,kBAAK,MAAL,GAAc,OAAO,MAAP,CADR;AAEN,oBAAO,gBAAP,CAAwB,SAAxB,EAAmC;wBAAK,MAAK,SAAL,CAAe,CAAf;cAAL,EAAwB,KAA3D,EAFM;AAGN,kBAAK,GAAL,CAAS,eAAT,EAHM;;;;mCAMA,GAAG;AACT,iBAAI,UAAU,EAAE,IAAF,CADL;AAET,iBAAI,MAAM,QAAQ,GAAR,CAFD;;AAIT,iBAAI,QAAQ,YAAR,EAAsB;AACtB,qBAAI,KAAK,UAAL,CAAgB,QAAQ,EAAR,CAAhB,KAAgC,SAAhC,EAA2C;AAC3C,0BAAK,UAAL,CAAgB,QAAQ,EAAR,CAAhB,CAA4B,QAAQ,MAAR,CAA5B,CAD2C;kBAA/C,MAEO;AACH,0BAAK,GAAL,CAAS,+BAAT,EAA0C,OAA1C,EADG;kBAFP;cADJ,MAMO,IAAI,QAAQ,iBAAR,EAA2B;AAClC,sBAAK,GAAL,CAAS,eAAT,EADkC;cAA/B,MAEA,IAAI,QAAQ,QAAR,EAAkB;AACzB,sBAAK,QAAL,CAAc,QAAQ,EAAR,EAAY,QAA1B,EADyB;cAAtB,MAEA,IAAI,QAAQ,4BAAR,EAAsC;AAC7C,sBAAK,eAAL,GAD6C;cAA1C,MAEA,IAAI,QAAQ,2BAAR,EAAqC;AAC5C,sBAAK,gBAAL,GAD4C;cAAzC,MAEA;AACH,sBAAK,SAAL,CAAe,GAAf,EAAoB,OAApB,EADG;cAFA;;;;mCAOD,KAAK,SAAS;AACpB,kBAAK,GAAL,CAAS,iBAAT,EAA4B,OAA5B,EADoB;;;;kCAIf,IAAI,QAAQ;AACjB,kBAAK,IAAL,CAAU;AACN,sBAAK,YAAL;AACA,qBAAI,EAAJ;AACA,yBAAQ,MAAR;cAHJ,EADiB;;;;6BAQjB,MAAyB;iBAApB,+DAAO,kBAAa;iBAAT,2DAAG,oBAAM;;AACzB,kBAAK,IAAL,CAAU;AACN,sBAAK,IAAL;AACA,yBAAQ,MAAR;cAFJ,EAGG,EAHH,EADyB;;;;8BAOxB,SAAkB;iBAAT,2DAAG,oBAAM;;AACnB,qBAAQ,EAAR,GAAa,KAAK,eAAL,CADM;AAEnB,kBAAK,eAAL,GAFmB;AAGnB,kBAAK,MAAL,CAAY,WAAZ,CAAwB,OAAxB,EAAiC,GAAjC,EAHmB;;AAKnB,iBAAI,EAAJ,EAAQ;AACJ,sBAAK,UAAL,CAAgB,QAAQ,EAAR,CAAhB,GAA8B,EAA9B,CADI;cAAR;;;;+BAKS;+CAAN;;cAAM;;AACT,qBAAQ,GAAR,CAAY,KAAZ,CAAkB,OAAlB,EAA2B,CAAC,aAAD,EAAgB,MAAhB,CAAuB,IAAvB,CAA3B,EADS;;;;2CAIK;AACd,kBAAK,GAAL,CAAS,gBAAT,EADc;;;;4CAIC;AACf,kBAAK,GAAL,CAAS,iBAAT,EADe;;;;YA/EF;;;;;;;;;;;;;;;;;ACRrB;;;;;;;;KAEqB;AAEjB,cAFiB,IAEjB,GAAc;+BAFG,MAEH;;AACV,cAAK,SAAL,GAAiB,SAAS,cAAT,CAAwB,WAAxB,CAAjB,CADU;AAEV,cAAK,YAAL,GAAoB,SAAS,cAAT,CAAwB,cAAxB,CAApB,CAFU;MAAd;;kBAFiB;;yCAOD;AACZ,kBAAK,SAAL,CAAe,KAAf,CAAqB,OAArB,GAA+B,OAA/B,CADY;AAEZ,kBAAK,YAAL,CAAkB,KAAlB,CAAwB,OAAxB,GAAkC,MAAlC,CAFY;;;;yCAKA;AACZ,kBAAK,SAAL,CAAe,KAAf,CAAqB,OAArB,GAA+B,MAA/B,CADY;AAEZ,kBAAK,YAAL,CAAkB,KAAlB,CAAwB,OAAxB,GAAkC,OAAlC,CAFY;AAGZ,kBAAK,YAAL,CAAkB,SAAlB,GAA8B,QAA9B,CAHY;;;;sCAMH,UAAU;AACnB,kBAAK,cAAL,CAAoB,QAApB,EADmB;;;;wCAIP,SAAS;AACrB,iBAAI,WAAW,SAAS,cAAT,CAAwB,UAAxB,CAAX,CADiB;;AAGrB,iBAAG,OAAH,EAAY,SAAS,SAAT,GAAqB,QAAQ,QAAR,CAAiB,KAAjB,GAAyB,UAAzB,GAAsC,gBAAM,eAAN,CAAsB,QAAQ,QAAR,CAAiB,IAAjB,CAA5D,CAAjC;;;;YAzBa;;;;;;;;;;;;;;;;;;;KCFA;;;;;;;yCAEO,OAAO;AAC3B,iBAAS,SAAO,UAAP,EAAmB;AAAE,yBAAM,CAAC,QAAM,UAAN,CAAD,CAAmB,OAAnB,CAA2B,CAA3B,IAA8B,KAA9B,CAAR;cAA5B,MACK,IAAI,SAAO,OAAP,EAAmB;AAAE,yBAAM,CAAC,QAAM,OAAN,CAAD,CAAgB,OAAhB,CAAwB,CAAxB,IAA2B,KAA3B,CAAR;cAAvB,MACA,IAAI,SAAO,IAAP,EAAmB;AAAE,yBAAM,CAAC,QAAM,IAAN,CAAD,CAAa,OAAb,CAAqB,CAArB,IAAwB,KAAxB,CAAR;cAAvB,MACA,IAAI,QAAM,CAAN,EAAmB;AAAE,yBAAM,QAAM,QAAN,CAAR;cAAvB,MACA,IAAI,SAAO,CAAP,EAAmB;AAAE,yBAAM,QAAM,OAAN,CAAR;cAAvB,MACuB;AAAE,yBAAM,QAAN,CAAF;cADvB;AAEL,oBAAO,KAAP,CAP2B;;;;mCAUb,MAAM;AACpB,iBAAI,GAAJ,EAAS,IAAT,EAAe,IAAf,CADoB;;AAGpB,mBAAO,CAAE,IAAI,IAAJ,EAAF,GAAc,IAAd,CAHa;AAIpB,oBAAO,MAAM,IAAN,CAJa;;AAMpB,iBAAI,OAAO,EAAP,EAAW;AACX,wBAAO,UAAP,CADW;cAAf,MAEO,IAAI,OAAO,KAAK,EAAL,EAAS;AACvB,wBAAO,IAAC,CAAK,KAAL,CAAW,OAAO,EAAP,CAAZ,GAA0B,cAA1B,CADgB;cAApB,MAEA,IAAI,OAAO,KAAK,EAAL,GAAU,EAAV,EAAc;AAC5B,wBAAO,IAAC,CAAK,KAAL,CAAW,OAAO,EAAP,GAAY,EAAZ,CAAZ,GAA+B,YAA/B,CADqB;cAAzB,MAEA,IAAI,OAAO,KAAK,EAAL,GAAU,EAAV,GAAe,CAAf,EAAkB;AAChC,wBAAO,IAAC,CAAK,KAAL,CAAW,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAjB,CAAZ,GAAoC,WAApC,CADyB;cAA7B,MAEA;AACH,wBAAO,QAAQ,KAAK,UAAL,CAAgB,IAAhB,CAAR,CADJ;cAFA;AAKP,oBAAO,KAAK,OAAL,CAAa,cAAb,EAA6B,MAA7B,CAAP,CAjBoB;;AAmBpB,oBAAO,IAAP,CAnBoB;;;;oCAsBL,WAA6B;iBAAlB,+DAAS,uBAAS;;AAC5C,iBAAI,KAAJ,EAAW,OAAX,CAD4C;AAE5C,qBAAQ,IAAK,IAAJ,CAAS,YAAU,IAAV,CAAV,CAA2B,QAA3B,GAAsC,KAAtC,CAA4C,GAA5C,CAAR,CAF4C;;AAI5C,iBAAI,UAAU,OAAV,EAAmB;AACnB,2BAAU,MAAM,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAV,CADmB;cAAvB,MAEO;AACH,2BAAU,MAAM,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAV,CADG;cAFP;;AAMA,oBAAO,QAAQ,IAAR,CAAa,GAAb,EAAkB,OAAlB,CAA0B,aAA1B,EAAyC,KAAzC,CAAP,CAV4C;;;;yCAaZ;iBAAd,6DAAO,qBAAO;;AAChC,iBAAI,QAAQ,KAAR,EAAe;AACf,wBAAO,SAAS,CAAE,IAAI,IAAJ,EAAF,GAAY,IAAZ,CAAhB,CADe;cAAnB,MAEO;AACH,0BAAS,KAAK,KAAL,CAAW,IAAX,IAAiB,IAAjB,CAAT,CADG;cAFP;;;;iCAOY,MAAM;AAClB,iBAAI,SAAS,QAAT,CAAkB,QAAlB,IAA8B,GAA9B,EAAmC;AACnC,wBAAO,IAAP,CADmC;cAAvC;;AAIA,oBAAO,MAAM,IAAN,CALW;;;;YAvDL","file":"zeroboard.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3b28f09ec78265dc1117\n **/","// Include core classes\nimport Zeroframe from \"./core/zero_frame.js\"\nimport Page from \"./core/page.js\"\nimport Utils from \"./core/utils.js\"\n// Include page components\nimport newpost from \"./components/newPost.js\"\n\nexport class Zeroboard extends Zeroframe {\n\n    init () {\n            this.page = new Page()\n\n            this.grepPath()\n\n            this.siteInfoUpdatedAt = 0\n            this.currentPage = null\n\n            this.page.hidePreloader()\n    }\n\n    reloadSiteInfo () {\n        setTimeout(this.reloadSiteInfo.bind(this), 15000)\n        if ((Utils.unixTimestamp(\"now\") - this.siteInfoUpdatedAt) < 30) {\n            return\n        }\n        this.cmd(\"siteInfo\", {}, (newInfo) => { this.updateSiteInfo(newInfo) })\n    }\n\n    reloadSettings() {\n        return new Promise((resolve, reject) => {\n            this.cmd(\"fileGet\", { inner_path: \"data/settings.json\" }, (settingsJSON) => {\n                try {\n                    this._Settings = JSON.parse(settingsJSON)\n                    return resolve()\n                } catch (e) {\n                    console.log(\"Error with settings file. Please report to dev.\");\n                    return reject()\n                }\n            })\n        })\n    }\n\n    onOpenWebsocket () {\n        this.reloadSettings().then(() => {\n            this.cmd(\"siteInfo\", {}, (newInfo) => {\n                this.updateSiteInfo(newInfo)\n\n                if (this.currentPage == null) {\n                    this.page.renderHeader()\n                    //this.determineRoute()\n                }\n\n                this.reloadSiteInfo()\n            })\n        })\n    }\n\n    //determineRoute () {\n    //\n    //}\n\n    onRequest (cmd, message) {\n        if (cmd == \"setSiteInfo\") {\n            this.updateSiteInfo(message)\n        }\n    }\n\n    shortUserName (name = null) {\n        if (!name) {\n            name = this.siteInfo.cert_user_id\n        }\n        if (name == \"syleron@zeroid.bit\") {\n            return \"[dev] Syleron\"\n        }\n        if (!name) {\n            return name\n        }\n        return name.split(\"@\")[0]\n    }\n\n    updateSiteInfo (newInfo) {\n        this.siteInfo = newInfo.params || newInfo\n        this.siteInfoUpdatedAt = Utils.unixTimestamp(\"now\")\n        this.page.updateSiteInfo(this.siteInfo)\n    }\n\n    grepPath () {\n        let result = []\n        for (let part of location.search.substring(1).split(\"/\")) {\n            if (!!part.match(\"wrapper_nonce\")) {\n                part = part.split(\"wrapper_nonce\")[0]\n            }\n            part = part.trim()\n            if (part[part.length-1] == \"&\") {\n                part = part.substring(0, part.length-1)\n            }\n            if (part == \"\" || part == \"&\") {\n                continue\n            }\n            result.push(part)\n        }\n        this._currentPath = result\n    }\n\n}\n\nwindow.Zeroboard = new Zeroboard()\n\n\n\n/** WEBPACK FOOTER **\n ** ./includes/js/main.js\n **/","export default class newPost {\r\n\r\n    constructor() {\r\n      ////  this.element = document.getElementById(\"submit-new-post\")\r\n\r\n       /// this.element.addEventListener(\"click\", this.onClick(this));\r\n    }\r\n\r\n    onClick(comp) {\r\n      ////  comp.addModal()\r\n    }\r\n\r\n    addModal() {\r\n     //   document.body.innerHTML += '<div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\"> <div class=\"modal-dialog\" role=\"document\"> <div class=\"modal-content\"> <div class=\"modal-header\"> <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button> <h4 class=\"modal-title\" id=\"myModalLabel\">Modal title</h4> </div><div class=\"modal-body\"> ... </div><div class=\"modal-footer\"> <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button> <button type=\"button\" class=\"btn btn-primary\">Save changes</button> </div></div></div></div>'\r\n    }\r\n\r\n    removeModal() {}\r\n\r\n}\r\nnew newPost()\n\n\n/** WEBPACK FOOTER **\n ** ./includes/js/components/newPost.js\n **/","const CMD_INNER_READY = 'innerReady'\r\nconst CMD_RESPONSE = 'response'\r\nconst CMD_WRAPPER_READY = 'wrapperReady'\r\nconst CMD_PING = 'ping'\r\nconst CMD_PONG = 'pong'\r\nconst CMD_WRAPPER_OPENED_WEBSOCKET = 'wrapperOpenedWebsocket'\r\nconst CMD_WRAPPER_CLOSE_WEBSOCKET = 'wrapperClosedWebsocket'\r\n\r\nexport default class ZeroFrame {\r\n\r\n    constructor() {\r\n        this.waiting_cb = {}\r\n        this.connect()\r\n        this.next_message_id = 1\r\n        this.init()\r\n    }\r\n\r\n    init() {\r\n        return this\r\n    }\r\n\r\n    connect() {\r\n        this.target = window.parent\r\n        window.addEventListener('message', e => this.onMessage(e), false)\r\n        this.cmd(CMD_INNER_READY)\r\n    }\r\n\r\n    onMessage(e) {\r\n        let message = e.data\r\n        let cmd = message.cmd\r\n\r\n        if (cmd === CMD_RESPONSE) {\r\n            if (this.waiting_cb[message.to] !== undefined) {\r\n                this.waiting_cb[message.to](message.result)\r\n            } else {\r\n                this.log(\"Websocket callback not found:\", message)\r\n            }\r\n        } else if (cmd === CMD_WRAPPER_READY) {\r\n            this.cmd(CMD_INNER_READY)\r\n        } else if (cmd === CMD_PING) {\r\n            this.response(message.id, CMD_PONG)\r\n        } else if (cmd === CMD_WRAPPER_OPENED_WEBSOCKET) {\r\n            this.onOpenWebsocket()\r\n        } else if (cmd === CMD_WRAPPER_CLOSE_WEBSOCKET) {\r\n            this.onCloseWebsocket()\r\n        } else {\r\n            this.onRequest(cmd, message)\r\n        }\r\n    }\r\n\r\n    onRequest(cmd, message) {\r\n        this.log(\"Unknown command\", message)\r\n    }\r\n\r\n    response(to, result) {\r\n        this.send({\r\n            cmd: CMD_RESPONSE,\r\n            to: to,\r\n            result: result\r\n        })\r\n    }\r\n\r\n    cmd(cmd, params={}, cb=null) {\r\n        this.send({\r\n            cmd: cmd,\r\n            params: params\r\n        }, cb)\r\n    }\r\n\r\n    send(message, cb=null) {\r\n        message.id = this.next_message_id\r\n        this.next_message_id++\r\n        this.target.postMessage(message, '*')\r\n\r\n        if (cb) {\r\n            this.waiting_cb[message.id] = cb\r\n        }\r\n    }\r\n\r\n    log(...args) {\r\n        console.log.apply(console, ['[ZeroFrame]'].concat(args))\r\n    }\r\n\r\n    onOpenWebsocket() {\r\n        this.log('Websocket open')\r\n    }\r\n\r\n    onCloseWebsocket() {\r\n        this.log('Websocket close')\r\n    }\r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./includes/js/core/zero_frame.js\n **/","import Utils from \"./utils.js\"\r\n\r\nexport default class Page {\r\n\r\n    constructor() {\r\n        this.preloader = document.getElementById(\"preloader\")\r\n        this.main_content = document.getElementById(\"main-content\")\r\n    }\r\n\r\n    showPreloader() {\r\n        this.preloader.style.display = \"block\"\r\n        this.main_content.style.display = \"none\"\r\n    }\r\n\r\n    hidePreloader() {\r\n        this.preloader.style.display = \"none\"\r\n        this.main_content.style.display = \"block\"\r\n        this.main_content.className = \"fadein\"\r\n    }\r\n\r\n    renderHeader(siteInfo) {\r\n        this.updateSiteInfo(siteInfo)\r\n    }\r\n\r\n    updateSiteInfo (newInfo) {\r\n        let siteinfo = document.getElementById(\"siteinfo\")\r\n\r\n        if(newInfo) siteinfo.innerHTML = newInfo.settings.peers + \" Peers, \" + Utils.formatSizeUnits(newInfo.settings.size)\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./includes/js/core/page.js\n **/","export default class Utils {\r\n\r\n    static formatSizeUnits (bytes) {\r\n        if      (bytes>=1000000000) { bytes=(bytes/1000000000).toFixed(2)+' GB' }\r\n        else if (bytes>=1000000)    { bytes=(bytes/1000000).toFixed(2)+' MB'    }\r\n        else if (bytes>=1000)       { bytes=(bytes/1000).toFixed(2)+' KB'       }\r\n        else if (bytes>1)           { bytes=bytes+' bytes'                      }\r\n        else if (bytes==1)          { bytes=bytes+' byte'                       }\r\n        else                        { bytes='0 byte'                            }\r\n        return bytes\r\n    }\r\n\r\n    static timeSince (time) {\r\n        var now, secs, back\r\n\r\n        now  = +(new Date) / 1000\r\n        secs = now - time\r\n\r\n        if (secs < 60) {\r\n            back = \"just now\"\r\n        } else if (secs < 60 * 60) {\r\n            back = (Math.round(secs / 60)) + \" minutes ago\"\r\n        } else if (secs < 60 * 60 * 24) {\r\n            back = (Math.round(secs / 60 / 60)) + \" hours ago\"\r\n        } else if (secs < 60 * 60 * 24 * 3) {\r\n            back = (Math.round(secs / 60 / 60 / 24)) + \" days ago\"\r\n        } else {\r\n            back = \"on \" + this.formatDate(time)\r\n        }\r\n        back = back.replace(/^1 ([a-z]+)s/, \"1 $1\")\r\n\r\n        return back\r\n    }\r\n\r\n    static formatDate (timestamp, format = \"short\") {\r\n        var parts, display\r\n        parts = (new Date(timestamp*1000)).toString().split(\" \")\r\n\r\n        if (format == \"short\") {\r\n            display = parts.slice(1, 4)\r\n        } else {\r\n            display = parts.slice(1, 5)\r\n        }\r\n\r\n        return display.join(\" \").replace(/( [0-9]{4})/, \",$1\")\r\n    }\r\n\r\n    static unixTimestamp (date = \"now\") {\r\n        if (date == \"now\") {\r\n            return parseInt(+(new Date)/1000)\r\n        } else {\r\n            parseInt(Date.parse(date)/1000)\r\n        }\r\n    }\r\n\r\n    static fixLink (href) {\r\n        if (document.location.pathname != \"/\") {\r\n            return href\r\n        }\r\n\r\n        return \"/\" + href\r\n    }\r\n\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./includes/js/core/utils.js\n **/"],"sourceRoot":""}