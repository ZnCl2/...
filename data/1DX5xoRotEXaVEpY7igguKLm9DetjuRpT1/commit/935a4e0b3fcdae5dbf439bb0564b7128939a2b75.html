<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Use more Consolas-like Monaco, Break long words, Display welcome message on cloning, Display loading message on initial download, Trim whitepsace from message and topics titles - 0git - 0git - a list of git repositories on ZeroNet
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="0git.git Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>0git</h1><span class="desc">0git - a list of git repositories on ZeroNet
</span></td></tr><tr class="url"><td></td><td>git clone <a href="http://127.0.0.1:43110/0git.bit/0git.git">http://127.0.0.1:43110/0git.bit/0git.git</a></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/935a4e0b3fcdae5dbf439bb0564b7128939a2b75.html">935a4e0b3fcdae5dbf439bb0564b7128939a2b75</a>
<b>parent</b> <a href="../commit/ff63dcbeb9b0e6d3a3d8e7dbece1734367bd6e62.html">ff63dcbeb9b0e6d3a3d8e7dbece1734367bd6e62</a>
<b>Author:</b> HelloZeroNet &lt;<a href="mailto:hello@noloop.me">hello@noloop.me</a>&gt;
<b>Date:</b>   Sun Sep 27 23:30:46 +0200

Use more Consolas-like Monaco, Break long words, Display welcome message on cloning, Display loading message on initial download, Trim whitepsace from message and topics titles

<b>Diffstat:</b>
<table><tr><td><a href="#h0">css/ZeroTalk.css</a></td><td> | </td><td class="num">13</td><td><span class="i">++++++</span><span class="d">-------</span></td></tr>
<tr><td><a href="#h1">css/all.css</a></td><td> | </td><td class="num">21</td><td><span class="i">++++++++++</span><span class="d">-----------</span></td></tr>
<tr><td><a href="#h2">index.html</a></td><td> | </td><td class="num">6</td><td><span class="i">++++</span><span class="d">--</span></td></tr>
<tr><td><a href="#h3">js/TopicList.coffee</a></td><td> | </td><td class="num">16</td><td><span class="i">++++++++++++++</span><span class="d">--</span></td></tr>
<tr><td><a href="#h4">js/TopicShow.coffee</a></td><td> | </td><td class="num">20</td><td><span class="i">++++++++++</span><span class="d">----------</span></td></tr>
<tr><td><a href="#h5">js/all.js</a></td><td> | </td><td class="num">30</td><td><span class="i">+++++++++++++++++++++++++</span><span class="d">-----</span></td></tr>
</table>6 files changed, 69 insertions(+), 37 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/css/ZeroTalk.css.html">css/ZeroTalk.css</a> b/<a href="../file/css/ZeroTalk.css.html">css/ZeroTalk.css</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -10,7 +10,7 @@ h4 { font-size: 20px; margin-top: 1em; margin-bottom: 0.5em }
</a> p { margin-top: 0.9em; margin-bottom: 0.9em }
 hr { margin: 20px 0px; border: none; border-bottom: 1px solid #eee; margin-left: auto; margin-right: auto; width: 120px; }
 small { font-size: 80%; color: #999; }
<a href="#h0-0-3" id="h0-0-3" class="d">-pre { border: solid 1px #e1e4e5; padding: 10px; background-color: #FBFBFB; font-family: consolas, menlo, monospace; border-bottom: 2px solid #e1e4e5; line-height: 1em; }
</a><a href="#h0-0-4" id="h0-0-4" class="i">+pre { border: solid 1px #e1e4e5; padding: 10px; background-color: #FBFBFB; font-family: Consolas, Monaco, monospace; border-bottom: 2px solid #e1e4e5; line-height: 1em; }
</a> 
 a { text-decoration: none; color: #DB3207 }
 a:hover { border-bottom: 0.1em solid #DDD }
<a href="#h0-1" id="h0-1" class="h">@@ -67,7 +67,6 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> 	transition: all 0.5s ease-out ; pointer-events: none; border-bottom: 2px solid #666
 }
 
<a href="#h0-1-3" id="h0-1-3" class="d">-
</a> /* Head */
 .head { float: left; padding-right: 10px; margin-bottom: 10px }
 .head .logo {
<a href="#h0-2" id="h0-2" class="h">@@ -81,7 +80,7 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> .head .button { margin-top: 2px }
 .head .size { font-size: 8px; background-color: #eee; width: 100px; margin-top: 6px; box-sizing: border-box; text-indent: 21px; text-transform: uppercase; color: #999 }
 .head .size-used { position: absolute; background-color: #1abc9c; color: white; overflow: hidden; width: 0px; white-space: nowrap }
<a href="#h0-2-3" id="h0-2-3" class="d">-
</a><a href="#h0-2-4" id="h0-2-4" class="i">+.message-big { position: absolute; left: 50%; top: 50%; width: 450px; text-align: center; margin-left: -225px; font-size: 30px; text-shadow: 1px 1px white; color: #AAA; display: none; opacity: 0; transition: all 0.5s }
</a> 
 /* Topics */
 .topics-title, .topic-title {
<a href="#h0-3" id="h0-3" class="h">@@ -145,7 +144,7 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> .comment .info { font-size: 12px; color: #AAA; margin-bottom: 7px }
 .comment .info .score { margin-left: 5px }
 .comment .body { line-height: 1.5em }
<a href="#h0-3-3" id="h0-3-3" class="d">-.comment .body p { margin-top: 0.5em; margin-bottom: 0.5em }
</a><a href="#h0-3-4" id="h0-3-4" class="i">+.comment .body p { margin-top: 0.5em; margin-bottom: 0.5em; word-wrap: break-word; }
</a> .comment .body.editor { margin-top: 0.5em !important; margin-bottom: 0.5em !important }
 .comment .body h1, .comment .body h2, .comment .body h3 { font-size: 110% }
 .comment .body blockquote { padding: 1px 15px; border-left: 2px solid #E7E7E7; margin: 0px; margin-top: 30px }
<a href="#h0-4" id="h0-4" class="h">@@ -173,10 +172,10 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> /* Score */
 .score {
 	border: 1px solid #eee; margin-right: 5px; padding: 2px 7px; border-radius: 10px; color: #AAA; background-position: left center; font-weight: bold;
<a href="#h0-4-3" id="h0-4-3" class="d">-	display: inline-block; height: 1.2em; overflow: hidden; vertical-align: -0.5em; line-height: 0em; transition: background-color 0.3s; height: 20px; box-sizing: border-box
</a><a href="#h0-4-4" id="h0-4-4" class="i">+	display: inline-block; height: 1.2em; overflow: hidden; vertical-align: -0.5em; line-height: 7px; transition: background-color 0.3s; height: 20px; box-sizing: border-box
</a> }
<a href="#h0-4-6" id="h0-4-6" class="d">-.score-active, .score-inactive { transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); display: inline-block; margin-top: 6px }
</a><a href="#h0-4-7" id="h0-4-7" class="d">-.score-active { display: block; margin-top: 15px }
</a><a href="#h0-4-8" id="h0-4-8" class="i">+.score-active, .score-inactive { transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); display: inline-block; margin-top: 3px }
</a><a href="#h0-4-9" id="h0-4-9" class="i">+.score-active { display: block; margin-top: 5px }
</a> .score.active { background-color: #2ecc71; color: white }
 .score.loading {
 	color: rgba(255,255,255,0); background: #2ecc71 url(../img/loading.gif) no-repeat center center;
<b>diff --git a/<a id="h1" href="../file/css/all.css.html">css/all.css</a> b/<a href="../file/css/all.css.html">css/all.css</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -43,14 +43,14 @@
</a> 
 .editbg {
 	display: none; width: 100%; height: 100%; position: fixed; opacity: 0; background-color: white; -webkit-transition: opacity 0.5s; -moz-transition: opacity 0.5s; -o-transition: opacity 0.5s; -ms-transition: opacity 0.5s; transition: opacity 0.5s ; 
<a href="#h1-0-3" id="h1-0-3" class="d">-	left: 0px; top: 0px; z-index: 500; backface-visibility: hidden;
</a><a href="#h1-0-4" id="h1-0-4" class="i">+	left: 0px; top: 0px; z-index: 500; -webkit-backface-visibility: hidden; -moz-backface-visibility: hidden; -o-backface-visibility: hidden; -ms-backface-visibility: hidden; backface-visibility: hidden ;
</a> }
 
 
 /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/css/ZeroTalk.css ---- */
 
 
<a href="#h1-0-11" id="h1-0-11" class="d">-body { background-color: #F5F5F5; color: #333332; margin: 10px; padding: 0px; font-family: &apos;Roboto&apos;, sans-serif; height: 15000px; overflow: hidden; backface-visibility: hidden; }
</a><a href="#h1-0-12" id="h1-0-12" class="i">+body { background-color: #F5F5F5; color: #333332; margin: 10px; padding: 0px; font-family: &apos;Roboto&apos;, sans-serif; height: 15000px; overflow: hidden; -webkit-backface-visibility: hidden; -moz-backface-visibility: hidden; -o-backface-visibility: hidden; -ms-backface-visibility: hidden; backface-visibility: hidden ; }
</a> body.loaded { height: auto; overflow: auto }
 
 h1, h2, h3, h4 { font-family: &apos;Roboto&apos;, sans-serif; font-weight: normal; margin: 0px; padding: 0px }
<a href="#h1-1" id="h1-1" class="h">@@ -62,7 +62,7 @@ h4 { font-size: 20px; margin-top: 1em; margin-bottom: 0.5em }
</a> p { margin-top: 0.9em; margin-bottom: 0.9em }
 hr { margin: 20px 0px; border: none; border-bottom: 1px solid #eee; margin-left: auto; margin-right: auto; width: 120px; }
 small { font-size: 80%; color: #999; }
<a href="#h1-1-3" id="h1-1-3" class="d">-pre { border: solid 1px #e1e4e5; padding: 10px; background-color: #FBFBFB; font-family: consolas, menlo, monospace; border-bottom: 2px solid #e1e4e5; line-height: 1em; }
</a><a href="#h1-1-4" id="h1-1-4" class="i">+pre { border: solid 1px #e1e4e5; padding: 10px; background-color: #FBFBFB; font-family: Consolas, Monaco, monospace; border-bottom: 2px solid #e1e4e5; line-height: 1em; }
</a> 
 a { text-decoration: none; color: #DB3207 }
 a:hover { border-bottom: 0.1em solid #DDD }
<a href="#h1-2" id="h1-2" class="h">@@ -119,7 +119,6 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> 	-webkit-transition: all 0.5s ease-out ; -moz-transition: all 0.5s ease-out ; -o-transition: all 0.5s ease-out ; -ms-transition: all 0.5s ease-out ; transition: all 0.5s ease-out  ; pointer-events: none; border-bottom: 2px solid #666
 }
 
<a href="#h1-2-3" id="h1-2-3" class="d">-
</a> /* Head */
 .head { float: left; padding-right: 10px; margin-bottom: 10px }
 .head .logo {
<a href="#h1-3" id="h1-3" class="h">@@ -133,7 +132,7 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> .head .button { margin-top: 2px }
 .head .size { font-size: 8px; background-color: #eee; width: 100px; margin-top: 6px; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; -o-box-sizing: border-box; -ms-box-sizing: border-box; box-sizing: border-box ; text-indent: 21px; text-transform: uppercase; color: #999 }
 .head .size-used { position: absolute; background-color: #1abc9c; color: white; overflow: hidden; width: 0px; white-space: nowrap }
<a href="#h1-3-3" id="h1-3-3" class="d">-
</a><a href="#h1-3-4" id="h1-3-4" class="i">+.message-big { position: absolute; left: 50%; top: 50%; width: 450px; text-align: center; margin-left: -225px; font-size: 30px; text-shadow: 1px 1px white; color: #AAA; display: none; opacity: 0; -webkit-transition: all 0.5s ; -moz-transition: all 0.5s ; -o-transition: all 0.5s ; -ms-transition: all 0.5s ; transition: all 0.5s  }
</a> 
 /* Topics */
 .topics-title, .topic-title {
<a href="#h1-4" id="h1-4" class="h">@@ -141,7 +140,7 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> 	margin-bottom: 9px; padding-top: 7px; font-size: 45px; padding-left: 22px; display: inline-block; width: 100%; box-sizing: border-box
 }
 .parent-link { font-size: 19px; font-weight: bold; line-height: 19px }
<a href="#h1-4-3" id="h1-4-3" class="d">-.topic-new { overflow: hidden; backface-visibility: hidden }
</a><a href="#h1-4-4" id="h1-4-4" class="i">+.topic-new { overflow: hidden; -webkit-backface-visibility: hidden ; -moz-backface-visibility: hidden ; -o-backface-visibility: hidden ; -ms-backface-visibility: hidden ; backface-visibility: hidden  }
</a> .topic-new-link {
 	float: right; margin-top: -46px; margin-right: 1px; color: #AAA; padding: 6px 10px; white-space: nowrap;
 	overflow: hidden; background-color: rgba(245,245,245,0.9); z-index: 1; position: relative; transition: all 0.3s
<a href="#h1-5" id="h1-5" class="h">@@ -186,7 +185,7 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> 
 /* Messages */
 .comments { margin-bottom: 60px }
<a href="#h1-5-3" id="h1-5-3" class="d">-.comment { background-color: white; padding: 15px 25px; margin: 1px; border-bottom: 1px solid #EEE; backface-visibility: hidden }
</a><a href="#h1-5-4" id="h1-5-4" class="i">+.comment { background-color: white; padding: 15px 25px; margin: 1px; border-bottom: 1px solid #EEE; -webkit-backface-visibility: hidden ; -moz-backface-visibility: hidden ; -o-backface-visibility: hidden ; -ms-backface-visibility: hidden ; backface-visibility: hidden  }
</a> .comment .user_name { font-size: 14px }
 .comment .added { color: #AAA }
 .comment .reply { color: #CCC; opacity: 0; -webkit-transition: opacity 0.3s; -moz-transition: opacity 0.3s; -o-transition: opacity 0.3s; -ms-transition: opacity 0.3s; transition: opacity 0.3s ; position: relative; }
<a href="#h1-6" id="h1-6" class="h">@@ -197,7 +196,7 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> .comment .info { font-size: 12px; color: #AAA; margin-bottom: 7px }
 .comment .info .score { margin-left: 5px }
 .comment .body { line-height: 1.5em }
<a href="#h1-6-3" id="h1-6-3" class="d">-.comment .body p { margin-top: 0.5em; margin-bottom: 0.5em }
</a><a href="#h1-6-4" id="h1-6-4" class="i">+.comment .body p { margin-top: 0.5em; margin-bottom: 0.5em; word-wrap: break-word; }
</a> .comment .body.editor { margin-top: 0.5em !important; margin-bottom: 0.5em !important }
 .comment .body h1, .comment .body h2, .comment .body h3 { font-size: 110% }
 .comment .body blockquote { padding: 1px 15px; border-left: 2px solid #E7E7E7; margin: 0px; margin-top: 30px }
<a href="#h1-7" id="h1-7" class="h">@@ -225,10 +224,10 @@ input.text:focus, textarea:focus { border-color: #5FC0EA; outline: none; backgro
</a> /* Score */
 .score {
 	border: 1px solid #eee; margin-right: 5px; padding: 2px 7px; -webkit-border-radius: 10px; -moz-border-radius: 10px; -o-border-radius: 10px; -ms-border-radius: 10px; border-radius: 10px ; color: #AAA; background-position: left center; font-weight: bold;
<a href="#h1-7-3" id="h1-7-3" class="d">-	display: inline-block; height: 1.2em; overflow: hidden; vertical-align: -0.5em; line-height: 0em; -webkit-transition: background-color 0.3s; -moz-transition: background-color 0.3s; -o-transition: background-color 0.3s; -ms-transition: background-color 0.3s; transition: background-color 0.3s ; height: 20px; box-sizing: border-box
</a><a href="#h1-7-4" id="h1-7-4" class="i">+	display: inline-block; height: 1.2em; overflow: hidden; vertical-align: -0.5em; line-height: 7px; -webkit-transition: background-color 0.3s; -moz-transition: background-color 0.3s; -o-transition: background-color 0.3s; -ms-transition: background-color 0.3s; transition: background-color 0.3s ; height: 20px; box-sizing: border-box
</a> }
<a href="#h1-7-6" id="h1-7-6" class="d">-.score-active, .score-inactive { -webkit-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); -moz-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); -o-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); -ms-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) ; display: inline-block; margin-top: 6px }
</a><a href="#h1-7-7" id="h1-7-7" class="d">-.score-active { display: block; margin-top: 15px }
</a><a href="#h1-7-8" id="h1-7-8" class="i">+.score-active, .score-inactive { -webkit-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); -moz-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); -o-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); -ms-transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) ; display: inline-block; margin-top: 3px }
</a><a href="#h1-7-9" id="h1-7-9" class="i">+.score-active { display: block; margin-top: 5px }
</a> .score.active { background-color: #2ecc71; color: white }
 .score.loading {
 	color: rgba(255,255,255,0); background: #2ecc71 url(../img/loading.gif) no-repeat center center;
<b>diff --git a/<a id="h2" href="../file/index.html.html">index.html</a> b/<a href="../file/index.html.html">index.html</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -46,6 +46,7 @@
</a> &lt;/div&gt;
 &lt;!-- EOF Head --&gt;
 
<a href="#h2-0-3" id="h2-0-3" class="i">+&lt;div class=&quot;message-big&quot;&gt;Initial sync in progress...&lt;/div&gt;
</a> 
 &lt;!-- Page: Main --&gt;
 &lt;div class=&quot;center topics-list&quot;&gt;
<a href="#h2-1" id="h2-1" class="h">@@ -64,6 +65,7 @@
</a>  &lt;!-- EOF New Topic --&gt;
 
  &lt;div class=&quot;topics-loading&quot;&gt;&lt;img src=&quot;img/loading.gif&quot;/&gt;Loading...&lt;/div&gt;
<a href="#h2-1-3" id="h2-1-3" class="i">+
</a>  &lt;div class=&quot;topics&quot;&gt;
 
   &lt;!-- Template: Topic --&gt;
<a href="#h2-2" id="h2-2" class="h">@@ -78,7 +80,7 @@
</a>      &lt;span class=&quot;score-inactive&quot;&gt; &lt;span class=&quot;icon-up&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;score-num&quot;&gt;1&lt;/span&gt; &lt;/span&gt;
      &lt;span class=&quot;score-active&quot;&gt; &lt;span class=&quot;icon-up&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;score-num&quot;&gt;2&lt;/span&gt; &lt;/span&gt;
     &lt;/a&gt;
<a href="#h2-2-3" id="h2-2-3" class="d">-    &lt;a href=&quot;#&quot; class=&quot;comment-num&quot;&gt;&lt;/a&gt; 
</a><a href="#h2-2-4" id="h2-2-4" class="i">+    &lt;a href=&quot;#&quot; class=&quot;comment-num&quot;&gt;&lt;/a&gt;
</a>     &lt;span class=&quot;added&quot;&gt;added&lt;/span&gt;
      &amp;#9473; submitted by &lt;span class=&quot;user_name&quot;&gt;user_name&lt;/span&gt;
    &lt;/div&gt;
<a href="#h2-3" id="h2-3" class="h">@@ -130,7 +132,7 @@
</a>   &lt;div class=&quot;comment template&quot;&gt;
    &lt;div class=&quot;info&quot;&gt;
     &lt;span class=&quot;user_name&quot;&gt;user_name&lt;/span&gt;
<a href="#h2-3-3" id="h2-3-3" class="d">-    &amp;#9473; 
</a><a href="#h2-3-4" id="h2-3-4" class="i">+    &amp;#9473;
</a>     &lt;span class=&quot;added&quot;&gt;added&lt;/span&gt;
     &lt;a class=&quot;score&quot; href=&quot;#Upvote&quot;&gt;
      &lt;span class=&quot;score-inactive&quot;&gt; &lt;span class=&quot;icon-up&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;score-num&quot;&gt;1&lt;/span&gt; &lt;/span&gt;
<b>diff --git a/<a id="h3" href="../file/js/TopicList.coffee.html">js/TopicList.coffee</a> b/<a href="../file/js/TopicList.coffee.html">js/TopicList.coffee</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -135,9 +135,21 @@ class TopicList extends Class
</a> 
 			$(&quot;.topics&quot;).css(&quot;opacity&quot;, 1)
 
<a href="#h3-0-3" id="h3-0-3" class="i">+			# Show loading / empty forum bigmessage
</a><a href="#h3-0-4" id="h3-0-4" class="i">+			if topics.length == 0
</a><a href="#h3-0-5" id="h3-0-5" class="i">+				if Page.site_info.bad_files
</a><a href="#h3-0-6" id="h3-0-6" class="i">+					$(&quot;.message-big&quot;).text(&quot;Initial sync in progress...&quot;)
</a><a href="#h3-0-7" id="h3-0-7" class="i">+				else
</a><a href="#h3-0-8" id="h3-0-8" class="i">+					$(&quot;.message-big&quot;).text(&quot;Welcome to your own forum! :)&quot;)
</a><a href="#h3-0-9" id="h3-0-9" class="i">+					$(&quot;.topic-new-link&quot;).trigger(&quot;click&quot;)
</a><a href="#h3-0-10" id="h3-0-10" class="i">+				$(&quot;.message-big&quot;).css(&quot;display&quot;, &quot;block&quot;).cssLater(&quot;opacity&quot;, 1)
</a><a href="#h3-0-11" id="h3-0-11" class="i">+			else
</a><a href="#h3-0-12" id="h3-0-12" class="i">+				$(&quot;.message-big&quot;).css(&quot;display&quot;, &quot;none&quot;)
</a><a href="#h3-0-13" id="h3-0-13" class="i">+
</a> 			if cb then cb()
 
 
<a href="#h3-0-17" id="h3-0-17" class="i">+
</a> 	applyTopicData: (elem, topic, type=&quot;list&quot;) -&gt;
 		title_hash = Text.toUrl(topic.title)
 		topic_uri = topic.row_topic_uri
<a href="#h3-1" id="h3-1" class="h">@@ -222,8 +234,8 @@ class TopicList extends Class
</a> 			Page.cmd &quot;wrapperNotification&quot;, [&quot;info&quot;, &quot;Please, your choose account before creating a topic.&quot;]
 			return false
 
<a href="#h3-1-3" id="h3-1-3" class="d">-		title = $(&quot;.topic-new #topic_title&quot;).val()
</a><a href="#h3-1-4" id="h3-1-4" class="d">-		body = $(&quot;.topic-new #topic_body&quot;).val()
</a><a href="#h3-1-5" id="h3-1-5" class="i">+		title = $(&quot;.topic-new #topic_title&quot;).val().trim()
</a><a href="#h3-1-6" id="h3-1-6" class="i">+		body = $(&quot;.topic-new #topic_body&quot;).val().trim()
</a> 		#if not body then return $(&quot;.topic-new #topic_body&quot;).focus()
 		if not title then return $(&quot;.topic-new #topic_title&quot;).focus()
 
<b>diff --git a/<a id="h4" href="../file/js/TopicShow.coffee.html">js/TopicShow.coffee</a> b/<a href="../file/js/TopicShow.coffee.html">js/TopicShow.coffee</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -11,7 +11,7 @@ class TopicShow extends Class
</a> 		$(&quot;.comment-new .button-submit-form&quot;).on &quot;click&quot;, =&gt;
 			@submitComment()
 			return false
<a href="#h4-0-3" id="h4-0-3" class="d">-			
</a><a href="#h4-0-4" id="h4-0-4" class="i">+
</a> 		textarea = $(&quot;.comment-new #comment_body&quot;)
 		$(&quot;.comment-new #comment_body&quot;).on &quot;input&quot;, =&gt;
 			# Update used space
<a href="#h4-1" id="h4-1" class="h">@@ -73,12 +73,12 @@ class TopicShow extends Class
</a> 		# Update visited info
 		Page.local_storage[&quot;topic.#{@topic_id}_#{@topic_user_address}.visited&quot;] = Time.timestamp()
 		Page.cmd &quot;wrapperSetLocalStorage&quot;, Page.local_storage
<a href="#h4-1-3" id="h4-1-3" class="d">-		
</a><a href="#h4-1-4" id="h4-1-4" class="i">+
</a> 		@logStart &quot;Loading comments...&quot;
 
 		# Load comments
 		query = &quot;
<a href="#h4-1-9" id="h4-1-9" class="d">-			SELECT 
</a><a href="#h4-1-10" id="h4-1-10" class="i">+			SELECT
</a> 			 comment.*,
 			 user.value AS user_name,
 			 user_json_content.directory AS user_address,
<a href="#h4-2" id="h4-2" class="h">@@ -118,7 +118,7 @@ class TopicShow extends Class
</a> 		$(&quot;.body&quot;, elem).html Text.toMarked(comment.body, {&quot;sanitize&quot;: true})
 		$(&quot;.user_name&quot;, elem).text(user_name.replace(/@.*/, &quot;&quot;)).css(&quot;color&quot;: Text.toColor(user_name)).attr(&quot;title&quot;, user_name+&quot;: &quot;+comment.user_address)
 		$(&quot;.added&quot;, elem).text(Time.since(comment.added)).attr(&quot;title&quot;, Time.date(comment.added, &quot;long&quot;))
<a href="#h4-2-3" id="h4-2-3" class="d">-		
</a><a href="#h4-2-4" id="h4-2-4" class="i">+
</a> 		comment_uri = elem.attr(&quot;id&quot;).replace(&quot;comment_&quot;, &quot;&quot;)
 		if User.my_comment_votes[comment_uri] # Voted on it
 			$(&quot;.score-inactive .score-num&quot;, elem).text comment.votes-1
<a href="#h4-3" id="h4-3" class="h">@@ -153,17 +153,17 @@ class TopicShow extends Class
</a> 
 
 	submitComment: -&gt;
<a href="#h4-3-3" id="h4-3-3" class="d">-		body = $(&quot;.comment-new #comment_body&quot;).val()
</a><a href="#h4-3-4" id="h4-3-4" class="i">+		body = $(&quot;.comment-new #comment_body&quot;).val().trim()
</a> 		if not body
 			$(&quot;.comment-new #comment_body&quot;).focus()
 			return
 
 		$(&quot;.comment-new .button-submit&quot;).addClass(&quot;loading&quot;)
<a href="#h4-3-10" id="h4-3-10" class="d">-		
</a><a href="#h4-3-11" id="h4-3-11" class="i">+
</a> 		User.getData (data) =&gt;
 			data.comment[@topic_uri] ?= []
 			data.comment[@topic_uri].push {
<a href="#h4-3-15" id="h4-3-15" class="d">-				&quot;comment_id&quot;: data.next_comment_id, 
</a><a href="#h4-3-16" id="h4-3-16" class="i">+				&quot;comment_id&quot;: data.next_comment_id,
</a> 				&quot;body&quot;: body,
 				&quot;added&quot;: Time.timestamp()
 			}
<a href="#h4-4" id="h4-4" class="h">@@ -181,18 +181,18 @@ class TopicShow extends Class
</a> 		if not Page.site_info.cert_user_id # No selected cert
 			Page.cmd &quot;wrapperNotification&quot;, [&quot;info&quot;, &quot;Please, your choose account before upvoting.&quot;]
 			return false
<a href="#h4-4-3" id="h4-4-3" class="d">-		
</a><a href="#h4-4-4" id="h4-4-4" class="i">+
</a> 		elem = $(e.currentTarget)
 		elem.toggleClass(&quot;active&quot;).addClass(&quot;loading&quot;)
 		User.getData (data) =&gt;
 			data.comment_vote ?= {}
 			comment_uri = elem.attr(&quot;id&quot;).match(&quot;_([0-9]+_[A-Za-z0-9]+)$&quot;)[1]
<a href="#h4-4-10" id="h4-4-10" class="d">-			
</a><a href="#h4-4-11" id="h4-4-11" class="i">+
</a> 			if elem.hasClass(&quot;active&quot;)
 				data.comment_vote[comment_uri] = 1
 			else
 				delete data.comment_vote[comment_uri]
<a href="#h4-4-16" id="h4-4-16" class="d">-			
</a><a href="#h4-4-17" id="h4-4-17" class="i">+
</a> 			User.publishData data, (res) =&gt;
 				elem.removeClass(&quot;loading&quot;)
 		return false
<b>diff --git a/<a id="h5" href="../file/js/all.js.html">js/all.js</a> b/<a href="../file/js/all.js.html">js/all.js</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -90,6 +90,7 @@
</a> }).call(this);
 
 
<a href="#h5-0-3" id="h5-0-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/lib/jquery.cssanim.js ---- */
 
 
<a href="#h5-1" id="h5-1" class="h">@@ -211,6 +212,7 @@ jQuery.fx.step.scale = function(fx) {
</a> }).call(this);
 
 
<a href="#h5-1-3" id="h5-1-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/lib/jquery.easing.1.3.js ---- */
 
 
<a href="#h5-2" id="h5-2" class="h">@@ -489,6 +491,7 @@ jQuery.extend( jQuery.easing,
</a> }).call(this);
 
 
<a href="#h5-2-3" id="h5-2-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/utils/InlineEditor.coffee ---- */
 
 
<a href="#h5-3" id="h5-3" class="h">@@ -689,6 +692,7 @@ jQuery.extend( jQuery.easing,
</a> }).call(this);
 
 
<a href="#h5-3-3" id="h5-3-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/utils/RateLimit.coffee ---- */
 
 
<a href="#h5-4" id="h5-4" class="h">@@ -718,6 +722,7 @@ jQuery.extend( jQuery.easing,
</a> }).call(this);
 
 
<a href="#h5-4-3" id="h5-4-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/utils/Text.coffee ---- */
 
 
<a href="#h5-5" id="h5-5" class="h">@@ -812,6 +817,7 @@ jQuery.extend( jQuery.easing,
</a> }).call(this);
 
 
<a href="#h5-5-3" id="h5-5-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/utils/Time.coffee ---- */
 
 
<a href="#h5-6" id="h5-6" class="h">@@ -874,6 +880,7 @@ jQuery.extend( jQuery.easing,
</a> }).call(this);
 
 
<a href="#h5-6-3" id="h5-6-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/utils/ZeroFrame.coffee ---- */
 
 
<a href="#h5-7" id="h5-7" class="h">@@ -985,6 +992,7 @@ jQuery.extend( jQuery.easing,
</a> }).call(this);
 
 
<a href="#h5-7-3" id="h5-7-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/TopicList.coffee ---- */
 
 
<a href="#h5-8" id="h5-8" class="h">@@ -1103,6 +1111,17 @@ jQuery.extend( jQuery.easing,
</a>             $(&quot;.topics-title&quot;).html(&quot;&lt;span class=&apos;parent-link&apos;&gt;&lt;a href=&apos;?Main&apos;&gt;Main&lt;/a&gt; &amp;rsaquo;&lt;/span&gt; &quot; + topic_parent.title);
           }
           $(&quot;.topics&quot;).css(&quot;opacity&quot;, 1);
<a href="#h5-8-3" id="h5-8-3" class="i">+          if (topics.length === 0) {
</a><a href="#h5-8-4" id="h5-8-4" class="i">+            if (Page.site_info.bad_files) {
</a><a href="#h5-8-5" id="h5-8-5" class="i">+              $(&quot;.message-big&quot;).text(&quot;Initial sync in progress...&quot;);
</a><a href="#h5-8-6" id="h5-8-6" class="i">+            } else {
</a><a href="#h5-8-7" id="h5-8-7" class="i">+              $(&quot;.message-big&quot;).text(&quot;Welcome to your own forum! :)&quot;);
</a><a href="#h5-8-8" id="h5-8-8" class="i">+              $(&quot;.topic-new-link&quot;).trigger(&quot;click&quot;);
</a><a href="#h5-8-9" id="h5-8-9" class="i">+            }
</a><a href="#h5-8-10" id="h5-8-10" class="i">+            $(&quot;.message-big&quot;).css(&quot;display&quot;, &quot;block&quot;).cssLater(&quot;opacity&quot;, 1);
</a><a href="#h5-8-11" id="h5-8-11" class="i">+          } else {
</a><a href="#h5-8-12" id="h5-8-12" class="i">+            $(&quot;.message-big&quot;).css(&quot;display&quot;, &quot;none&quot;);
</a><a href="#h5-8-13" id="h5-8-13" class="i">+          }
</a>           if (cb) {
             return cb();
           }
<a href="#h5-9" id="h5-9" class="h">@@ -1194,8 +1213,8 @@ jQuery.extend( jQuery.easing,
</a>         Page.cmd(&quot;wrapperNotification&quot;, [&quot;info&quot;, &quot;Please, your choose account before creating a topic.&quot;]);
         return false;
       }
<a href="#h5-9-3" id="h5-9-3" class="d">-      title = $(&quot;.topic-new #topic_title&quot;).val();
</a><a href="#h5-9-4" id="h5-9-4" class="d">-      body = $(&quot;.topic-new #topic_body&quot;).val();
</a><a href="#h5-9-5" id="h5-9-5" class="i">+      title = $(&quot;.topic-new #topic_title&quot;).val().trim();
</a><a href="#h5-9-6" id="h5-9-6" class="i">+      body = $(&quot;.topic-new #topic_body&quot;).val().trim();
</a>       if (!title) {
         return $(&quot;.topic-new #topic_title&quot;).focus();
       }
<a href="#h5-10" id="h5-10" class="h">@@ -1436,7 +1455,7 @@ jQuery.extend( jQuery.easing,
</a> 
     TopicShow.prototype.submitComment = function() {
       var body;
<a href="#h5-10-3" id="h5-10-3" class="d">-      body = $(&quot;.comment-new #comment_body&quot;).val();
</a><a href="#h5-10-4" id="h5-10-4" class="i">+      body = $(&quot;.comment-new #comment_body&quot;).val().trim();
</a>       if (!body) {
         $(&quot;.comment-new #comment_body&quot;).focus();
         return;
<a href="#h5-11" id="h5-11" class="h">@@ -1508,6 +1527,7 @@ jQuery.extend( jQuery.easing,
</a> }).call(this);
 
 
<a href="#h5-11-3" id="h5-11-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/User.coffee ---- */
 
 
<a href="#h5-12" id="h5-12" class="h">@@ -1661,6 +1681,7 @@ jQuery.extend( jQuery.easing,
</a> }).call(this);
 
 
<a href="#h5-12-3" id="h5-12-3" class="i">+
</a> /* ---- data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/js/ZeroTalk.coffee ---- */
 
 
<a href="#h5-13" id="h5-13" class="h">@@ -1975,4 +1996,4 @@ jQuery.extend( jQuery.easing,
</a> 
   window.Page = new ZeroTalk();
 
<a href="#h5-13-3" id="h5-13-3" class="d">-}).call(this);</a><a href="#h5-13-4" id="h5-13-4" class="d">-
\ No newline at end of file
</a><a href="#h5-13-5" id="h5-13-5" class="i">+}).call(this);
</a></pre>
</div>
</body>
</html>
