<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dive into Fish mmap.page</title>
    <link rel="stylesheet" href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/assets/css/style.css">
    <link rel="alternate" type="application/rss+xml" href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/rss.xml">
    <link rel="alternate" type="application/git+http" href="https://github.com/weakish/weakish.github.com.git"/>
</head>
<body>
  <div class="container-lg px-3 my-5 markdown-body">

    <h1><a href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/">mmap.page</a></h1>
    <h1 id="dive-into-fish">
        
        
          Dive into Fish
        
        
      </h1>
    
      <h2 id="introduction">
        
        
          Introduction <a href="#introduction" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Fish is the Friendly Interactive Shell.
It also offers a relative clean syntax for shell scripting.
(I myself find that <code>rc</code> has a more clean syntax.
Fish's tab completion is powerful.
Though plan9 fans may say that we should implement tab completion in
terminal emulator.)</p>
    
      <h2 id="help">
        
        
          Help <a href="#help" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p><code>help command</code> or <code>command --help</code>.</p>
    
      <h2 id="syntax-overview">
        
        
          Syntax overview <a href="#syntax-overview" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<pre><code>command [argument ...]
</code></pre>
<p>Commands and arguments are separated by the space character ( ).
Every command ends with either a newline or a semicolon (;).</p>
    
      <h2 id="quotes-and-escaping">
        
        
          Quotes and escaping <a href="#quotes-and-escaping" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Variable expansions take place in double quoted strings but
not in single quoted ones.</p>
<p>Escapes in single quotes: \' and \.</p>
<p>Escapes in double quotes: \&quot;, \, and \$.</p>
<pre><code>$ - ? * ~ # ( ) { } [ ] &lt; &gt; ^ &amp; ; ' &quot;
</code></pre>
<p>These characters and the space character have special meanings in fish.
We need to escape them by prepending them with a backslash.
We escape a backslach with another backslash (\).</p>
    
      <h2 id="io-redirection-and-piping">
        
        
          IO redirection and piping <a href="#io-redirection-and-piping" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<ul>
<li>standard input: <code>&lt;SOURCE_FILE</code></li>
<li>standard output: <code>&gt;DESTINATION</code></li>
<li>standard error:  <code>^DESTINATION</code></li>
<li>standard output, appended:  <code>&gt;&gt;DESTINATION_FILE</code></li>
<li>standard error, appended:  <code>^^DESTINATION_FILE</code></li>
</ul>
<p>DESTINATION can be one of the following:</p>
<ul>
<li>A filename.</li>
<li>An ampersand (&amp;) followed by the number of another file descriptor.</li>
<li>An ampersand followed by a minus sign (&amp;-). The file descriptor
will be closed.</li>
</ul>
<p>For example, redirect both standard output and standard error
to the file <code>all_output.txt</code>:</p>
<pre><code>echo Hello &gt;all_output.txt ^&amp;1
</code></pre>
<p>Any FD can be redirected in an arbitrary way by prefixing the redirection with the number of the FD:</p>
<ul>
<li><code>N&lt;DESTINATION</code></li>
<li><code>N&gt;DESTINATION</code></li>
<li><code>N&gt;&gt;DESTINATION_FILE</code></li>
</ul>
<p>Prepend the desired FD number and then output
redirect symbol to the pipe.  For example:</p>
<pre><code>make fish 2&gt;| less
</code></pre>
    
      <h2 id="jobs">
        
        
          Jobs <a href="#jobs" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<ul>
<li><code>command &amp;</code>: run command in background.</li>
<li><code>fg</code> and <code>bg</code>: switch between foreground and background.</li>
<li><code>jobs</code>: list jobs.</li>
</ul>
    
      <h2 id="functions-and-conditional-structure">
        
        
          Functions and conditional structure <a href="#functions-and-conditional-structure" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>See help page for <code>function</code>, <code>if</code>, <code>switch</code>, <code>and</code>, <code>or</code>, <code>for</code>, <code>while</code>, <code>begin</code>, <code>end</code>, etc.</p>
<p>Notes on wrapper functions:</p>
<ul>
<li>Don't forget $argv.</li>
<li>Prefix the call to the command with the word 'command'. Failing to do so will cause infinite recursion bugs.</li>
</ul>
    
      <h2 id="autosuggestions">
        
        
          Autosuggestions <a href="#autosuggestions" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>fish suggests commands as you type, based on command history, completions, and valid file paths. As you type commands, you will see a completion offered after the cursor, in a muted gray color.</p>
<p>To accept the autosuggestion (replacing the command line contents), hit right arrow or Control-E.</p>
    
      <h2 id="tab-completion">
        
        
          Tab completion <a href="#tab-completion" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Fish tab completion list features descriptions of the completions and
it is scrollable
by arrow keys, page up/page keys,
the tab key or the space bar.
Pressing any other key will exit the list and insert
the pressed key into the command line.</p>
<p>fish provides completions for:</p>
<ul>
<li>Builtins, functions and regular programs.</li>
<li>Environment variable names.</li>
<li>Usernames in tilde expansion.</li>
<li>Filenames, even with wildcards.</li>
<li>Job id, job name and process names in process expansion.</li>
</ul>
<p>fish provides a large number of program specific completions.</p>
<p>You can write your own builtin.
See <code>help complete</code> and /usr/share/fish/completions.</p>
    
      <h2 id="set-variables">
        
        
          Set variables <a href="#set-variables" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<pre><code>set name value1 value2 ...
</code></pre>
<p>Options:</p>
<ul>
<li><code>--local</code></li>
<li><code>--global</code></li>
<li><code>--export</code></li>
<li><code>--universal</code></li>
</ul>
<p>When calling a function, all current local variables temporarily disappear.</p>
    
      <h2 id="special-variables">
        
        
          Special variables <a href="#special-variables" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<ul>
<li><code>BROWSER</code></li>
<li><code>CDPATH</code></li>
<li><code>fish_greeting</code></li>
<li><code>LANG</code>, <code>LC_ALL</code>, <code>LC_COLLATE</code>, <code>LC_CTYPE</code>, <code>LC_MESSAGES</code>, <code>LC_MONETARY</code>, <code>LC_NUMERIC</code> and <code>LC_TIME</code>.</li>
<li><code>fish_user_paths</code> (An array of directories that are prepended to PATH. This can be a universal variable.)</li>
<li><code>PATH</code></li>
<li><code>umask</code></li>
<li><code>_</code>, the name of the currently running comman.</li>
<li><code>argv</code></li>
<li><code>history</code></li>
<li><code>HOME</code></li>
<li><code>PWD</code></li>
<li><code>status</code></li>
<li><code>USER</code></li>
</ul>
    
      <h2 id="command-line-expansions">
        
        
          Command line expansions <a href="#command-line-expansions" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Wildcards:</p>
<p><code>?</code>, <code>*</code>, and <code>**</code> match non-hidden file names.</p>
<p>Use <code>.</code> as the first character to match hidden files.</p>
<p>Command substitution:</p>
<pre><code>(command)
</code></pre>
<p>Variable expansion:</p>
<pre><code>$variable
$array  # --&gt; multiple arguments
&quot;$array&quot; # --&gt; one argument
</code></pre>
<p>Brace expansion:</p>
<pre><code>{a,b,c}
{$USER}san # Neat, isn't it?
</code></pre>
<p>Home directory expansion:</p>
<pre><code>~
~user
</code></pre>
<p>Process expansion:</p>
<pre><code>%self # shell pid
%id  # group id
%string
%user # pids of processes owned by user
</code></pre>
<p>Arrays:</p>
<pre><code>$PATH[3] # indices start at 1
(seq 10)[2..5]
(seq 10)[2..5 1..3]
(seq 10)[-1..1]  # Reverse output
$$foo[1] # the same as ${$foo[1]}
</code></pre>
    
      <h2 id="history">
        
        
          History <a href="#history" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Press 'up' and 'down' to search commands containing the string entered.
Press Alt-up and Alt-down, match against the token under the cursor.
Press escape to abort.</p>
    
      <h2 id="config-files">
        
        
          Config files <a href="#config-files" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Variables definitions: <code>~/.config/fish/config.fish</code></p>
<p>Function definitions: <code>~/.config/fish/functions/</code></p>
<p>Completion definitions: <code>~/.config/fish/completions/</code></p>
<p>History file: <code>~/.config/fish/fish_history</code>.</p>
    
      <h2 id="feedback">
        
        
          Feedback <a href="#feedback" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p><a href="mailto:weakish@gmail.com">weakish@gmail.com</a></p>
    
      <h2 id="copyright">
        
        
          Copyright <a href="#copyright" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>This work is based on the fish user documentation shipped in the fish distributions:</p>
<p>Copyright (C) 2005 Axel Liljencrantz.
Released under the GNU General Public License.</p>
    <div class="footer border-top border-gray-light mt-5 pt-3 text-gray">
      <div style="display: flex; justify-content: space-between; align-items: flex-start">
        <form id="site-search" action="https://duckduckgo.com/html/" method="get">
          <input name="q" type="search" value="site:mmap.page " required pattern="site:mmap\.page\s.+">
          <input type="submit" value="&#x1F50D;" title="search through site content via DuckDuckGo">
        </form>
        <p>
          <a href="mailto:weakish@gmail.com" title="weakish@gmail.com"><img src="https://icongr.am/feather/mail.svg" alt="Feather Icon Mail"></a>
          <a href="https://savannah.nongnu.org/people/viewgpg.php?user_id=65699" title="2414 AEA0 EA48 5263 9697  F1BA 55F6 EEC2 EA3F 0A87"><img src="https://icongr.am/feather/key.svg" alt="Feather Icon Key"></a>
          <a href="https://github.com/weakish/" title="GitHub"><img src="https://icongr.am/feather/github.svg" alt="Feather Icon Github"></a>
          <a href="https://www.instagram.com/jakukyo/" title="Instagram"><img src="https://icongr.am/feather/instagram.svg" alt="Feather Icon Instagram"></a>
          <a href="https://twitter.com/weakish" title="Twitter"><img src="https://icongr.am/feather/twitter.svg" alt="Feather Icon Twitter"></a>
          <a href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/rss.xml" title="RSS 2.0 Feed"><img src="https://icongr.am/feather/rss.svg" alt="Feather Icon RSS"></a>
          <a href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/uses/" title="uses"><img src="https://icongr.am/feather/book-open.svg" alt="Feather Icon Book Open"></a>
          
          
          <a href="/Me.ZeroNetwork.bit/?Profile/12h51ug6CcntU2aiBjhP8Ns2e5VypbWWtv/1GnJD7CXskmG8GywMbTvbP12wneCFW9XzR/weakish@zeroid.bit" title="ZeroMe"><img src="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/assets/images/zeronet_logo.svg" alt="ZeroNet Logo" width="32" height="32"></a>
        </p>
      </div>
        <p>
        Permission to use, copy, modify, and/or distribute this site for any purpose with or without fee is hereby granted.
        This site is provided "as is" without express or implied warranty.
        </p>
        <p>
        This site does not use cookies or tracking codes.
        The hosting service provider (<a href="https://pages.github.com/">GitHub Pages</a>) probably collects server logs,
        but I do not have access to them.
        </p>
        <p>
        Site source is <a href="https://github.com/weakish/weakish.github.com/">available</a>
        and feedback is <a href="https://github.com/weakish/weakish.github.com/issues">welcome</a>.
        </p>
        <noscript>
        <p>
        This site does not use JavaScript.
        </p>
        </noscript>
    </div>
  </div>
</body>
</html>
