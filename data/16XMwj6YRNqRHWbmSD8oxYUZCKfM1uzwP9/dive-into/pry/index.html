<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dive into Pry mmap.page</title>
    <link rel="stylesheet" href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/assets/css/style.css">
    <link rel="alternate" type="application/rss+xml" href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/rss.xml">
    <link rel="alternate" type="application/git+http" href="https://github.com/weakish/weakish.github.com.git"/>
</head>
<body>
  <div class="container-lg px-3 my-5 markdown-body">

    <h1><a href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/">mmap.page</a></h1>
    <h1 id="dive-into-pry">
        
        
          Dive into Pry
        
        
      </h1>
    
      <h2 id="input">
        
        
          Input <a href="#input" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<ul>
<li><code>!</code>: clear input buffer</li>
<li><code>code;</code>: suppress evaluation output, useful when it's long or uninterested.</li>
<li><code>amend-line N replacement code</code>: to amend lines of input. Use <code>!</code> for replacement to delete. You can use <code>show-input</code> to get line numbers.</li>
<li><code>.shellcommad #{ruby code}</code></li>
</ul>
    
      <h2 id="special-locals">
        
        
          Special locals <a href="#special-locals" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<ul>
<li><code>_</code>: last result</li>
<li><code>_ex_</code>: the most recently caught exception</li>
<li><code>_in_</code> and <code>_out_</code>: Input expressions and output results are automatically stored in array-like data structures.</li>
<li><code>_file_</code> and <code>_dir_</code>: last file and last directory</li>
<li><code>_pry_</code>: current Pry instance</li>
</ul>
    
      <h2 id="browsing-code">
        
        
          Browsing code <a href="#browsing-code" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Use <code>cd</code> to move into a object or scope.
As in UNIX shells use <code>cd ..</code> to go
back, <code>cd /</code> to return to Pry top-level and <code>cd -</code> to toggle between last two
scopes. Complex syntax (e.g <code>cd ../@x/@y</code>) also supported.</p>
<p>Use <code>whereami</code>(alias <code>@</code>) to show code surrounding the current context.</p>
<p>Use <code>show-source</code>(alias <code>$</code> or <code>show-method</code>) and <code>show-code</code>(alias <code>?</code>).</p>
<p>Use <code>find-method</code> to recursively search for a method within a class/module or the current namespace.</p>
<p>Use <code>stat method_name</code> for basic method information.</p>
<p>Use <code>ls</code> to get a list of variables in current scope
You can also use <code>ls Class/Module</code>, or <code>ls variable</code>.</p>
<p>Use <code>watch</code> to watch the value of an expression and print a notification whenever it changes.</p>
<p><code>cat</code> automatic syntax highlighting for a number of file types.</p>
<p><code>cat</code> accepts the following options:</p>
<ul>
<li><code>--[l]inenumbers</code> causes line numbers to be displayed along side each line.</li>
<li><code>--[t]ype</code>: syntax highlight type</li>
<li><code>--[s]tart</code> and <code>--[e]nd</code>: the line of the file with which to begin/end</li>
<li><code>--ex</code>: last exception</li>
<li><code>--in</code>: one or more entries from Pry's expression history (default: -5..-1)</li>
</ul>
    
      <h2 id="editing-code">
        
        
          Editing code <a href="#editing-code" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p><code>edit</code> brings you to <code>EDITOR</code>.
It accepts the following options:</p>
<ul>
<li><code>-c</code>: current file/line</li>
<li><code>my_method</code>: method in the scope</li>
<li><code>Class#a_method</code> or <code>Class.a_class_method</code></li>
<li><code>&lt;filename&gt;</code> or <code>&lt;filename&gt;:&lt;line-number&gt;</code></li>
<li><code>--in 1..2</code>: a range of the Pry input buffer</li>
<li><code>-t</code>: open a temporary empty file in an editor</li>
<li><code>--ex</code>: the relevant file at the line that generated the last exception</li>
<li><code>--ex N</code>: the Nth line of the backtrace</li>
<li><code>-l</code>: jump to the specified line number</li>
<li><code>-n</code>: stop the automatic reloading of <code>.rb</code> files after you have edited them</li>
<li><code>-r</code>: force Pry to reload and eval a file, even if it does not end in <code>.rb</code></li>
</ul>
<p>Being run without any arguments, the <code>edit</code> command modifies the last input expression.</p>
    
      <h2 id="history">
        
        
          History <a href="#history" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p><code>hist</code> to display Pry history.</p>
<p>It accepts the following options:</p>
<ul>
<li><code>--grep REGEX</code></li>
<li><code>--exclude</code>: when displaying history, exclude pry commands</li>
<li><code>--tail N</code> and <code>--head N</code>: <code>N</code> defaults to 10</li>
<li><code>--no-numbers</code> or <code>-n</code>: turns off line numbers when displaying history</li>
<li><code>--show A..B</code></li>
<li><code>--replay A..B</code>: replay lines of history.</li>
<li><code>--save [A..B] FILE</code>: save to a file</li>
<li><code>--clear</code>: clear all current session history</li>
</ul>
    
      <h2 id="debug">
        
        
          Debug <a href="#debug" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Write <code>binding.pry</code> as a breakpoint in your code. When executing, it
will stop here and open a Pry console.</p>
    
      <h2 id="gems">
        
        
          Gems <a href="#gems" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<ul>
<li><code>gem-cd</code> Change working directory to specified gem's directory.</li>
<li><code>gem-install</code> Install a gem and refresh the gem cache.</li>
<li><code>gem-list</code> List and search installed gems.</li>
<li><code>gem-open</code> Opens the working directory of the gem in your editor.</li>
</ul>
    
      <h2 id="customization">
        
        
          Customization <a href="#customization" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>For current session:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Pry</span><span class="p">.</span><span class="nf">config</span><span class="p">.</span><span class="nf">[</span><span class="n">option</span><span class="p">]</span>
</code></pre></div></div>
<p>You can store <code>Pry.config.[option]</code> in <code>.pryrc</code> (project or global <code>~/.pryrc</code>).</p>
    
      <h2 id="plugins">
        
        
          Plugins <a href="#plugins" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
    
      <h3 id="pry-byebug">
        
        
          pry-byebug <a href="#pry-byebug" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h3>
<p>Use <code>byebug</code> (Ruby debugger) with pry.</p>
<p>I don't use it due to <a href="https://github.com/deivid-rodriguez/pry-byebug/issues/44">this bug</a>.
Besides, most of time, I just need pry-rescue.</p>
    
      <h2 id="pry-coolline">
        
        
          pry-coolline <a href="#pry-coolline" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>By default, code gets highlighted after you end your input.
This plugin supports real time highlight.</p>
    
      <h2 id="pry-macro">
        
        
          pry-macro <a href="#pry-macro" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>Record and play macros.
You can save macros to a file.</p>
    
      <h3 id="pry-rescue">
        
        
          pry-rescue <a href="#pry-rescue" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h3>
<p>Whenever an unhandled exception happens in your program, pry-rescue opens an interactive pry shell right at the point it was raised.</p>
<p>Install it together with <code>pry-stack_explorer</code>, then run <code>rescue file.rb</code> instead of <code>ruby file.rb</code>.</p>
<p>In the rescue Pry session, use <code>up</code> and <code>down</code> to move around the stack, and use <code>wtf?</code> or <code>cat --ex</code> to examine stack traces and the associated code.
After identifying the problem, use <code>edit-method</code> (alias <code>$</code>) to fix the code, and <code>try-again</code> to verify the fix worked.</p>
<p><code>cd-cause</code> lets you rewind back the previously raised exception. So, if you've rescued one exception, and then raised another (it happensâ€¦) you can jump back to the original cause of the problem.</p>
<p>You can also call <code>Pry::rescue</code> to control over which parts of your code are rescued:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'pry-rescue'</span>

<span class="k">def</span> <span class="nf">test</span>
  <span class="k">raise</span> <span class="s2">"foo"</span>
<span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
  <span class="k">raise</span> <span class="s2">"bar"</span>
<span class="k">end</span>

<span class="no">Pry</span><span class="p">.</span><span class="nf">rescue</span> <span class="k">do</span>
  <span class="nb">test</span>
<span class="k">end</span>
</code></pre></div></div>
<p>You can also use <code>Pry::rescue</code> in the <code>rescue</code> clause:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test</span>
  <span class="k">raise</span> <span class="s2">"foo"</span>
<span class="k">rescue</span> <span class="o">=&gt;</span> <span class="n">e</span>
  <span class="no">Pry</span><span class="o">::</span><span class="n">rescued</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="k">end</span>

<span class="no">Pry</span><span class="o">::</span><span class="k">rescue</span><span class="p">{</span> <span class="nb">test</span> <span class="p">}</span>
</code></pre></div></div>
    
      <h4 id="testing">
        
        
          Testing <a href="#testing" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h4>
    
      <h5 id="rspec">
        
        
          rspec <a href="#rspec" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h5>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rescue rspec
</code></pre></div></div>
    
      <h5 id="minitest">
        
        
          MiniTest <a href="#minitest" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h5>
<p>Add the following to your <code>test_helper.rb</code> or to the top of your test file</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'minitest/autorun'</span>
<span class="nb">require</span> <span class="s1">'pry-rescue/minitest'</span>
</code></pre></div></div>
<p>It works perfectly with <code>yard-doctest</code> in terminal, but not is
sublime-text.</p>
    
      <h2 id="themes">
        
        
          Themes <a href="#themes" class="anchor-hash" title="link to this heading">#</a>
        
        
      </h2>
<p>In a pry session, run <code>pry-theme list</code> to list all installed themes.</p>
<p>Try a theme:</p>
<div class="language-pry highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">pry-theme try pry-modern-256
</span></code></pre></div></div>
<p>If the theme is not installed, you can install it:</p>
<div class="language-pry highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">pry-theme install theme-name
</span></code></pre></div></div>
<p>You can use <code>uninstall</code> to uninstall it.</p>
<p>Show current theme:</p>
<div class="language-pry highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">pry-theme current
</span></code></pre></div></div>
<p>You can edit a theme:</p>
<div class="language-pry highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">pry-theme edit
</span></code></pre></div></div>
<p>After you have decided your theme, write it in <code>.pryrc</code>:</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Pry</span><span class="p">.</span><span class="nf">config</span><span class="p">.</span><span class="nf">theme</span> <span class="o">=</span> <span class="s2">"pry-modern-256"</span>
</code></pre></div></div>
<p>You can get more themes at <a href="https://github.com/kyrylo/pry-theme-collection">Pry theme collection</a>.</p>
    <div class="footer border-top border-gray-light mt-5 pt-3 text-gray">
      <div style="display: flex; justify-content: space-between; align-items: flex-start">
        <form id="site-search" action="https://duckduckgo.com/html/" method="get">
          <input name="q" type="search" value="site:mmap.page " required pattern="site:mmap\.page\s.+">
          <input type="submit" value="&#x1F50D;" title="search through site content via DuckDuckGo">
        </form>
        <p>
          <a href="mailto:weakish@gmail.com" title="weakish@gmail.com"><img src="https://icongr.am/feather/mail.svg" alt="Feather Icon Mail"></a>
          <a href="https://savannah.nongnu.org/people/viewgpg.php?user_id=65699" title="2414 AEA0 EA48 5263 9697  F1BA 55F6 EEC2 EA3F 0A87"><img src="https://icongr.am/feather/key.svg" alt="Feather Icon Key"></a>
          <a href="https://github.com/weakish/" title="GitHub"><img src="https://icongr.am/feather/github.svg" alt="Feather Icon Github"></a>
          <a href="https://www.instagram.com/jakukyo/" title="Instagram"><img src="https://icongr.am/feather/instagram.svg" alt="Feather Icon Instagram"></a>
          <a href="https://twitter.com/weakish" title="Twitter"><img src="https://icongr.am/feather/twitter.svg" alt="Feather Icon Twitter"></a>
          <a href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/rss.xml" title="RSS 2.0 Feed"><img src="https://icongr.am/feather/rss.svg" alt="Feather Icon RSS"></a>
          <a href="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/uses/" title="uses"><img src="https://icongr.am/feather/book-open.svg" alt="Feather Icon Book Open"></a>
          
          
          <a href="/Me.ZeroNetwork.bit/?Profile/12h51ug6CcntU2aiBjhP8Ns2e5VypbWWtv/1GnJD7CXskmG8GywMbTvbP12wneCFW9XzR/weakish@zeroid.bit" title="ZeroMe"><img src="/16XMwj6YRNqRHWbmSD8oxYUZCKfM1uzwP9/assets/images/zeronet_logo.svg" alt="ZeroNet Logo" width="32" height="32"></a>
        </p>
      </div>
        <p>
        Permission to use, copy, modify, and/or distribute this site for any purpose with or without fee is hereby granted.
        This site is provided "as is" without express or implied warranty.
        </p>
        <p>
        This site does not use cookies or tracking codes.
        The hosting service provider (<a href="https://pages.github.com/">GitHub Pages</a>) probably collects server logs,
        but I do not have access to them.
        </p>
        <p>
        Site source is <a href="https://github.com/weakish/weakish.github.com/">available</a>
        and feedback is <a href="https://github.com/weakish/weakish.github.com/issues">welcome</a>.
        </p>
        <noscript>
        <p>
        This site does not use JavaScript.
        </p>
        </noscript>
    </div>
  </div>
</body>
</html>
