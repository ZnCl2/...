<html>
<head>
<meta charset="UTF-8">
<!--<script type="text/javascript" src="js/all.js" async></script>-->

<script>
function gup( name, url ) {
  if (!url) url = location.href;
  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
  var regexS = "[\\?&]"+name+"=([^&#]*)";
  var regex = new RegExp( regexS );
  var results = regex.exec( url );
  return results == null ? null : results[1];
}

var url = '/'
if(window.location.hostname == "search.kaffie.bit")
  url = "http://zero/"

randsearch = ["blog", "zero", "news", "ebooks", "games", "zerohello", "zeroboard", "zerosearch", "zeroblog", "dydx", "zeronet", "site", "pitcairn", "island", "trip", "2012", "bluish", "coder", "old", "zerobay", "river", "bootstrap", "jquery", "things", "index", "javascript", "emulator", "tv", "episodes", "before", "law", "proxy", "decentral", "elmit", "rocks", "underd0g", "network", "homepage", "rush", "wallet", "online", "bitcoins", "zerotalk", "cute", "cutting", "requirements", "transmission", "adultlit", "public", "share", "high", "maintenance", "zeroname", "coinbin", "address", "brain", "generator", "salvotnt", "anime", "tor", "test", "smoking", "code", "studio", "mobile", "web", "corsair", "zeroid", "split", "secret", "censored", "websites", "cinema", "videos", "movies", "films", "entertainment", "retroshare", "rus", "eng", "coding", "love", "anarchist", "buddhism", "lostfile", "lyc", "jsnes", "game", "life", "nsfw", "porn", "russian", "crypto", "pgp", "key", "js2coffee", "coffeescript", "converter", "kickassfeeds", "books", "language", "beautifier", "yamamushi", "wimp", "curlybear", "zerochat", "tutorial", "sample", "zeroit", "page", "next", "everything", "talk", "Chinese", "Forum", "with", "images", "begins", "m1nistry", "slothkrew", "sloth", "hacking", "ctf", "opsec", "netsec", "irc", "community", "bazaarbay", "uwidth", "css", "html", "template", "example", "width", "dark", "simple", "minimal", "0chan", "imageboard", "4chan", "social", "anonymous", "class", "home", "link", "directory", "blackshroud", "australia", "politics", "torrent", "download", "future", "no", "more", "DNS", "takedown", "cdn", "developers", "indevelopment", "5ko", "petko", "tech", "python", "incivist", "pirate", "party", "switzerland", "revolution", "bad", "punching", "host", "file", "bphf", "security", "privacy", "anti", "ad", "track", "pub", "malware", "spyware", "exploit", "fraud", "hijack", "phishing", "typosquating", "botnet", "ssl", "worm", "trojan", "virus", "ddos", "hackshack", "deavmi", "malio", "programming", "felix", "knet", "hack", "shack", "nim", "julia", "basic", "freebasic", "computers", "computing", "numbers", "maths", "mathematics", "nimlang", "languages", "nimrod", "C", "open", "source", "gnu", "free", "software", "photos", "photography", "adventures", "journal", "diary", "twister", "win", "builds", "p2p", "build", "linux", "doge", "ascii", "art", "raspberry", "pi", "help", "user", "begining", "exploration", "heathenman", "Alternatives", "french", "mesh", "make", "alternative", "opensource", "decentralized", "blockchain", "ouvert", "partage", "libre", "magnet", "musics", "applications", "apps", "series", "shows", "Wiki", "Clone", "info", "anarchism", "anarchy", "persian", "iran", "cgm616", "new", "zeromaps", "sharing", "pdf", "text", "docs", "library", "klaus", "zimmermann", "net", "activism", "raito", "spanish", "español", "gnusocial", "divided", "cryptocurrencies", "darknets", "encryption", "steganography", "liberty", "cryptography", "cryptocurrency", "darknet", "freedom", "crate", "flip", "coin", "luck", "mail", "messaging", "nebel", "kerze", "dampfen", "dampfer", "ezigarette", "nebelkerze", "prohibition", "vape", "vaping", "quellen", "sources", "aroma", "aromen", "akku", "akkus", "akkuträger", "verdampfer", "selbstwickelverdampfer", "import", "nikotin", "koffein", "tabak", "webgame", "pac", "man", "html5", "pacman", "roberth", "castaño", "music", "tutorials", "one", "last", "bit", "literature", "scifi", "fiction", "cannon", "torrents", "archive", "backup", "bay", "KAT", "kickass", "yify", "yts", "kickasstorrents", "shinra", "belge", "belgique", "francophone", "français", "france", "découverte", "nouveau", "débutant", "théorie", "relative", "la", "monnaie", "économie", "protocole", "Internet", "mesure", "fr", "francais", "learn", "katee", "owen", "fanpage", "bugaga", "tiddly", "TiddlyWiki", "finance", "kateeowen.bit", "tits", "boobs", "speech", "debate", "chan", "personal", "thoughts", "soft", "weird", "my", "ip", "finder", "myip", "Kaffiene", "Search", "kaffie", "find", "engine", "FIRST", "PROGRAMMER", "Himalaya", "yeti", "comments", "hints", "tips", "unix", "microcontroller", "retro", "censorship", "electronica", "dance", "statik", "0", "statikshock", "warez", "scene", "lifestyle", "drugs", "sex", "alcohol", "beginner", "guide", "intro", "Effekt", "english", "esperanto", "communism", "tag", "europe", "Project", "Projects", "Encrypted", "Designer", "website", "developer", "maker", "job", "Mod", "technology", "support", "coffescript"];


</script>
<title>Kaffiene</title>
  <link rel="stylesheet" href="css/all.css" />
</head>
<body>
<script>
//Grab the site information from data.txt.
var datau;
var xmlhttp;
if (window.XMLHttpRequest)
{
  xmlhttp=new XMLHttpRequest();
}
else
{
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange=function()
{
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
  {
    datau=xmlhttp.responseText.split("\n");
  }
}
xmlhttp.open("GET","data.txt",false);
xmlhttp.send();

//Run the search
function search(){
  //datau=shuffle(datau);
  document.getElementById("results").innerHTML="";

  var found = 0;

  //Split the search term for easier searching
  sra=[];
  var sra = document.getElementById("sr").value.toLowerCase().split(" ");

  //Check for regex
  var regx = 0;
  if(sra[0] == "[r]")
    regx = 1;

  //Loop through sites
  for (var i=datau.length-1;i>=0; i--)
  {
    var accept = regx;
    //Loop through search terms
    for (var term=regx;term<sra.length;term++)
    {
      //Check search normally, or via regex
      if(!regx)
      {
        if(datau[i].toLowerCase().indexOf(sra[term]) > -1)
        {
          accept = 1;
          break;
        }
      }
      else
      {
        var patt = new RegExp(sra[term]);
        if(patt.test(datau[i]) == false){
          accept = 0; break; }
      }
    }
    //If site matches search, add it to results.
    if(accept)
    {
      var data = datau[i].split(":");
      var desc = data[0].split("[");
      document.getElementById("results").innerHTML+="<a href='"+url+data[1]+"' target='_top'>" + desc[0]+" </a> - ";

      if(document.getElementById("discover").checked && !!desc[1])
      {
        desc[1] = desc[1].replace(/\b(\w+?)\b/g, "<span onclick=\"searchterm('$1')\">$1</span>")
      }

      document.getElementById("results").innerHTML+=desc[1]+"<br>";
      found+=1;
    }
  }
  //Display number of results
  var rstring = "<center>"+found+" result";
  if(found != 1){ rstring+="s"; }
  document.getElementById("resultsfound").innerHTML=rstring+" found. <a href='?q="+escape(document.getElementById("sr").value)+"'>share</a><br></center>";
}

function searchterm(text)
{
  document.getElementById("sr").value = text.replace(/\s/g, '');
  search();
}
function searchphrase(text)
{
  document.getElementById("sr").value = text;
  search();
}

function randomsearch(){
  document.getElementById("sr").value = randsearch[Math.floor(Math.random() * randsearch.length)];
  search();
}

</script>
<div id="header" align="center">
<br>
<br>
<div id = "main-google-search">
<label for = "search_input" class = "logo">
 <span class = "blue">T</span><span class = "red">U</span><span class = "yellow">I</span></label>

<script>document.write("<span id='curindex'>" + datau.length + " <a href=\"why.html\" target='_top'>unique</a> sites and growing</span>");</script><br>
Sadly i never got to the point of getting this working, so just use <a href="http://127.0.0.1:43110/1Mr5rX9TauvaGReB4RjCaE6D37FJQaY5Ba/">Kaffiene's</a> search engine<br>

<br>
<input id="discover" type="checkbox" style="display:none" ></input>
          <input disabled type = "search" name = "search_input" id = "sr" placeholder = "Not working!" required x-webkit-speech results = "10" autosave = "search_input" title = "Search Zeronet" role = "search" autofocus autocomplete = "true" tab-index = "1"/><div id="main">
<footer>
<button onclick="search()">Search</button> <button onclick="randomsearch()">Random search</button>
<br><br>
<div id="resultsfound"></div>
<div id="results"></div>
</footer>
</div>
</div>
</div>
<script>
document.getElementById('sr').onkeypress = function(e){
    if (!e) e = window.event;
    var keyCode = e.keyCode || e.which;
    if (keyCode == '13'){
      search();
    }
  }

var s = gup('q',location.href)
if(s != null)
searchphrase(unescape(s))
</script>
</body>
</html>
