<!DOCTYPE HTML>
<html>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>Kevin Froman's blog - Pwning Freenet With Clickjacking</title>
  <meta name='description' content='Kevin Froman's blog on security, programming, and other musings'>
  <meta name='author' content='Kevin Froman'>
  <link rel='icon' type='image/x-icon' href='/favicon.ico'>
  <link rel='stylesheet' href='theme.css'>
  <script src="https://widget.battleforthenet.com/widget.js" integrity="sha384-OzmvdVOIBjM9YAUmPdrxpGclC0fg2bTYlwv12prMWoF1y4osMdsZ1UvH1ufTqAQ3" crossorigin="anonymous"></script>
</head>
<body>
  <div id="wrapper">
    <h1 id='siteTitle'><a href='index.html'>Kevin Froman's blog</a></h1>
    
<div id='myIntro' class='center'>Blog on security, programming, & other musings</div>
    <div id='mainContent'><h2 id='postTitle'>Pwning Freenet With Clickjacking</h2>
        <div id='postDate' class='center'>2017-03-08</div><h2>Introduction</h2>
<p>Freenet is an open-source, distributed, and decentralized file storage network.</p>
<p>Like I2P, Freenet uses a web server on a user's local machine to provide configuration and access to their client through a web browser.</p>
<p>This opens Freenet up to the class of vulnerabilities that all web applications are prone to.</p>
<p><img alt="Freenet logo" src="./images/freenet.svg" /></p>
<h2>Security headers</h2>
<p>The first thing I check before looking for common web issues is the HTTP response headers the server is returning, such as the 'Content Security Policy' header.</p>
<p>As it turned out, Freenet was returning a CSP header, however, it was improperly configured using a deprecated feature 'frame-src', which is not currently supported by Firefox, Chrome, and perhaps other browsers.</p>
<h2>Clickjacking</h2>
<p>The incorrect CSP header meant that attackers could embed the Freenet client in an invisible iframe to capture the user's clicks to change the user's client settings, such as their 'security level', their plugins settings (e.g. installing malicious plugins), shutdown/restart their node, etc.</p>
<h2>Fixing the Vulnerability</h2>
<p>I contacted the Freenet developers, who patched this in <a href="https://freenetproject.org/news.html#20170309-1477">0.7.5 build 1477</a></p>
<h2>Conclusion</h2>
<p>It seems many networks like Freenet suffer from the same category of issues: web attacks. I think in the future distributed networks should try to move away from the web.</p>
<p>I recommend anyone on an outdated version of Freenet update as soon as possible.</p><div class="center" style="margin-bottom: -25%; margin-top: 2em; border-radius: 5px; padding: 5px;"><span>Written by anonymous</span><br><br></div>
    </div>
  </div>
  <div id="footer">
    <footer>Powered by TinyGen<div id='socialLinks'><a class="socialLink" href="https://twitter.com/@beardog108"><img src="../images/twitter.png" alt="TWITTER"></a><a class="socialLink" href="https://github.com/beardog108"><img src="../images/github.png" alt="GITHUB"></a><a class="socialLink" href="beardog@firemail.cc"><img src="../images/email.png" alt="EMAIL"></a><a class="socialLink" href="https://keybase.io/beardog"><img src="../images/keybase.png" alt="KEYBASE"></a><a class="socialLink" href="feed.rss"><img src="../images/feed.png" alt="RSS feed"></a></div></footer>
  </div>
</body>
</html>
