<?xml version="1.0"><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content = "text/html; charset = utf-8" />

<link rel="stylesheet" type="text/css" href="../themes/ghost.css" />

<link rel="icon" href = "../favicon.ico"><title>Linux Essentials</title>
</head>

<body>

<div id="center">

<a href="../contact.html">Contact me</a> for feedback or questions! I reply to everyone.

<h2>Linux Essentials</h2>

<a class = 'sectionlink' href="linux.html#intro">- Introduction -</a><br>
<a class = 'sectionlink' href="linux.html#apps">- Application-related -</a><br>
<a href="linux.html#repos">- Adding repositories -</a><br>
<a href="linux.html#packages">- Installing and removing packages -</a><br>
<a href="linux.html#otherdistros">- Packages from other distros -</a><br>
<a href="linux.html#panel">- Adding commonly used applications to the panel -</a><br>
<a class = 'sectionlink' href="linux.html#rice">- Making it look good -</a><br>
<a href="linux.html#themes">- Themes -</a><br>
<a href="linux.html#other">- Other settings you can change -</a><br>
<a class = 'sectionlink' href="linux.html#software">- Set up everyday software -</a><br>
<a href="linux.html#browser"> - Web browser -</a><br>
<a href="linux.html#tor">- Tor -</a><br>
<a href="linux.html#vpn">- VPN -</a><br>
<a href="linux.html#geany">- Geany -</a><br>
<a href="linux.html#spacefm">- File manager -</a><br>
<a class = 'sectionlink' href="linux.html#lifesavers">- Life savers / enhancers -</a><br>
<a href="linux.html#aliases"> - Terminal aliases -</a><br>
<a href="linux.html#hardinfo">- Hardinfo -</a><br>
<a href="linux.html#photorec">- Data recovery -</a><br>
<a href="linux.html#deploy">- Deploying your system elsewhere -</a><br>
<a class = 'sectionlink' href="linux.html#stuff">- Other things to keep in mind -</a><br>

<h3 id="intro">Introduction</h3>

<p>The more accurate title would be <em>the things I do after installing a Linux system to make my experience more comfortable</em>. Even with such a user-friendly distro as Salix (which this guide will assume - but most of it can be adapted to other distros), it is easy to get overwhelmed, especially for a recent Windows refugee. So, hopefully this article will provide some direction and save you time, effort, and possible frustration for when you break something and / or have to install Linux on another machine.</p>

<h3 id = "apps">Application-related</h3>

<h4 id = "repos">Adding repositories</h4>

<p>Now, Salix repositories are quite large and should be enough to get you started, but someday you will need to branch out. The defaults are limited to packages from Slackware 14.2, while sometime you just might need a newer version (for example, certain python3 applications require 3.6 which Salix does not provide). Some packages are also not available at all, such as SpaceFM, my favorite file manager. In come the Slackel (http://www.slackel.gr/repo/x86_64/current/) and SlackOnly (https://packages.slackonly.com/pub/packages/14.2-x86_64/) repositories. Just start up Gslapt, go to Preferences - Sources, click Add, and copy those links. Remember, though, that <em>you can easily break shit</em> if you aren't careful - a repo can, for example, pull in a library that a package requires, and that one will replace the one you had before - breaking everything that was dependent on it. There are also other available repositories, such as Ponce or Alien - search around! </p>

<h4 id = "packages">Installing and removing packages</h4>

<p>It is hard for a distro to contain everything you need and nothing else - in fact, it is impossible (but Salix comes close). So you will always have to add and remove something. You can use the repositories you've added in the previous step - or, another nice way to install a particular package you need is to use SlakFinder (http://slakfinder.org/ - here are my <a href="https://mycroftproject.com/search-engines.html?name=slakfinder">search plugins</a> for its easier usage). This website allows you to type a package name (even partial) and it will show you all the repositories you can download it from (including the links!). You will have to use the <em>installpkg</em> command to use those. This way will also not bring in any dependencies, which has its advantages (no breakage) and disadvantages (package might not work). Note: if you want to skip installing dependencies, you can use the <em>Download packages only</em> option in Gslapt - or find a repository that doesn't contain dependency information. I will assume you've managed to install everything you need without breaking anything (harder than it sounds sometimes). Slapt-get (what Gslapt uses) keeps all its installed packages in /var/slapt-get/, so I recommend to copy those to a pendrive. This way, if you ever install Salix elsewhere, you can immediately bring it to your preferred state by running the command "sudo installpkg ./*" while inside the folder you've stored them in. And you won't even have to connect to the Internet anymore to download those packages.</p>

<h4 id = "otherdistros">Packages from other distros</h4>

<p>Unfortunately for us Slackware-based distribution users, Ubuntu / Debian are the primary target for many Linux developers. Therefore, many packages <em>cannot be found</em> in the Slackware .t*z format, but can in .deb or sometimes Red Hat's .rpm. What do to then? <em>deb2tgz</em> and <em>rpm2tgz</em> to the rescue. These scripts allow you to convert any .deb or .rpm package so that it is compatible with Slackware-based distros. deb2tgz is found in the SlackOnly repository, while rpm2tgz - in the Salix one.</p>

<h4 id = "panel">Add commonly-used applications to the panel</h4>

<p>By default, Salix includes only a few generic icons on the panel - the terminal, text editor, file manager and web browser. But of course you will use so much more of them - so why not put the most used ones in there as well? Let's add a music player - right click the panel, hover over Panel, and click Add new items. Now choose Launcher and click Add. An empty icon will appear in there - right click it and choose "Properties". Now click the plus button. Type the name of your music player (for example QuodLibet) or find it in the list of applications, then click on it and use the Add option to put it in the panel. Close the launcher editor, right click the icon that appeared, and Move it to wherever it is convenient for you. You will probably install packages pretty often, so let's add Gslapt in there as well. Then the mail client, painting program, IDE, and movie player. You're all set! The result should look something like this: <br><img src = '../images/panel.png'><br>This should heavily boost your productivity - no more clicking around to find the program you're looking for. The panel settings (as well as other Xfce-related ones) are stored in <em>/home/YourUsername/.config/xfce4/</em>, so you can easily copy them to a pendrive or something. And if you break Linux on this machine, you can just reinstall it and keep the home partition, so the settings will be carried over.

<h3 id = "rice">Making it look good</h3>

<h4 id = "themes">Themes</h4>

<p>Let's face it, Xfce's default look <em>sucks</em>. And all its default themes also <em>suck</em>. Now you can install the murrine engine and its associated themes, but they are only slightly better. Chances are, if you want to actually enjoy looking at your computer, you will need to peruse the website <em>https://xfce-look.org/</em>. But first, go to Settings > Settings manager and let's see how is the look of Xfce actually decided. You can divide it into five parts: <ul><li>Theme (the color scheme of everything except the title bar - set through the Appearance menu) </li> <li>Icons (also Appearance menu) </li><li>Wallpaper (in Desktop)</li><li>Title bar (colour and buttons; in Window Manager menu) </li><li>Cursors (in Mouse and Touchpad > Theme). </li></ul>Now wouldn't it be nice to have all these put together, instead of scattered around? Download the package Xfce-theme-manager (find it through the aforementioned SlakFinder). Now a new section will appear in your Settings Manager. There you can modify all the settings as well as some additional ones - and save them as actual whole themes. Anyway, visit <em>https://xfce-look.org/</em> and look around. First, time to dump the boring single-colored cursors. Let's have some fun - how about a <em><a href='https://www.xfce-look.org/p/999888/'>fucking Katana </a></em> as your cursor - download it by - you guessed it - clicking the Download btton. To install the cursor set, move the archive to /usr/share/icons, open it in Engrampa and extract the folder that is INSIDE - just extracting the archive will create a folder with its name, <em>and the theme will not work</em>. Some of my favorites are <a href='https://www.xfce-look.org/p/999770/'>Charged</a>, <a href='https://www.xfce-look.org/p/999438/'>Dragon's Jewel</a>, and <a href='https://www.xfce-look.org/p/999687/'>Dragon Claw</a>. Keep in mind anyone could submit a theme, so there's bound to be a few low quality or even incomplete ones. Now do the same for Icon Themes and XFCE/XFWM4 Themes (extracted in /usr/share/themes) and you're all set! Note: while seeking themes, try to find ones that have GTK3 support instead of just GTK2; otherwise, the GTK3 programs will use the default look and seem out of place compared to the GTK2 ones. As for the wallpaper - well, you can get it from anywhere - any png/jpg image will work. Put them in /usr/share/xfce4/backdrops/ to have them displayed in the settings manager. It is also possible to edit a theme (or create your own, but that's way too much effort) - for that, go to your theme's folder, then gtk2.0 and open the <q>gtkrc</q> file in your favorite text editor. There's really no proper documentation for doing this, so you'll have to figure out what stuff means on your own.</p>



<h4 id = "others">Other settings you can change</h4>
<p>Lots! Let's go through them one by one:</p>
<ul>
<li><em>Screensaver</li></em> - you're a lucky guy; there's a lot of them <em>by default!</em>. Even a fucking Pacman one. Find them in Settings > Screensaver. Some fun ones are Kumppa, Fireworkx, or BinaryRing.
<li><em>Transparency</li></em> - a common criticism of "ricing" is that you never see your wallpaper. Well, not if you have this enabled! Go to Window Manager Tweaks > Compositor, enable it if it isn't already, and choose your preferred transparency levels for inactive and moving windows. I recommend making them mostly transparent. While we're here, turn on your Terminal emulator (if you're new to Linux - trust me, you will use this a lot) and change its transparency as well (Edit > Preferences > Appearance. Background > Transparent).
<li><em>Screen resolution</li></em> - self explanatory. It's in the Display section of the Settings Manager.
<li><em>The look during Alt+Tabbing</li></em> - it's in Window Manager Tweaks > Compositor, specifically the <em>Show windows preview in place of icons when cycling.</em>. I think this should be disabled, because it's fucking ugly.
<li><em>Font family and size</li></em> - Appearance > Fonts.
<li><em>Desktop icons</li></em> - Destkop > Icons. I recommend deleting them all, to see the wallpaper in all its glory.
<li><em>Terminal colors</li></em> - Lime on black, hacker style ^_^
<li><em>Changing the look of specific icons</em> - You can do that too. Right click on an application on the panel, Edit Launcher and click on its icon. By using the "Image files" option and traveling through the folders in /usr/share/icons/, you can use icons from many different themes at the same time, or even your own custom ones.</li>
</ul>

<p>If you want to create a new panel, right click an existing one and navigate to Panel > Panel Preferences, then click the + button. There you can choose its properties such as size or whether it will hide itself when the cursor is away. You can use it, for example, to display the currently active applications at the top while you hover over there. Okay, that's about as much as you can do with pure Xfce. The final result might look something like this: <img src = "../images/rice.png"> There are some other tools for more heavy ricing that I might describe someday; for now though, let's move on to functionality.</p>

<h3 id = "software">Set up everyday software</h3>

<h4 id = "browser">Web Browser</h4>

<p>If you're like me, you will be spending much of your computer time browsing the Internet. So why not prepare it for this - as we will see - gargantuan task now? First of all - the browser choice. Refer to my other article -
 <a href="browsers.html">How to choose a browser for your daily use?</a> - for advice on this topic. Time to harden it with addons (if it supports them - but if you read the linked article, you will hopefully see how essential they are). <a href="addons.html">Essential privacy (and other) addons</a>. Now let's set up our search engines. The nice thing about Chrome-based browsers is that <em>they will detect whenever you use a search engine</em>, and automatically add it to the settings menu. Go there and click "Manage search engines". There, you will have a list of all the ones you've ever used - so if you searched for something with SlakFinder, you can now set a keyword for it. Click on the three dots to the right of it, Edit, and put "sf" as the keyword. Now you can perform a SlakFinder search by typing <em>sf your-search-term</em> in the address bar. Pretty convenient, huh? Now do the same for StartPage (keyword st) and DuckDuckGo (keyword ddg), as well as any others you want. This is also possible in Firefox-based browsers, but you will need to find a plugin from <a href='https://mycroftproject.com/'>https://mycroftproject.com/</a> for the website you want to search through. </p>

<h4 id = "tor">Tor</h4>

<p>A network that allows (relatively) anonymous web browsing - read the first section of <a href="botnet.html">my article </a> if you want to know more (but don't get discouraged - it is still useful). First, find the Tor package in Gslapt and install it. The default configuration requires a separate user for running it - so let's create it. Click the Salix button at the lower left corner and go to System > Users and Groups. Click the <em>Manage groups</em> button, then Add, and type tor in Group name. Now that you've added the tor group - time to create the tor user and add him to that group. Close the Groups menu and click Add. Type <em>tor</em> in the Username field and anything you want as his Real Name. Now switch to the Groups tab and choose tor as his main group. Click OK and you're done here. Now type these commands into the terminal: <em>sudo chown -R tor /var/log/tor</em>, then <em>sudo chown tor /var/lib/tor</em>. This will make the newly created user the owner of some directories Tor requires, so that he has the permissions to use them.</P>

<p>Now the fun part - setting up your web browser to use the network. If you use the Proxy SwitchyOmega extension, as I recommend - go to its options and click New profile on the left. Type Tor as the profile name and click Create. The fields should be filled as such: Protocol - <em>SOCKS5</em>; Server - <em>127.0.0.1</em>, and Port - <em>9050</em>. That's it! Now you can type <em>sudo tor</em> in the terminal anytime you want to run it. Click the SwitchyOmega button to switch to the Tor profile whenever you want to browse anonymously (but keep in mind you will be easily identified if you use the same accounts as for regular browsing, or through undeleted cookies and such - so be careful). While browsing, you will see that some websites try to restrict or outright block you - if you encouter them, you can add them to the <em>Bypass list</em> to connect to them directly.  What about software other than the web browser? You will need the <em>torsocks</em> package (available from the default repositories) and run it from the command line like this: <em>torsocks wget https://here-be-dragons.com</em> for example. </p>

<h4 id = "vpn">VPN</h4>

<p>However, I recommend a VPN these days - less hassle since all your connections are proxied by default. <em>Do not use NetworkManager to configure them!</em> Since it doesn't seem to be able to run the essential <a href="https://github.com/wknapik/vpnfailsafe">vpnfailsafe</a> script for preventing VPN leaks. So you will have to type the terminal command such as <em>sudo openvpn --config /etc/openvpn/your_vpn_config.ovpn</em>. A VPN provider should have those config files available, and then you have to add the vpnfailsafe script execution to them (their github page explains how to do it). To be even safer, you should have the VPN run on system startup (System -> System Services -> OpenVPN service; if you have more than one VPN config file in /etc/openvpn, you're going to have to edit /etc/rc.d/rc.inet2 manually).</p>

<h4 id = "geany">Geany</h4>

<p>If you are a developer this is a great, lean tool to use and installed by default in Salix. What I like to do here is first to <em>create some projects</em> using the <q>Project > New</q> option. With this, you will be able to switch through different projects with three clicks and have all their files loaded. Very useful if you, for example, both develop a website and create software. The fun thing about this is that you can <em>search and replace a string in all loaded files</em> (Ctrl+H -> Replace all in session). Makes it much more convenient to do mass modifications. Another feature I like to use is <em>templates</em> - if you are going to be creating documents that look the same just with different content, templates are invaluable. Create a skeleton of your file with all the content removed and put it in <em>/usr/share/geany/templates/files/</em>. Then, anytime you want to make a new document you can do that in 3 clicks with File -> New with template and then choose the template. Very convenient! Macros are another thing you should really try to learn (Tools -> Edit macros) - these allow you to make more complex modifications to a document, but they can be kind of hard to use. Though with a little bit of effort they can automate lots of tough tedious work.</p>

<h4 id = "spacefm">File manager</h4>

<p>Another one you'll be spending some time on. This guide will assume you are using <em>SpaceFM</em>, since it is simply the most powerful one. What can it do?</p>

<ul>
<li><em>Create custom commands</em> - see <a href="software.html">here</a>.</li>
<li><em>Set up key shortcuts</em> - for like everything. Right click any item and then Key Shortcut.</li>
<li><em>Create bookmarks</em> - Navigate to a folder you want to add, then click Bookmarks -> New Bookmark. Right click the bookmark that has appeared to set its icon or key shortcut.</li>
<li><em>Set mount options for devices</em> - right click on a device, then Settings -> Mount Options.</li>
<li><em>Modify the toolbar</em> - right click it to see all the options. Can add bookmarks, commands, applications, move stuff around, remove buttons already there, etc.</li>
<li><em>Lots and lots of others!</em> SpaceFM's power is truly <em>galactical</em> - I don't even know half of it. Explore!</li>
</ul>

<h3 id = "lifesavers">Life savers / enhancers</h3>

<h4 id = "aliases">Terminal aliases</h4>

<p>Let's face it - it can get tedious to type the same long terminal commands all the time. Aliases to the rescue! In your home directory, create a file named <em>.bash_aliases</em> - yes, with the dot - and put this line there: <em>alias sli="sudo slapt-get install"</em>. Since you will most likely be using slapt-get quite a bit, this will bind it to the shortcut <em>sli</em>. And you can do that for any command just by putting an alias in a new line. Keep in mind you have to log out to have the shortcuts be applied.</p>

<h4 id = "hardinfo">Hardinfo</h4>

<p>Just a program that shows you all the hardware you have - something that should really be there by default, but somehow isn't. Available in the default repos.</p>

<h4 id = "photorec">Data recovery</h4>

<p>It is inevitable that you will lose some of your data sooner or later - whether through power, hardware, or system failure; accidentally (or on purpose - and then regretting it) deleting it, or through an overzealous BSD installer eating your old partitions. Easy to say <em>back it up!</em> - and you should - but a backup can get eaten by a dog too. There are two tools available for data recovery - extundelete and PhotoRec. Now, the former only goes after the files <em>still present in your filesystem</em> - even then, I've always had problems actually getting it to do anything; the latter, on the other hand, goes straight to the underlying data. It will recover anything that can be - so let's learn how to use it.</p>

<p>Let's say you've had some hacking ^_^ ebooks stored on a pendrive - but you've decided to use it for something else - and now you'd like to bring them back. Type <em>sudo photorec</em> in the terminal and choose the relevant drive. Now press the right arrow twice to enter File Options.  Press S to disable all the file types, then scroll down to <em>pdf</em>, press Space and Enter to go back to the main menu. Forget about specific partitions - it might have been repartitioned a thousand times since the data loss - so use the <em>No partition - Whole disk</em> option. Again, filesystem doesn't matter if we're looking through the whole disk, so just select ext3, move the cursor back to Search, and press Enter. Last thing you have to do is choose where the recovered files will be dumped. You can create a new folder "Recovery" inside /home if you want to. Before we start, I should warn you that the dumped files can take quite a lot of space - even <em>all of it</em> - so watch out. Okay, let's press C, and the process can begin.</p>

<p>Right away PhotoRec will begin dumping a bunch of files (if it found anything) - and you can explore them real-time. The recovery can take quite long, so be patient. Now remember - PhotoRec goes <em>after the underlying data</em> - so you can find some partial or corrupted files - and the filenames are ignored since they are stored in the filesystem. You might be surprised at what PhotoRec finds - I've seen system-related stuff from like five installations ago, or old pictures I've used for shitposting on chans that I forgot have even existed. To make it easier to find the file you want, sort them by size so the useless <1KB ones will be shown first. If it was a text file, you can also type the command <em>grep -rnw '/home/YourUsername/Recovery' -e 'TextToBeFound'</em>, which will search for files containing a particular string inside the Recovery folder. Okay, that's about it for our brief PhotoRec guide (it can do more - search the 'net; the basics are sufficient though). Hook up some old drives and happy hunting! </p>

<h4 id = "deploy">Deploying your system elsewhere</h4>

<p>If you are anything like me, you probably have your favorite, carefully prepared system configuration that you don't stray away from (except to check stuff out sometimes, maybe). Isn't it annoying, then, how if you want to copy it to another computer, you have to install that distro again, plus remember and redo all the modifications? Fortunately I've recently discovered a way to bypass that process and I will list the exact steps here:</p>

<ol>
	<li>Log in to another Linux installation (on the same computer)</li>
	<li>Launch GParted</li>
	<li>Take note of the size of the partition that has the system you want to deploy. Copy that partition; if you have not enough free space, shrink some other partitions or attach an additional drive.</li>
	<li>Now, shrink that copied partition (<em>not the actual one!</em>) to the minimum possible space. Though, you will need a little more than what GParted says - so if you have a 7GB system, try 8GB just to be safe.</li>
	<li>Close GParted and put in a USB drive with enough space to hold the shrunk partition.</li>
	<li>Use dd to copy the partition to your USB drive. This is the most important step, <em>don't fuck it up</em>. The command will look something like <em>dd if = /dev/sda8 of = /dev/sdb status=progress</em>. Of course replace the identifiers with what they really are on your machine (the first one is the partition being copied, USB drive is second - if you put a HDD partition instead of the USB, you will <em>lose the data on it</em>).</li>
	<li>Launch a Linux system on the computer you want to copy the system to.</li>
	<li>Launch GParted and create a partition for your system, with <em>the intended size</em> - so even if your current config takes 7GB, take into account the fact that you will likely install more stuff there still. So try 20 or 30 GB just so you don't have to expand the partition later.</li>
	<li>Put the USB drive into the computer you want to copy the system to.</li>
	<li>dd the contents of the USB to the partition you just created, like this: <em>dd if = /dev/sdb of=/dev/sda6 status=progress</em>. The warning about identifiers applies here as well.</li>
	<li>Your system is now in place, but that isn't enough. If you want to boot it, you need to have grub or lilo detect it first. Run liloconfig or whatever grub uses to detect its systems.</li>
	<li>Finally, modify the /etc/fstab file on the partition with your newly deployed system so that it points to the correct identifiers (since the previous one would have those from the old computer).</li>
	<li>That's it, we're done here! Isn't this convenient? You can use it anywhere as many times as you want, and if you modify your preferred config, just redo the process. Unfortunately, Linux does not appear to have an easier way to do this (but it's way better than the alternative of reinstalling the distro, or - God forbid - <em>distrohopping</em>). Note I'm repeating the instructions from memory, so some details might be off. But I did do it and it worked 100% some time ago.</li>
</ol>

<h3 id = "stuff">Other things to keep in mind</h3>

<ul>
<li><em>ALWAYS keep around an USB drive with a Linux Live iso on it! </em> This will be essential if you render your current installation unbootable; even if you don't manage to recover it, you will be able copy the files you need, and reinstall. Even better - use the instructions from <a href="linux.html#deploy">this section</a> and keep THAT USB drive around.</li>
<li><em>Make /home a separate partition </em>- an extension of the above; allows for an easy Linux reinstall without losing your personal data</li>
<li>To make a command not steal the whole terminal window, add the <q>&</q> character after it (for example, <q>gparted&</q> or <q>gslapt&</q>). If you've already run a command without it, press Ctrl+Z in that terminal window and take note of the number in parentheses that appeared. Then, type <q>bg that number</q>, for example <q>bg 3</q>, which will send the command to the background. You can bring it back to terminal with <q>fg 3</q>.</li>
</ul>

<a href = "../index.html">Back to the front page</a>

</div>

</body>

</html>
