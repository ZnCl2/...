{"cert_user_id": "jingyuexing@github", "next_topic_id": 2, "topic": [{"topic_id": 1604067768, "title": "I can't get function Passback Value\uff01", "body": "I use Angular frame to development a website ,but i use the cmd function can't get passback value,just have a log,so, i use webSocket test,this is can't work. \r\n\r\n\r\n```js\r\ncontroller('A', ['$scope', function($scope) {\r\n  class Friends extends ZeroFrame{\r\n    info(){\r\n      this.cmd(\"siteInfo\",[],function(info){\r\n        $scope.webSiteInfo = info;\r\n        //info is undefined\r\n      });\r\n    }\r\n  }\r\n  var F = new Friends();\r\n}])\r\n```", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1580796185, "modified": 1582986334, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2409", "source_type": "github"}], "next_comment_id": 7, "comment": {"1604067768_mirrored_jingyuexing_github": [{"comment_id": 1, "body": "## this is        Design flaws????", "added": 1580796308, "modified": 1580796308, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2409#issuecomment-581808952", "source_type": "github"}, {"comment_id": 2, "body": "about use a single global object,NO!\r\nbecause zeronet use iframe tag to build web pages,so,i can't use global object,and i tested,this way can't work .because have two scope,the page scope,in the iframe scope", "added": 1580817670, "modified": 1580817670, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2409#issuecomment-581950799", "source_type": "github"}, {"comment_id": 3, "body": "the cmd function is not immediate passback value,so,i want to creat a websocket ,when i create websocket,the connect is close, can't to connect uiWebsocket.", "added": 1580818041, "modified": 1580818041, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2409#issuecomment-581953645", "source_type": "github"}, {"comment_id": 4, "body": "> > about use a single global object,NO!\r\n> > because zeronet use iframe tag to build web pages,so,i can't use global object,and i tested,this way can't work .because have two scope,the page scope,in the iframe scope\r\n> \r\n> I'm not sure if you understood me. I mean something like a singletone. Instead of instancing new ZeroFrame instances on every route, create ZeroFrame once at the start of the app.\r\n\r\nEmmmmmm,it don't get passback value", "added": 1580882010, "modified": 1580882010, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2409#issuecomment-582304284", "source_type": "github"}, {"comment_id": 5, "body": "```js\r\nvar ZF = new ZeroFrame();\r\nvar websiteInfo;\r\nZF.cmd(\"siteInfo\",[],function(info){\r\n  websiteInfo = info;\r\n})\r\n```\r\n```js\r\nmain.controller('testCtrl', ['$scope', function($scope){\r\n  $scope.webSite={\r\n    address:websiteInfo.address,\r\n    peer:\"\",\r\n    auth_key:websiteInfo.auth_key;\r\n  }\r\n}]);\r\n```\r\nthe $scope.webSite is undefined,\r\n\r\n![image](https://user-images.githubusercontent.com/19589872/73827212-18d2e980-483a-11ea-987d-48e8c42ff666.png)\r\n", "added": 1580882905, "modified": 1580882905, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2409#issuecomment-582309754", "source_type": "github"}, {"comment_id": 6, "body": "when i get value ,is undefined", "added": 1580884303, "modified": 1580884303, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2409#issuecomment-582318747", "source_type": "github"}]}}