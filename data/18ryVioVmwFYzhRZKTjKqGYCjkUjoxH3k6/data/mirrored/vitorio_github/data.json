{"cert_user_id": "vitorio@github", "next_topic_id": 4, "topic": [{"topic_id": 1604066583, "title": "Make sidebar donate link optional?", "body": "### Step 1: Please describe your environment\r\n\r\n  * ZeroNet version: 0.6.3\r\n  * Operating system: OS X 10.11, Windows 10\r\n  * Web browser: Safari, Chrome, Edge\r\n  * Tor status: not available on Mac/available on Windows\r\n  * Opened port: yes\r\n\r\n### Step 2: Describe the problem:\r\n\r\nAs a site owner, I'd like to be able to remove the \"Donate\" link in the sidebar for my site.\r\n\r\nThere doesn't appear to be a way to do this through the ZeroFrame API, perhaps it could be added as an optional flag in content.json?  Something like:\r\n\r\n```json\r\n\"donate\": false\r\n```\r\n\r\nor\r\n\r\n```json\r\n\"hide_donate_links\": true\r\n```\r\n\r\n?", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1530402249, "modified": 1531270219, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1467", "source_type": "github"}, {"topic_id": 1604066586, "title": "CLI siteDownload doesn't work, expects privileged port, ConnServer hangs?", "body": "### Step 1: Please describe your environment\r\n\r\n  * ZeroNet version: 0.6.3 r3501\r\n  * Operating system: Debian stretch\r\n  * Web browser: N/A\r\n  * Tor status: N/A\r\n  * Opened port: ?\r\n  * Special configuration: None\r\n\r\n### Step 2: Describe the problem:\r\n\r\nI'm trying to set up a permanent peer for my site, but the siteDownload CLI option does not appear to work, and a siteAdd command as suggested in IRC does not appear to exist.\r\n\r\n#### Steps to reproduce:\r\n\r\n  1. Install on Debian using either the \"manual install\" directions, the \"virtualenv\" directions, or the \"bundle\" directions (I've tried all three)\r\n  2. python ./zeronet.py siteDownload [myaddress]\r\n\r\n#### Observed Results:\r\n\r\n```\r\n- Starting ZeroNet...\r\n- OpenSSL loaded, version: 0100020CF\r\n- Version: 0.6.3 r3501, Python 2.7.13 (default, Nov 24 2017, 17:33:09) \r\n[GCC 6.3.0 20170516], Gevent: 1.3.4\r\n- Opening a simple connection server\r\nTorManager Connecting to Tor Controller 127.0.0.1:9051\r\nTorManager Starting self-bundled Tor, due to Tor proxy port 127.0.0.1:9050 check error: No connection\r\nConnServer Checking port 1234 using portchecker.co...\r\nConnServer [BAD :(] Port closed: Port 1234 is closed.\r\nConnServer Trying to open port using UpnpPunch...\r\nConnServer Internet offline\r\n```\r\n\r\nIt just sits there at this point, until I eventually hit Ctrl-C.\r\n\r\n```\r\n^CShutting down...\r\n- Unhandled exception\r\nNone\r\nKeyboardInterrupt\r\nAnnouncing...\r\nDownloading...\r\nTrue\r\nDownloaded in 5.445s\r\n```\r\n\r\n#### Expected Results:\r\n\r\nI expected it to start up properly and host my site.\r\n\r\nWhen running `python ./zeronet.py` with no parameters, the startup looks like this:\r\n\r\n```\r\n- Starting ZeroNet...\r\n[23:13:06] - OpenSSL loaded, version: 0100020CF\r\n[23:13:06] - Version: 0.6.3 r3501, Python 2.7.13 (default, Nov 24 2017, 17:33:09) \r\n[GCC 6.3.0 20170516], Gevent: 1.1.2\r\n[23:13:06] - Creating FileServer....\r\n[23:13:06] - Creating UiServer....\r\n[23:13:06] - Removing old SSL certs...\r\n[23:13:06] - Starting servers....\r\n[23:13:06] Ui.UiServer --------------------------------------\r\n[23:13:06] Ui.UiServer Web interface: http://127.0.0.1:43110/\r\n[23:13:06] Ui.UiServer --------------------------------------\r\n[23:13:06] TorManager Connecting to Tor Controller 127.0.0.1:9051\r\n[23:13:06] TorManager Starting self-bundled Tor, due to Tor proxy port 127.0.0.1:9050 check error: No connection\r\n[23:13:07] ConnServer Checking port 27297 using portchecker.co...\r\n[23:13:07] ConnServer [OK :)] Port open: Port 27297 is open.\r\n```\r\n\r\n(As this is a remote server, I'm not interested in exposing the web interface just to host a site.)\r\n\r\nThe difference appears to be in part that in `src/main.py`, the \"siteDownload\" command hardcodes a local address and privileged port, and the \"main\" command does not:\r\n\r\nmain(): `file_server = FileServer()`\r\n\r\nsiteDownload(): `file_server = FileServer(\"127.0.0.1\", 1234)`\r\n\r\nRemoving the parameters from siteDownload makes the output look like this:\r\n\r\n```\r\n- Starting ZeroNet...\r\n- OpenSSL loaded, version: 0100020CF\r\n- Version: 0.6.3 r3501, Python 2.7.13 (default, Nov 24 2017, 17:33:09) \r\n[GCC 6.3.0 20170516], Gevent: 1.3.4\r\n- Opening a simple connection server\r\nTorManager Connecting to Tor Controller 127.0.0.1:9051\r\nTorManager Starting self-bundled Tor, due to Tor proxy port 127.0.0.1:9050 check error: No connection\r\nConnServer Checking port 27297 using portchecker.co...\r\nConnServer [OK :)] Port open: Port 27297 is open.\r\n```\r\n\r\nBut it still never displays \"Announcing\", \"Downloading\" or \"Downloaded\" until I hit Ctrl-C:\r\n\r\n```\r\n^CShutting down...\r\n- Unhandled exception\r\nNone\r\nKeyboardInterrupt\r\nAnnouncing...\r\nDownloading...\r\nTrue\r\nDownloaded in 5.548s\r\n```\r\n\r\nSo there's additional issues somewhere else.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1530405927, "modified": 1530582110, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1468", "source_type": "github"}, {"topic_id": 1604066600, "title": "Support removing donation link / custom donation text", "body": "Hi, as discussed in issue #1467, I'd like to be able to remove the \"Donate\" link in the sidebar for my site, and other users thought it might be nice to be able to provide a custom one.\r\n\r\nThis PR is the simplest implementation.  If a key `donate` is present in `content.json`, either as `\"donate\": false` or `\"donate\": \"\"`, the donation link is not rendered.  If a key `donate` is present in `content.json` and it's a string, it's escaped and rendered, allowing anyone to write out how they'd like to accept donations.  Otherwise, the existing \"Donate\" link is rendered as it is currently.\r\n\r\nThis PR does not try to interpret the contents of the string, nor does it provide a UI for editing the donation link string.  This provides just the basic rendering based on the presence or absence of a `donate` key.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1530933763, "modified": 1531904296, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1479", "source_type": "github"}], "next_comment_id": 8, "comment": {"1604066583_mirrored_vitorio_github": [{"comment_id": 1, "body": "@Thunder33345 If you pull open the right sidebar by dragging the zero icon in the upper right to the left, you'll see a \"Donate\" link if you scroll the sidebar all the way to the bottom.  It's visible on all sites, and I'd like it to not be there for my own.  (Note that it won't do anything if you don't have a Bitcoin application set up.)\r\n\r\n![screen shot 2018-07-01 at 3 24 47 am](https://user-images.githubusercontent.com/336712/42132500-99eff6da-7cde-11e8-8ed1-6f67a658bd6e.png)\r\n", "added": 1530422831, "modified": 1530422895, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1467#issuecomment-401592312", "source_type": "github"}, {"comment_id": 2, "body": "So extending my original proposal, then, perhaps:\r\n\r\nBy default, the donate link exists, and it shows the site address against a Bitcoin URL handler.\r\n\r\nIf `content.json` contains a key of: `\"donate\": false` or `\"donate\": \"\"`, it does not display the site address or link.\r\n\r\nIf `content.json` contains a key of: `\"donate\": \"1...\"`, where that value passes a Bitcoin address validation, it treats it as a Bitcoin address and shows it against a Bitcoin URL handler.\r\n\r\nIf `content.json` contains a key of `\"donate\": \"http://...\"` or `\"donate\": \"https://...\"`, where those values are strings beginning with \"http://\" or \"https://\", it treats it as a URL and shows only the \"Donate\" button linking to that.\r\n\r\nIf `content.json` contains a key of `donate` with a value string with any other contents, it displays it as a block of text, suitable for site owners to provide alternative donation instructions.\r\n\r\nThoughts?", "added": 1530465024, "modified": 1530465092, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1467#issuecomment-401630107", "source_type": "github"}, {"comment_id": 3, "body": "To be clear about my use case for this: in the US, having evidence of a profit motive can be the difference between a civil charge and criminal charge under the DMCA.  Being able to remove the \"Donate\" link and signal that you're not distributing content for financial gain may make it safer to do so.", "added": 1531270219, "modified": 1531270219, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1467#issuecomment-404036434", "source_type": "github"}], "1604066586_mirrored_vitorio_github": [{"comment_id": 4, "body": "Seems to work now, thanks!", "added": 1530582110, "modified": 1530582110, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1468#issuecomment-402011394", "source_type": "github"}], "1604066600_mirrored_vitorio_github": [{"comment_id": 5, "body": "@imachug Looking at the commit history of the sidebar, it looks to me like the Site Address was always attached to the Donate link, I can't see a commit where there's just the Site Address by itself.\r\n\r\nThat said, that's a pretty reasonable idea, so I've updated the commit.  \"Site address\" is always shown, and just the \"Donate\" link itself is affected as previously described:\r\n\r\nNo `donate` key in `content.json` (default):\r\n![screen shot 2018-07-07 at 11 00 41 am](https://user-images.githubusercontent.com/336712/42412613-306a1488-81d5-11e8-875e-a1cfb12556b4.png)\r\n\r\n`\"donate\": false` or `\"donate\": \"\"` in `content.json`:\r\n![screen shot 2018-07-07 at 10 59 17 am](https://user-images.githubusercontent.com/336712/42412617-44fd35c4-81d5-11e8-9815-1c095a0299bc.png)\r\n\r\n`\"donate\": \"some string\"` in `content.json`:\r\n![screen shot 2018-07-07 at 11 00 11 am](https://user-images.githubusercontent.com/336712/42412621-55ec06c6-81d5-11e8-8554-7ea665bce1d1.png)\r\n", "added": 1530968718, "modified": 1530968718, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1479#issuecomment-403225614", "source_type": "github"}], "1604067605_mirrored_ZeroNetTickBot_github": [{"comment_id": 6, "body": "GPLv3 and Apache", "added": 1572806222, "modified": 1572806222, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2271#issuecomment-549181407", "source_type": "github"}], "1604067608_mirrored_ZeroNetTickBot_github": [{"comment_id": 7, "body": "GPLv3 and Lax", "added": 1572812884, "modified": 1572812884, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2273#issuecomment-549190671", "source_type": "github"}]}}