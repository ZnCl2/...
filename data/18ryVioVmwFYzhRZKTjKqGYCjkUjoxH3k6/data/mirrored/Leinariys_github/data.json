{"cert_user_id": "Leinariys@github", "next_topic_id": 3, "topic": [{"topic_id": 1604067062, "title": "db from different files", "body": "### Step 1: Please describe your environment\r\n\r\n  * ZeroNet version: 0.6.4 r3741\r\n  * Operating system: Win\r\n  * Web browser: Chrom\r\n  * Tor status: not disabled\r\n  * Opened port: yes\r\n  * Special configuration: ____---------\r\n\r\n### Step 2: Describe the problem:\r\nI created a table and wanted to fill it with lines from a file\r\n\r\n*****  dbschema.json\r\n    \"maps\": {\r\n        \"data-static/content-media.json\": {\r\n            \"to_table\": [\r\n                {\r\n                    \"node\": \"files_optional\",\r\n                    \"table\": \"files_optional\"\r\n                }\r\n            ]\r\n        }\r\n    },\r\n******\r\nas I understand it because of the file name content-media.json, rows are not added to the table. If the name is changed to data.json, then everything works fine.\r\n", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1546638546, "modified": 1549176427, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845", "source_type": "github"}, {"topic_id": 1604067453, "title": "Possible to create symbolic links?", "body": "Hi, I need to get the files in content.json that are in the folder by a symbolic link.\r\nI create a link like this\r\n\r\nln -s / mnt / node / video  video\r\n\r\n \"files\": {\r\n  \"index.html\": {\r\n   \"sha512\": \"\",\r\n   \"size\": 1689\r\n  },\r\n  \"video/videofile.mp4\": {\r\n   \"sha512\": \"\",\r\n   \"size\": 3647\r\n  },\r\n\r\nIs it possible?\r\nMy files are not indexed and do not fall into the content.json file when I click on save settings in the side menu.\r\nHow to achieve what I need?\r\n", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1566033907, "modified": 1566033907, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2153", "source_type": "github"}], "next_comment_id": 9, "comment": {"1604067062_mirrored_Leinariys_github": [{"comment_id": 1, "body": "> The json file and the database shoube be in the same directory\r\n\r\nthen it is still worse (((\r\nas if the file name is date.json but in a different database directory it is normally going to ...\r\nWorking scheme\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"data-static / data.json\": {\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"to_table\": [\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 {\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"node\": \"files_optional\",\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"table\": \"files_optional\"\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ]\r\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 }", "added": 1546665294, "modified": 1546665294, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845#issuecomment-451637069", "source_type": "github"}, {"comment_id": 2, "body": "Checked the case when the scheme and the database in the same directory, with the file name content-media.json - does not work (base is empty, no lines) if you specify the file name data. json - works\r\n\r\nI am interested, so only me or all? Who can check if the file name can be changed?", "added": 1546665945, "modified": 1546665945, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845#issuecomment-451637606", "source_type": "github"}, {"comment_id": 3, "body": "How so? in a social network, loading from different files is also used\r\n\r\n1MeFqFfFFGQfa1J3gJyYYUvb5Lksczq7nH\r\n\r\n\"maps\": {\r\n\". + / data / userdb /.+/ content.json\": {\r\n\"to_json_table\": [\"cert_auth_type\", \"cert_user_id\"],\r\n\"to_table\": [\"user\"]\r\n},\r\n\". + / data / userdb / users. * json\": {\r\n\"to_table\": [\"user\"]\r\n},\r\n\". + / data / users /.+/ content.json\": {\r\n\"to_json_table\": [\"cert_auth_type\", \"cert_user_id\"],\r\n\"file_name\": \"data.json\"\r\n},\r\n\". + / data / users /.+/ data.json\": {\r\n\"to_table\": [\r\n\"post\",\r\n\"comment\",\r\n\"follow\",\r\n{\"node\": \"post_like\", \"table\": \"post_like\", \"key_col\": \"post_uri\", \"val_col\": \"date_added\"}\r\n],\r\n\"to_json_table\": [\"hub\", \"user_name\", \"avatar\", \"intro\"]\r\n}\r\n},", "added": 1546667454, "modified": 1546667454, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845#issuecomment-451638963", "source_type": "github"}, {"comment_id": 4, "body": "I created a table and wanted to fill it with lines from a file\r\n***** dbschema.json\r\n\"maps\": {\r\n\"data-static/content-media.json\": {\r\n.....\r\nas I understand it because of the file name content-media.json, rows are not added to the table. If the name is changed to data.json, then everything works fine.\r\n\r\nRows are added to the table only if the file name is data.json ((", "added": 1546668548, "modified": 1546668548, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845#issuecomment-451639922", "source_type": "github"}, {"comment_id": 5, "body": "![image](https://user-images.githubusercontent.com/6961844/50722700-ec531800-10e3-11e9-89f2-fec83c4d9617.png)\r\n", "added": 1546669086, "modified": 1546669086, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845#issuecomment-451640381", "source_type": "github"}, {"comment_id": 6, "body": "![image](https://user-images.githubusercontent.com/6961844/50722791-7f408200-10e5-11e9-9c30-ba896568a1de.png)\r\n\r\nno, it exists it will not have such a path \"data-static / data-static / data.json\".\r\nthe path is such \"data-static / data.json\"\r\nOn the screen you can see that the database is full, but if you change the file name everywhere to (Example) \"data-static / data15.json\", then after rebooting the database is not filled.\r\n\r\nok, i'll try to run the debugger", "added": 1546669988, "modified": 1546669988, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845#issuecomment-451641142", "source_type": "github"}, {"comment_id": 7, "body": "> Once again. `data-static/data.json` is relative to DB directory, yielding `data-static/data-static/data.json` which doesn't exist.\r\n\r\nWrong judgment, you did not understand the directory structure.\r\nI moved the file to assets/video.json\r\nDB itself is located at the root of the site.", "added": 1547288687, "modified": 1547288687, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845#issuecomment-453747281", "source_type": "github"}, {"comment_id": 8, "body": "yes", "added": 1549176427, "modified": 1549176427, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1845#issuecomment-460037470", "source_type": "github"}]}}