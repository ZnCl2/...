{"cert_user_id": "ohboyiloveyou@github", "next_topic_id": 2, "topic": [{"topic_id": 1604065988, "title": "Ability to return 'raw' index.html files", "body": "Hello there, currently writing an application that parses websites hosted on ZeroNet.\r\n\r\nWhen one requests a website on ZeroNet, such as:\r\n\r\nhttp://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D\r\n\r\nit grabs the index.html content and wraps it in an iframe.\r\n\r\nAt this point any application trying to resolve `http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/index.html` runs into the following issues:\r\n\r\n* Receives a 403 forbidden error due to missing nonce - this is only required for the index.html site, not other files on the site\r\n* Even with the correct nonce, included source code is just the ZeroNet wrapper code, no actual site HTML.\r\n\r\nIs it possible to add a feature to ZeroNet to download raw index.html's, for easier inter-operability with other services? Something like:\r\n\r\nhttp://127.0.0.1:43110/raw/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D\r\n\r\nthat could just return the raw index.html file would be great.\r\n\r\nThanks!", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1498374509, "modified": 1498516599, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/997", "source_type": "github"}], "next_comment_id": 5, "comment": {"1604065988_mirrored_ohboyiloveyou_github": [{"comment_id": 1, "body": "@mkg20001 I don't believe so, as other files are served quite happily as downloads directly to the browser.\r\n\r\nAdditionally I'm not sure if we can differentiate between a `wget` GET request to that URL and a browser request, but then again it shouldn't be a problem.\r\n\r\nAll we would need to do is present the content in a similar manner to have GitHub does so with its raw feature: https://raw.githubusercontent.com/HelloZeroNet/zeronet.io/master/index.html\r\n\r\nThis way no javascript on the page is executed, and there's no other stuff on the page that can confuse application parsers.\r\n\r\nEdit: The answer to this seems to be as simple as setting the content-type to `text/plain` in the HTTP response header.\r\n\r\nSee here: https://stackoverflow.com/questions/32876956/how-does-github-raw-code-work-it-can-display-text-like-code-without-pre-tag", "added": 1498431441, "modified": 1498431976, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/997#issuecomment-310945557", "source_type": "github"}, {"comment_id": 2, "body": "I took a look at the code for the Stats plugin since it already has the functionality of returning data upon a request to `127.0.0.1:43110/xxxx`.\r\n\r\nIt wasn't immediately clear where the code that defined this entry point lived... @HelloZeroNet would writing a plugin for this functionality be overkill compared to just including it in the client? Are there any other `127.0.0.1:43110/xxx` addresses that are available already or is the `/Stats` page just a special feature?", "added": 1498470032, "modified": 1498470032, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/997#issuecomment-311047521", "source_type": "github"}, {"comment_id": 3, "body": "@HelloZeroNet @MuxZeroNet Good points, I can see how it could be a security issue now.\r\n\r\nAnd @HelloZeroNet wow, that definitely does work! I guess I still need to adjust to the p2p mindset :)", "added": 1498516599, "modified": 1498516599, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/997#issuecomment-311227922", "source_type": "github"}], "1604065992_mirrored_funny110_github": [{"comment_id": 4, "body": "Same here, this seems to be due to the following GitHub URL resolving to a 404:\r\n\r\nhttps://api.github.com/repos/HelloZeroNet/ZeroNet-kivy/releases/latest\r\n\r\nZeroNet-kivy obviously still has releases available, so this may be a temporary GitHub issue, rather than ZeroNet's.", "added": 1498470507, "modified": 1498470507, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/998#issuecomment-311049270", "source_type": "github"}]}}