{"cert_user_id": "cryptid11@github", "next_topic_id": 3, "topic": [{"topic_id": 1604065617, "title": "Just with this change it's possible to start it with absolute path", "body": "like `python ~/Documents/ZeroNet-master/zeronet.py #startzeronet`. Anyway I don't test this in windows and maybe it's problematic there...\r\nAnyway, maybe somebody know if it works in windows, or a more elegant way to get the same result.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1481733146, "modified": 1481734268, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/703", "source_type": "github"}, {"topic_id": 1604065650, "title": "Parsing peers", "body": "I'm keeping some stats on peers using a function \r\n\r\n```\r\n\r\ndef ParsePeers(site):\r\n    stats_content = requests.get('http://127.0.0.1:43110/Stats').text\r\n    soup = BeautifulSoup(stats_content)\r\n\r\n    def contains_site(tag):\r\n        if tag.name != 'tr':\r\n            return False\r\n        link = tag.find('a')\r\n        if not link:\r\n            return False\r\n        return site in link.string\r\n\r\n    tr = soup.find(contains_site)\r\n\r\n    if not tr:\r\n        return None\r\n\r\n    pattern = re.compile(\"[0-9]+/[0-9]+/([0-9]+)\")\r\n\r\n    def contains_peers(tag):\r\n        return tag.name == 'td' and pattern.search(unicode(tag.string))\r\n\r\n    peer_td = tr.find(contains_peers)\r\n    peer_count = int( pattern.findall(unicode(peer_td.string))[0] )\r\n\r\n    return (tr.find('a').string, peer_count)\r\n```\r\nthat I remember as founded in ZeroBlog, but it seems I have confused memory or somebody delete article, anyway.\r\n\r\nThe stats page doesn't allow anymore to be parsed in new version, it seems it checks user-agent, it produces this horrible result:\r\n\r\n```\r\n<style>\r\n                * { font-family: Consolas, Monospace; color: #333 }\r\n                pre { padding: 10px; background-color: #EEE }\r\n                </style>\r\n<h1>Forbidden</h1>\r\n<h2>Invalid Accept header to load wrapper\r\n<h3>Please <a href=\"https://github.com/HelloZeroNet/ZeroNet/issues\" target=\"_blank\">report it</a> if you think this an error.</h3>\r\n<h4>Details:</h4>\r\n<pre>{\r\n    \"GATEWAY_INTERFACE\": \"CGI/1.1\", \r\n    \"HTTP_ACCEPT\": \"*/*\", \r\n    \"HTTP_ACCEPT_ENCODING\": \"gzip, deflate\", \r\n    \"HTTP_CONNECTION\": \"keep-alive\", \r\n    \"HTTP_HOST\": \"127.0.0.1:43110\", \r\n    \"HTTP_USER_AGENT\": \"python-requests/2.10.0\", \r\n    \"PATH_INFO\": \"/Stats\", \r\n    \"QUERY_STRING\": \"\", \r\n    \"REMOTE_ADDR\": \"127.0.0.1\", \r\n    \"REMOTE_PORT\": \"38987\", \r\n    \"REQUEST_METHOD\": \"GET\", \r\n    \"SCRIPT_NAME\": \"\", \r\n    \"SERVER_NAME\": \"localhost\", \r\n    \"SERVER_PORT\": \"43110\", \r\n    \"SERVER_PROTOCOL\": \"HTTP/1.1\", \r\n    \"SERVER_SOFTWARE\": \"gevent/1.0 Python/2.7\", \r\n    \"arguments\": {\r\n        \"action\": \"main\", \r\n        \"batch\": false, \r\n        \"bit_resolver\": \"1Name2NXVi1RDPDgf5617UoW7xA6YrhM9F\", \r\n        \"coffeescript_compiler\": null, \r\n        \"config_file\": \"zeronet.conf\", \r\n        \"connected_limit\": 10, \r\n        \"data_dir\": \"data\", \r\n        \"debug\": false, \r\n        \"debug_gevent\": false, \r\n        \"debug_socket\": false, \r\n        \"disable_db\": false, \r\n        \"disable_encryption\": false, \r\n        \"disable_sslcompression\": true, \r\n        \"disable_udp\": false, \r\n        \"fileserver_ip\": \"*\", \r\n        \"fileserver_port\": 15441, \r\n        \"homepage\": \"1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D\", \r\n        \"ip_external\": null, \r\n        \"keep_ssl_cert\": false, \r\n        \"language\": \"en\", \r\n        \"log_dir\": \"log\", \r\n        \"max_files_opened\": 2048, \r\n        \"msgpack_purepython\": true, \r\n        \"open_browser\": null, \r\n        \"optional_limit\": \"30%\", \r\n        \"proxy\": null, \r\n        \"size_limit\": 10, \r\n        \"stream_downloads\": false, \r\n        \"tor\": \"enable\", \r\n        \"tor_controller\": \"127.0.0.1:9051\", \r\n        \"tor_proxy\": \"127.0.0.1:9050\", \r\n        \"trackers\": [\r\n            \"zero://boot3rdez4rzn36x.onion:15441\", \r\n            \"zero://boot.zeronet.io#f36ca555bee6ba216b14d10f38c16f7769ff064e0e37d887603548cc2e64191d:15441\", \r\n            \"udp://tracker.coppersurfer.tk:6969\", \r\n            \"udp://tracker.leechers-paradise.org:6969\", \r\n            \"udp://9.rarbg.com:2710\", \r\n            \"http://tracker.tordb.ml:6881/announce\", \r\n            \"http://explodie.org:6969/announce\", \r\n            \"http://tracker1.wasabii.com.tw:6969/announce\"\r\n        ], \r\n        \"trackers_file\": false, \r\n        \"ui_ip\": \"127.0.0.1\", \r\n        \"ui_port\": 43110, \r\n        \"ui_restrict\": false, \r\n        \"updatesite\": \"1UPDatEDxnvHDo7TXvq6AEBARfNkyfxsp\", \r\n        \"use_openssl\": true, \r\n        \"use_tempfiles\": false, \r\n        \"verbose\": false\r\n    }, \r\n    \"plugins\": [\r\n        \"AnnounceZero\", \r\n        \"CryptMessage\", \r\n        \"MergerSite\", \r\n        \"Newsfeed\", \r\n        \"OptionalManager\", \r\n        \"PeerDb\", \r\n        \"Sidebar\", \r\n        \"Stats\", \r\n        \"TranslateSite\", \r\n        \"Trayicon\", \r\n        \"Zeroname\"\r\n    ], \r\n    \"version_gevent\": \"1.0.1\", \r\n    \"version_python\": \"2.7.9 (default, Aug 13 2016, 16:41:35) \\n[GCC 4.9.2]\", \r\n    \"version_zeronet\": \"0.5.1 r1791\", \r\n    \"wsgi.url_scheme\": \"http\"\r\n}</pre>\r\n</h2>\r\n```\r\n\r\nHow can I stop this and get back the results? (Also, if somebody know the source of that function let me know)", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1483173226, "modified": 1483182928, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/728", "source_type": "github"}], "next_comment_id": 4, "comment": {"1604065617_mirrored_cryptid11_github": [{"comment_id": 1, "body": "Uh, I just discover the existence of Travis CI, so it seems it works even on windows :dancer:  :dancer:  :dancer: ", "added": 1481733404, "modified": 1481733404, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/703#issuecomment-267133623", "source_type": "github"}, {"comment_id": 2, "body": "Uhg :/ yes, I got confused, at least I learn is possible something like that (idk of os.chdir), sorry for lost time....", "added": 1481734245, "modified": 1481734245, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/703#issuecomment-267137345", "source_type": "github"}], "1604065650_mirrored_cryptid11_github": [{"comment_id": 3, "body": "Wow thanks, just adding that it works, what a noob! Great, so you don't know where is that code from? I will continue my quest.", "added": 1483181540, "modified": 1483181540, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/728#issuecomment-269865942", "source_type": "github"}]}}