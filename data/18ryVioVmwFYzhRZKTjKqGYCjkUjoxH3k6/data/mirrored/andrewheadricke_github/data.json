{"cert_user_id": "andrewheadricke@github", "next_comment_id": 16, "comment": {"1604064913_mirrored_kseistrup_github": [{"comment_id": 1, "body": "I'm testing this out on CJDNS and am still having difficulties.  \r\n\r\nI cant get Zeronet to connect to either a CJDNS/IPv6 peer or tracker.\r\n\r\nUsing both the `?zeronet_peer=` query string and the `trackers=` conf setting I don't think either of them support ip6 addresses with ports.  You cant use the [ ] surrounding brackets, zeronet shows lots of errors.. but that's the only way to separate the address from the port.\r\n\r\n", "added": 1548209595, "modified": 1548209786, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-456672882", "source_type": "github"}, {"comment_id": 2, "body": "```\r\nIP Network: ['ipv4'] | Opened: {'ipv4': True, 'ipv6': None}\r\n```\r\n\r\nJust found this log `FileServer IPv6 not supported: [Errno 101] Network is unreachable`", "added": 1548227182, "modified": 1548228230, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-456742992", "source_type": "github"}, {"comment_id": 3, "body": "So `src/File/FileServer.py` has a check where it tries to connect to a hard coded IPv6 address to determine if its online.  Obviously a purely CJDNS node is going to fail that test.  I made the function just return true and now the node is online in IPv6 mode.  I can also see the nodes are successfully registering with my trackers.  But still both nodes are unable to find each other as peers.", "added": 1548228996, "modified": 1548228996, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-456752709", "source_type": "github"}, {"comment_id": 4, "body": "I think there is some mix up over the \"fixed ip address\" thing.  The fixed ip address is referring to the IPv6 connectivity check built into ZeroNet.  Personally I think it needs to be removed, or set to a configurable value because clearnet, cjdns, yggdrasil will all require separate values.", "added": 1548322517, "modified": 1548322828, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-457181425", "source_type": "github"}, {"comment_id": 5, "body": "I have been trying to debug exactly why ZeroNet will not share IPv6 peers when running on cjdns/yggdrasil.  It appears to have something to do with the tracker exchange. I have one ZN node seeding a few zites, and here is the data it shares with the tracker..\r\n\r\n```\r\n\"61663994dfd1003cae8ce419187841cd8a769d34\":{\"infoHash\":\"61663994dfd1003cae8ce419187841cd8a769d34\",\"complete\":0,\"incomplete\":1,\"peers\":{\"_events\":{},\"_eventsCount\":1,\"cache\":{\"[fc12:a215:d106:2ca8:98eb:cae2:550f:6ce7]:15328\":{\"value\":{\"type\":\"http\",\"complete\":false,\"peerId\":\"2d5554333533302d454253464f52366557483550\",\"ip\":\"fc12:a215:d106:2ca8:98eb:cae2:550f:6ce7\",\"port\":15328},\"modified\":1548333888817,\"next\":null,\"prev\":null}},\"tail\":\"[fc12:a215:d106:2ca8:98eb:cae2:550f:6ce7]:15328\",\"head\":\"[fc12:a215:d106:2ca8:98eb:cae2:550f:6ce7]:15328\",\"length\":1,\"max\":1000,\"maxAge\":1200000}}\r\n```\r\n\r\nThe only anomalies I can spot is the IP address contains the `[ ]` brackets which could cause a problem, and also the torrent is flagged as \"incomplete\" instead of complete. Which means the torrent is considered as leeching and not seeding.  Not sure if that could be the cause.", "added": 1548323374, "modified": 1548323374, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-457184986", "source_type": "github"}, {"comment_id": 6, "body": "I just pulled down the latest revision and it hasn't really resolved anything for me.  I can get my multi-homed node to register itself onto my external tracker, however the cjdns only node queries the tracker and finds no valid peers for 1HeLL0...\r\n\r\nSo not sure why it finds no valid peers, when the tracker clearly has valid peers.  Will keep debugging.", "added": 1548462163, "modified": 1548462163, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-457797067", "source_type": "github"}, {"comment_id": 7, "body": "Perhaps my external tracker is broken (i.e. doesn't work well with ZeroNet).  \r\n\r\nI now have a ZeroNet node on yggdrasil.  And I am able to connect to it from a ygg only node, and it appears to be working.\r\n\r\nSo to make this work I had to comment out the `check IPv6` function in `src/File/FileServer.py` as previously mentioned.  I then enabled the Bootstrapper plugin on my multi-homed node.  Then on the yggdrasil only node I added my tracker `zero://200:a215:d106:2ca8:98eb:cae2:550f:6ce7:15328` or maybe just `zero://200:a215:d106:2ca8:98eb:cae2:550f:6ce7` and it works (I did try this before and it didn't work so maybe the latest commits fixed it)\r\n\r\nObviously it will only download the zites that I am seeding, which is ZeroSites, ZeroUp, ZeroName, GIF Time, ZeroHello, ZeroBlog and ZeroNet documentation.\r\n\r\nThe UI is not able to render the IPv6 tracker correctly, it cuts it off at the first semi colon.  But not a big issue. Also something Ipv6 related is stopping the /Stats page from rendering too.", "added": 1548463320, "modified": 1548463565, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-457798212", "source_type": "github"}, {"comment_id": 8, "body": "Yeah, that address is a yggdrasil address. Try this CJDNS address `zero://fc18:83a4:7e42:9b85:9cc0:4936:fc33:5d75:15328`\r\n\r\n", "added": 1548464516, "modified": 1548464516, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-457799461", "source_type": "github"}, {"comment_id": 9, "body": "For some reason my `/Stats` page wont load.. the console is showing some errors that I think are related.\r\n\r\n```\r\n[00:00:01] - UiWSGIHandler error: error: [Errno 32] Broken pipe in UiServer.py line 40 > pywsgi.py line 923 > pywsgi.py line 909 > pywsgi.py line 756 > pywsgi.py line 777 > pywsgi.py line 739 > pywsgi.py line 703 > _socket2.py line 354 > _socketcommon.py line 355 > _socketcommon.py line 284 > _socket2.py line 335\r\n[00:00:54] - UiWSGIHandler error: TypeError: can't concat unicode to bytearray in UiServer.py line 40 > pywsgi.py line 923 > pywsgi.py line 909 > pywsgi.py line 752 > pywsgi.py line 736\r\n```", "added": 1548875883, "modified": 1548875965, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-459132405", "source_type": "github"}, {"comment_id": 10, "body": "Ubuntu Linux.  Gevent 1.3.6", "added": 1548877591, "modified": 1548877591, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-459140952", "source_type": "github"}, {"comment_id": 11, "body": "I updated to gevent 1.4.0 and it seems the same problem exists.", "added": 1548878934, "modified": 1548878934, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-459147220", "source_type": "github"}, {"comment_id": 12, "body": "Working well now, thanks.\r\n\r\nI feel there are still a few small issues with IPv6 support, but technically its working and I have a 24/7 tracker online on Yggdrasil at `zero://203:5871:3e33:413c:a824:cb7b:2604:92ab:24589` and it appears to be running fine.\r\n\r\nI vote this issue can be closed :)", "added": 1548889372, "modified": 1548889372, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/148#issuecomment-459185953", "source_type": "github"}], "1604066768_mirrored_tangdou1_github": [{"comment_id": 13, "body": "This is great, thanks @tangdou1, I'm playing around with it now to see if I can get it working on CJDNS.\r\n\r\nOne suggestion, usually ipv6 addresses are enclosed with `[]` to handle the `:` between address and port.  Rather than taking a reverse split(':',1) it would be great to support `[0123:4567:8901]:80` for example.", "added": 1537142720, "modified": 1537142720, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1592#issuecomment-421881423", "source_type": "github"}, {"comment_id": 14, "body": "Ok, so a few findings..\r\n\r\nThere does not appear to be a simple way in ZeroNet to add individual peers, it primarily relies on \"trackers\".  Becoming a tracker looks fairly straight forward as its just a matter of enabling the Bootstrapper plugin.  However, there is lots of ip4/onion statements in that plugin, so i'm guessing its not going to work with an ipv6 node (without modification).\r\n\r\nEdit: Does anyone know how the Bootstrapper works? Does it listen on 15441 or does it listen on a new port?\r\n\r\nNext i tried to forcefully add the peer listed above by @April93 directly into the Zeronet sqlite db.  Zeronet is trying to connect which is good, I can't ping the node so maybe its offline.  But I took a guess that the node is listening on 15441, but going by other public nodes, that port is only used 50% of the time so I may be using the wrong port too.", "added": 1537147535, "modified": 1537148910, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1592#issuecomment-421887873", "source_type": "github"}, {"comment_id": 15, "body": "> No, you can connect others peers if you know their ip and port by\r\n> http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/?zeronet_peers=ip:port\r\n\r\nI wasn't aware of that, thanks.  Only issue is my ZeroNet instance does not have `1HeLLo...` downloaded.. I cant get it to connect to my other ipv6 node and download the content.  ", "added": 1537173796, "modified": 1537173796, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1592#issuecomment-421980716", "source_type": "github"}]}}