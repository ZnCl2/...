{"cert_user_id": "metulburr@github", "next_comment_id": 5, "comment": {"1604065095_mirrored_ASBaumgarten_github": [{"comment_id": 1, "body": "I ran into this problem. However i am running Ubuntu 14.04. When i go to that link, i have no where else to go but to debian link, whihc in turns says go to ubuntu wiki, which has nothing to do with tor, and is a rundown of what ubuntu is. If i try to carry out those execution i run into errors\n\n```\nmetulburr@ubuntu ~/ZeroNet-master  $ echo 'deb http://deb.torproject.org/torproject.org jessie main'>> /etc/apt/sources.list.d/tor.list\nbash: /etc/apt/sources.list.d/tor.list: Permission denied\nmetulburr@ubuntu ~/ZeroNet-master  $ sudo !!\nsudo echo 'deb http://deb.torproject.org/torproject.org jessie main'>> /etc/apt/sources.list.d/tor.list\nbash: /etc/apt/sources.list.d/tor.list: Permission denied\n```\n\nand below \n\n```\nmetulburr@ubuntu ~/ZeroNet-master  $ deb http://deb.torproject.org/torproject.org trusty main\nbash: deb: command not found\nmetulburr@ubuntu ~/ZeroNet-master  $ gpg --keyserver keys.gnupg.net --recv 886DDD89\ngpg: directory `/home/metulburr/.gnupg' created\ngpg: new configuration file `/home/metulburr/.gnupg/gpg.conf' created\ngpg: WARNING: options in `/home/metulburr/.gnupg/gpg.conf' are not yet active during this run\ngpg: keyring `/home/metulburr/.gnupg/secring.gpg' created\ngpg: keyring `/home/metulburr/.gnupg/pubring.gpg' created\ngpg: requesting key 886DDD89 from hkp server keys.gnupg.net\ngpg: /home/metulburr/.gnupg/trustdb.gpg: trustdb created\ngpg: key 886DDD89: public key \"deb.torproject.org archive signing key\" imported\ngpg: no ultimately trusted keys found\ngpg: Total number processed: 1\ngpg:               imported: 1  (RSA: 1)\nmetulburr@ubuntu ~/ZeroNet-master $ gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | sudo apt-key add -\nOK\nmetulburr@ubuntu ~/ZeroNet-master $ apt-get install tor deb.torproject.org-keyring\nE: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)\nE: Unable to lock the administration directory (/var/lib/dpkg/), are you root?\nmetulburr@ubuntu ~/ZeroNet-master  $ sudo !!\nsudo apt-get install tor deb.torproject.org-keyring\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nE: Unable to locate package deb.torproject.org-keyring\nE: Couldn't find any package by regex 'deb.torproject.org-keyring'\n\n```\n\nEDIT:\n\n```\nmetulburr@ubuntu ~/ZeroNet-master  $ deb http://deb.torproject.org/torproject.org trusty main\nbash: deb: command not found\nmetulburr@ubuntu ~/ZeroNet-master  $ gpg --keyserver keys.gnupg.net --recv 886DDD89\ngpg: directory `/home/metulburr/.gnupg' created\ngpg: new configuration file `/home/metulburr/.gnupg/gpg.conf' created\ngpg: WARNING: options in `/home/metulburr/.gnupg/gpg.conf' are not yet active during this run\ngpg: keyring `/home/metulburr/.gnupg/secring.gpg' created\ngpg: keyring `/home/metulburr/.gnupg/pubring.gpg' created\ngpg: requesting key 886DDD89 from hkp server keys.gnupg.net\ngpg: /home/metulburr/.gnupg/trustdb.gpg: trustdb created\ngpg: key 886DDD89: public key \"deb.torproject.org archive signing key\" imported\ngpg: no ultimately trusted keys found\ngpg: Total number processed: 1\ngpg:               imported: 1  (RSA: 1)\nmetulburr@ubuntu ~/ZeroNet-master $ gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | sudo apt-key add -\nOK\nmetulburr@ubuntu ~/ZeroNet-master $ apt-get install tor deb.torproject.org-keyring\nE: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)\nE: Unable to lock the administration directory (/var/lib/dpkg/), are you root?\nmetulburr@ubuntu ~/ZeroNet-master  $ sudo !!\nsudo apt-get install tor deb.torproject.org-keyring\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nE: Unable to locate package deb.torproject.org-keyring\nE: Couldn't find any package by regex 'deb.torproject.org-keyring'\nmetulburr@ubuntu ~/ZeroNet-master  $ /etc/init.d/tor restart\n * Checking if tor configuration is valid\nMar 03 01:04:01.191 [notice] Tor v0.2.4.27 (git-412e3f7dc9c6c01a) running on Linux with Libevent 2.0.21-stable and OpenSSL 1.0.1f.\nMar 03 01:04:01.191 [notice] Tor can't help you if you use it wrong! Learn how to be safe at https://www.torproject.org/download/download#warning\nMar 03 01:04:01.191 [notice] Read configuration file \"/usr/share/tor/tor-service-defaults-torrc\".\nMar 03 01:04:01.191 [notice] Read configuration file \"/etc/tor/torrc\".\nMar 03 01:04:01.193 [warn] Error setting groups to gid 128: \"Operation not permitted\".\nMar 03 01:04:01.193 [warn] If you set the \"User\" option, you must start Tor as root.\nMar 03 01:04:01.194 [warn] Failed to parse/validate config: Problem with User value. See logs for details.\nMar 03 01:04:01.194 [err] Reading config failed--see warnings above.\nmetulburr@ubuntu ~/ZeroNet-master  $ gpg --keyserver keys.gnupg.net --recv 886DDD89\ngpg: requesting key 886DDD89 from hkp server keys.gnupg.net\ngpg: key 886DDD89: \"deb.torproject.org archive signing key\" not changed\ngpg: Total number processed: 1\ngpg:              unchanged: 1\nmetulburr@ubuntu ~/ZeroNet-master $ gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | apt-key add -\nERROR: This command can only be used by root.\nmetulburr@ubuntu ~/ZeroNet-master  $ sudo !!\nsudo gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | apt-key add -\ngpg: WARNING: unsafe ownership on configuration file `/home/metulburr/.gnupg/gpg.conf'\nERROR: This command can only be used by root.\nmetulburr@ubuntu ~/ZeroNet-master  $ su\nPassword: \nroot@ubuntu:/home/metulburr/ZeroNet-master# gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | apt-key add -\ngpg: directory `/root/.gnupg' created\ngpg: new configuration file `/root/.gnupg/gpg.conf' created\ngpg: WARNING: options in `/root/.gnupg/gpg.conf' are not yet active during this run\ngpg: keyring `/root/.gnupg/secring.gpg' created\ngpg: keyring `/root/.gnupg/pubring.gpg' created\ngpg: WARNING: nothing exported\ngpg: no valid OpenPGP data found.\nroot@ubuntu:/home/metulburr/ZeroNet-master# apt-get install tor\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\ntor is already the newest version.\nThe following packages were automatically installed and are no longer required:\n  libp11-kit-gnome-keyring:i386 linux-headers-3.13.0-32\n  linux-headers-3.13.0-32-generic linux-image-3.13.0-32-generic\n  linux-image-extra-3.13.0-32-generic wine-gecko2.21 wine-gecko2.21:i386\n  wine-mono0.0.8\nUse 'apt-get autoremove' to remove them.\n0 upgraded, 0 newly installed, 0 to remove and 172 not upgraded.\nroot@ubuntu:/home/metulburr/ZeroNet-master# vim /etc/tor/torrc\nroot@ubuntu:/home/metulburr/ZeroNet-master# /etc/init.d/tor restart\n * Stopping tor daemon...                                                                          [ OK ] \n * Starting tor daemon...                                                                          [ OK ] \nroot@ubuntu:/home/metulburr/ZeroNet-master# usermod -a -G debian-tor metulburr\nroot@ubuntu:/home/metulburr/ZeroNet-master# ls -al /var/run/tor/control.authcookie\n-rw-r----- 1 debian-tor debian-tor 32 Mar  3 01:06 /var/run/tor/control.authcookie\nroot@ubuntu:/home/metulburr/ZeroNet-master# su - metulburr\nmetulburr@ubuntu ~ $ cd ZeroNet-master/\nmetulburr@ubuntu ~/ZeroNet-master $ python zeronet.py \n- Starting ZeroNet...\nCan't lock log/debug.log file, your ZeroNet client is probably already running, exiting... ([Errno 13] Permission denied: 'log/debug.log')\nmetulburr@ubuntu ~/ZeroNet-master $ sudo !!\nsudo python zeronet.py \n- Starting ZeroNet...\n[01:09:10] - OpenSSL loaded, version: 01000106F\n[01:09:10] - Version: 0.3.6 r915, Python 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2], Gevent: 1.0\n[01:09:10] - Creating FileServer....\n[01:09:10] ConnServer Error: Unsupported msgpack version: (0, 3, 0) (<0.4.0), please run `sudo apt-get install python-pip; sudo pip install msgpack-python --upgrade`\n\n```\n\nnow i get the ConnServer Error. I am assuming the tor is working fine with zeronet?!\n", "added": 1456973807, "modified": 1456974658, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/289#issuecomment-191595106", "source_type": "github"}, {"comment_id": 2, "body": "It says i am not using tor\n", "added": 1456979127, "modified": 1456979127, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/289#issuecomment-191625940", "source_type": "github"}], "1604065107_mirrored_metulburr_github": [{"comment_id": 3, "body": "I could not get pip to update the package. The suggested method did not work. However i just downloaded it from pypi and used setup install\n\n```\nmetulburr@ubuntu ~/Downloads/msgpack-python-0.4.7 $ sudo python setup.py install\n\n```\n\n```\nmetulburr@ubuntu ~/Downloads/msgpack-python-0.4.7 $ python\nPython 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import msgpack\n>>> msgpack.version\n(0, 4, 7)\n>>> exit()\n```\n", "added": 1456975236, "modified": 1456975236, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/299#issuecomment-191599679", "source_type": "github"}, {"comment_id": 4, "body": "It works. I can see the web interface, and post things. But i am not sure if i correctly connected tor because i get a new error\n\n```\nmetulburr@ubuntu ~/ZeroNet-master  $ sudo python zeronet.py \n- Starting ZeroNet...\n[01:30:31] - OpenSSL loaded, version: 01000106F\n[01:30:31] - Version: 0.3.6 r915, Python 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2], Gevent: 1.0.2\n[01:30:31] - Creating FileServer....\n[01:30:31] - Creating UiServer....\n[01:30:31] - Removing old SSL certs...\n[01:30:31] - Starting servers....\n[01:30:31] Ui.UiServer --------------------------------------\n[01:30:31] Ui.UiServer Web interface: http://127.0.0.1:43110/\n[01:30:31] Ui.UiServer --------------------------------------\n[01:30:33] FileServer Checking port 15441 using portchecker.co...\n[01:30:33] FileServer [OK :)] Port open: Port 15441 is open.\n[01:30:33] TorManager Tor addOnion error: 510 Unrecognized command \"ADD_ONION\"\n\n[01:30:39] TorManager Tor addOnion error: 510 Unrecognized command \"ADD_ONION\"\n\n[01:30:42] TorManager Tor addOnion error: 510 Unrecognized command \"ADD_ONION\"\n\n\n```\n", "added": 1456976022, "modified": 1456976022, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/299#issuecomment-191605808", "source_type": "github"}]}, "next_topic_id": 3, "topic": [{"topic_id": 1604065107, "title": "unsupported msgpack version", "body": "```\nmetulburr@ubuntu ~/ZeroNet-master $ python zeronet.py \n- Starting ZeroNet...\nCan't lock log/debug.log file, your ZeroNet client is probably already running, exiting... ([Errno 13] Permission denied: 'log/debug.log')\nmetulburr@ubuntu ~/ZeroNet-master $ sudo !!\nsudo python zeronet.py \n- Starting ZeroNet...\n[01:09:10] - OpenSSL loaded, version: 01000106F\n[01:09:10] - Version: 0.3.6 r915, Python 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2], Gevent: 1.0\n[01:09:10] - Creating FileServer....\n[01:09:10] ConnServer Error: Unsupported msgpack version: (0, 3, 0) (<0.4.0), please run `sudo apt-get install python-pip; sudo pip install msgpack-python --upgrade`\nmetulburr@ubuntu ~/ZeroNet-master $ sudo python zeronet.py --tor always\n- Starting ZeroNet...\n[01:12:59] - OpenSSL loaded, version: 01000106F\n[01:12:59] - Patching sockets to tor socks proxy: 127.0.0.1:9050\n[01:12:59] - Version: 0.3.6 r915, Python 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2], Gevent: 1.0\n[01:12:59] - Creating FileServer....\n[01:12:59] ConnServer Error: Unsupported msgpack version: (0, 3, 0) (<0.4.0), please run `sudo apt-get install python-pip; sudo pip install msgpack-python --upgrade`\n```\n\nI obviously tried the suggestion \n\n```\nmetulburr@ubuntu ~/ZeroNet-master $ sudo apt-get install python-pip; sudo pip install msgpack-python --upgrade\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\npython-pip is already the newest version.\nThe following packages were automatically installed and are no longer required:\n  libp11-kit-gnome-keyring:i386 linux-headers-3.13.0-32\n  linux-headers-3.13.0-32-generic linux-image-3.13.0-32-generic\n  linux-image-extra-3.13.0-32-generic wine-gecko2.21 wine-gecko2.21:i386\n  wine-mono0.0.8\nUse 'apt-get autoremove' to remove them.\n0 upgraded, 0 newly installed, 0 to remove and 172 not upgraded.\nDownloading/unpacking msgpack-python from https://pypi.python.org/packages/source/m/msgpack-python/msgpack-python-0.4.7.tar.gz#md5=eb2aad1081534ef3a9f32a0ecd350b9b\n  Downloading msgpack-python-0.4.7.tar.gz (126kB): 126kB downloaded\n  Running setup.py (path:/tmp/pip_build_root/msgpack-python/setup.py) egg_info for package msgpack-python\n\nInstalling collected packages: msgpack-python\n  Found existing installation: msgpack-python 0.3.0\n    Not uninstalling msgpack-python at /usr/lib/python2.7/dist-packages, owned by OS\n  Running setup.py install for msgpack-python\n    building 'msgpack._packer' extension\n    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -D__LITTLE_ENDIAN__=1 -I. -I/usr/include/python2.7 -c msgpack/_packer.cpp -o build/temp.linux-x86_64-2.7/msgpack/_packer.o\n    cc1plus: warning: command line option \u2018-Wstrict-prototypes\u2019 is valid for C/ObjC but not for C++ [enabled by default]\n    c++ -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/msgpack/_packer.o -o build/lib.linux-x86_64-2.7/msgpack/_packer.so\n    cythonize: 'msgpack/_unpacker.pyx'\n    building 'msgpack._unpacker' extension\n    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -D__LITTLE_ENDIAN__=1 -I. -I/usr/include/python2.7 -c msgpack/_unpacker.cpp -o build/temp.linux-x86_64-2.7/msgpack/_unpacker.o\n    cc1plus: warning: command line option \u2018-Wstrict-prototypes\u2019 is valid for C/ObjC but not for C++ [enabled by default]\n    In file included from msgpack/_unpacker.cpp:354:0:\n    msgpack/unpack.h: In function \u2018int unpack_callback_ext(unpack_user*, const char*, const char*, unsigned int, PyObject**)\u2019:\n    msgpack/unpack.h:268:77: warning: deprecated conversion from string constant to \u2018char*\u2019 [-Wwrite-strings]\n         py = PyObject_CallFunction(u->ext_hook, \"(is#)\", typecode, pos, length-1);\n                                                                                 ^\n    c++ -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -D_FORTIFY_SOURCE=2 -g -fstack-protector --param=ssp-buffer-size=4 -Wformat -Werror=format-security build/temp.linux-x86_64-2.7/msgpack/_unpacker.o -o build/lib.linux-x86_64-2.7/msgpack/_unpacker.so\n\nSuccessfully installed msgpack-python\nCleaning up...\n\n```\n\nbut i get the same error\nmetulburr@ubuntu ~/ZeroNet-master $ sudo python zeronet.py\n- Starting ZeroNet...\n  [01:14:54] - OpenSSL loaded, version: 01000106F\n  [01:14:54] - Version: 0.3.6 r915, Python 2.7.6 (default, Jun 22 2015, 17:58:13) \n  [GCC 4.8.2], Gevent: 1.0\n  [01:14:54] - Creating FileServer....\n  [01:14:54] ConnServer Error: Unsupported msgpack version: (0, 3, 0) (<0.4.0), please run `sudo apt-get install python-pip; sudo pip install msgpack-python --upgrade`\n", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1456974894, "modified": 1456976980, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/299", "source_type": "github"}, {"topic_id": 1604065109, "title": "updating tor, ADD_ONION error", "body": "I am getting a TorManager add onion error unrecognized ADD_ONION. The web interface works, and i can post, but i dont think my tor is working properly. How can i remedy this. I am on Ubuntu 14.04.\n\n```\nmetulburr@ubuntu ~/ZeroNet-master $ sudo !!\nsudo python zeronet.py \n[sudo] password for metulburr: \n- Starting ZeroNet...\n[01:51:08] - OpenSSL loaded, version: 01000106F\n[01:51:08] - Version: 0.3.6 r915, Python 2.7.6 (default, Jun 22 2015, 17:58:13) \n[GCC 4.8.2], Gevent: 1.0.2\n[01:51:08] - Creating FileServer....\n[01:51:08] - Creating UiServer....\n[01:51:08] - Removing old SSL certs...\n[01:51:08] - Starting servers....\n[01:51:08] Ui.UiServer --------------------------------------\n[01:51:08] Ui.UiServer Web interface: http://127.0.0.1:43110/\n[01:51:08] Ui.UiServer --------------------------------------\n[01:51:09] FileServer Checking port 15441 using portchecker.co...\n[01:51:10] FileServer [OK :)] Port open: Port 15441 is open.\n[01:51:10] TorManager Tor addOnion error: 510 Unrecognized command \"ADD_ONION\"\n```\n\nBased on docs, i see that my tor is not up to the required tor version. \n\n```\nmetulburr@ubuntu ~ $ echo 'PROTOCOLINFO' | nc 127.0.0.1 9051\n250-PROTOCOLINFO 1\n250-AUTH METHODS=COOKIE,SAFECOOKIE COOKIEFILE=\"/var/run/tor/control.authcookie\"\n250-VERSION Tor=\"0.2.4.27\"\n250 OK\n\n```\n\nand that tor version 2.7.5\n\nI do\n\n```\nsudo apt-get update\n```\n\nand rerun but get the same error. Most of the docs i find for updating tor is related to the browser in which people just say to redownload, and use the webbrowser. But that does no good for me. \n", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1456977190, "modified": 1457505737, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/300", "source_type": "github"}]}