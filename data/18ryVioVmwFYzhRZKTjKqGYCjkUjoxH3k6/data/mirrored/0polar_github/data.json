{"cert_user_id": "0polar@github", "next_comment_id": 48, "comment": {"1604065179_mirrored_kseistrup_github": [{"comment_id": 1, "body": "gevent do not work well with pypy", "added": 1549244806, "modified": 1549244806, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/351#issuecomment-460129940", "source_type": "github"}, {"comment_id": 2, "body": "When you [refactor to Python3](https://github.com/HelloZeroNet/ZeroNet/issues/1849), please also test about PyPy compatibility if possible.\r\n\r\nPerformance is important when seeding lots of sites concurrently, especially for public proxy.", "added": 1549778523, "modified": 1549778523, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/351#issuecomment-462115577", "source_type": "github"}, {"comment_id": 3, "body": "Performance is not only about foreign method calls, internal method calls and memory footprint are also factors.", "added": 1550313655, "modified": 1550313655, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/351#issuecomment-464348019", "source_type": "github"}, {"comment_id": 4, "body": "This is the result when run on Windows:\r\n```cmd\r\n- Starting ZeroNet...\r\n[14:13:38] PluginManager Plugin Chart load error: ImportError: unable to load extension module 'C:\\PyPy27\\lib_pypy\\_sqlite3_cffi.pypy-41.pyd': The specified module could not be found in PluginManager.py line 50 > builtins.py line 96 > __init__.py line 1 > builtins.py line 96 > ChartPlugin.py line 9 > builtins.py line 96 > ChartDb.py line 2 > builtins.py line 96 > __init__.py line 1 > builtins.py line 96 > Db.py line 1 > builtins.py line 96 > __init__.py line 24 > builtins.py line 96 > dbapi2.py line 28 > builtins.py line 96 > _sqlite3.py line 51 > builtins.py line 96\r\n[14:13:38] - OpenSSL loaded, version: 0100020CF\r\n[14:13:38] PluginManager Plugin Newsfeed load error: ImportError: unable to load extension module 'C:\\PyPy27\\lib_pypy\\_sqlite3_cffi.pypy-41.pyd': The specified module could not be found in PluginManager.py line 50 > builtins.py line 96 > __init__.py line 1 > builtins.py line 96 > NewsfeedPlugin.py line 5 > builtins.py line 96 > __init__.py line 1 > builtins.py line 96 > Db.py line 1 > builtins.py line 96 > __init__.py line 24 > builtins.py line 96 > dbapi2.py line 28 > builtins.py line 96 > _sqlite3.py line 51 > builtins.py line 96\r\n[14:13:38] PluginManager Plugin PeerDb load error: ImportError: unable to load extension module 'C:\\PyPy27\\lib_pypy\\_sqlite3_cffi.pypy-41.pyd': The specified module could not be found in PluginManager.py line 50 > builtins.py line 96 > __init__.py line 1 > builtins.py line 96 > PeerDbPlugin.py line 2 > builtins.py line 96 > __init__.py line 24 > builtins.py line 96 > dbapi2.py line 28 > builtins.py line 96 > _sqlite3.py line 51 > builtins.py line 96\r\n[14:13:38] - Unhandled exception: unable to load extension module 'C:\\PyPy27\\lib_pypy\\_sqlite3_cffi.pypy-41.pyd': The specified module could not be found\r\nTraceback (most recent call last):\r\n  File \"D:\\Download\\ZeroNet-master\\zeronet.py\", line 24, in main\r\n    import main\r\n  File \"D:\\Download\\ZeroNet-master\\src\\main.py\", line 71, in <module>\r\n    PluginManager.plugin_manager.loadPlugins()\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Plugin\\PluginManager.py\", line 58, in loadPlugins\r\n    func()\r\n  File \"D:\\Download\\ZeroNet-master\\plugins\\AnnounceZero\\AnnounceZeroPlugin.py\", line 18, in importHostClasses\r\n    from Site.SiteAnnouncer import AnnounceError\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Site\\__init__.py\", line 1, in <module>\r\n    from Site import Site\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Site\\Site.py\", line 19, in <module>\r\n    from Content import ContentManager\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Content\\__init__.py\", line 1, in <module>\r\n    from ContentManager import ContentManager\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Content\\ContentManager.py\", line 16, in <module>\r\n    from ContentDbDict import ContentDbDict\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Content\\ContentDbDict.py\", line 4, in <module>\r\n    import ContentDb\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Content\\ContentDb.py\", line 4, in <module>\r\n    from Db import Db\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Db\\__init__.py\", line 1, in <module>\r\n    from Db import Db\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"D:\\Download\\ZeroNet-master\\src\\Db\\Db.py\", line 1, in <module>\r\n    import sqlite3\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"C:\\PyPy27\\lib-python\\2.7\\sqlite3\\__init__.py\", line 24, in <module>\r\n    from dbapi2 import *\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"C:\\PyPy27\\lib-python\\2.7\\sqlite3\\dbapi2.py\", line 28, in <module>\r\n    from _sqlite3 import *\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\n  File \"C:\\PyPy27\\lib_pypy\\_sqlite3.py\", line 51, in <module>\r\n    from _sqlite3_cffi import ffi as _ffi, lib as _lib\r\n  File \"C:\\PyPy27\\site-packages\\gevent\\builtins.py\", line 96, in __import__\r\n    result = _import(*args, **kwargs)\r\nImportError: unable to load extension module 'C:\\PyPy27\\lib_pypy\\_sqlite3_cffi.pypy-41.pyd': The specified module could not be found\r\n\r\nD:\\Download>\r\n```\r\n\r\nI guess the monkey patch of gevent breaks sqlite3.", "added": 1552965474, "modified": 1552965474, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/351#issuecomment-474212501", "source_type": "github"}, {"comment_id": 5, "body": "The following result is tested under clean install PyPy + manually fixed https://github.com/gevent/gevent/issues/1356.\r\n\r\n## PyPy2.7 on Linux\r\n\r\nhttps://github.com/gevent/gevent/issues/1356 is not related to this issue.\r\nThe error of this issue still exists.\r\n\r\n## PyPy2.7 on Windows\r\n\r\n~~Once gevent monkey patch, permanently break sqlite3 (unless clean re-install).~~\r\nIt is always broken, regardless of gevent.\r\n\r\n```python-traceback\r\nPython 2.7.13 (9112c8071614, Feb 06 2019, 23:10:08)\r\n[PyPy 7.0.0 with MSC v.1500 32 bit] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>>> import sqlite3\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\pypy2.7-v7.0.0-win32\\lib-python\\2.7\\sqlite3\\__init__.py\", line 24, in <module>\r\n    from dbapi2 import *\r\n  File \"C:\\pypy2.7-v7.0.0-win32\\lib-python\\2.7\\sqlite3\\dbapi2.py\", line 28, in <module>\r\n    from _sqlite3 import *\r\n  File \"C:\\pypy2.7-v7.0.0-win32\\lib_pypy\\_sqlite3.py\", line 51, in <module>\r\n    from _sqlite3_cffi import ffi as _ffi, lib as _lib\r\nImportError: unable to load extension module 'C:\\pypy2.7-v7.0.0-win32\\lib_pypy\\_sqlite3_cffi.pypy-41.pyd': The specified module could not be found\r\n>>>>\r\n```\r\n\r\n## PyPy3.5 on Linux\r\n\r\nhttps://github.com/tiran/pysha3/issues/22\r\n\r\n## PyPy3.5 on Windows\r\n\r\n~~Once gevent monkey patch, permanently break sqlite3 (unless clean re-install).~~\r\nIt is always broken, regardless of gevent.\r\n\r\n```python-traceback\r\nPython 3.5.3 (928a4f70d3de, Feb 08 2019, 12:56:35)\r\n[PyPy 7.0.0 with MSC v.1910 32 bit] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>>> import sqlite3\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\pypy3.5-v7.0.0-win32\\lib-python\\3\\sqlite3\\__init__.py\", line 23, in <module>\r\n    from sqlite3.dbapi2 import *\r\n  File \"C:\\pypy3.5-v7.0.0-win32\\lib-python\\3\\sqlite3\\dbapi2.py\", line 27, in <module>\r\n    from _sqlite3 import *\r\n  File \"C:\\pypy3.5-v7.0.0-win32\\lib_pypy\\_sqlite3.py\", line 52, in <module>\r\n    from _sqlite3_cffi import ffi as _ffi, lib as _lib\r\nImportError: The specified module could not be found\r\n>>>>\r\n```\r\n\r\nPyPy3.5 don't recognize Microsoft Visual C++, although I have installed.\r\n```\r\n  Failed building wheel for gevent\r\n...\r\n  Failed building wheel for pysha3\r\n...\r\n    error: Microsoft Visual C++ 14.1 is required. Get it with \"Microsoft Visual C++ Build Tools\": https://visualstudio.microsoft.com/downloads/\r\n```", "added": 1553073233, "modified": 1553143063, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/351#issuecomment-474803803", "source_type": "github"}, {"comment_id": 6, "body": "With [manually install](https://stackoverflow.com/questions/41535915/python-pip-install-from-local-dir/41536128) newer pysha3, the result:\r\n\r\n```python-traceback\r\nroot@vultr:~/ZeroNet-py3# pypy3 zeronet.py\r\n- Starting ZeroNet...\r\n[08:49:32] PluginManager Plugin Bigfile load error: ImportError: No module named 'merkletools' in PluginManager.py line 51 > Bigfile/__init__.py line 1 > Bigfile/BigfilePlugin.py line 19\r\n[08:49:33] - Libsecpk256k1 loaded\r\n[08:49:33] - Version: 0.7.0 r4017, Python 3.5.3 (928a4f70d3de, Feb 08 2019, 10:42:58)\r\n[PyPy 7.0.0 with GCC 6.2.0 20160901], Gevent: 1.4.0\r\n[08:49:33] - Creating FileServer....\r\n[08:49:33] - Creating UiServer....\r\n[08:49:34] - Removing old SSL certs...\r\n[08:49:34] - Starting servers....\r\n[08:49:34] Ui.UiServer --------------------------------------\r\n[08:49:34] Ui.UiServer Web interface: http://*:8080/\r\n[08:49:34] Ui.UiServer --------------------------------------\r\n[08:49:35] TorManager Connecting to Tor Controller 127.0.0.1:9051\r\n[08:49:35] TorManager Tor controller connect error: ConnectionRefusedError: [Errno 111] Connection refused in TorManager.py line 143 > _socket3.py line 335\r\n[08:49:35] TorManager Disabling Tor, because error while accessing Tor proxy at port 127.0.0.1:9050: No connection\r\n[08:49:35] PeerPortchecker Checking port 15634 (ipv4) using checkPortchecker result: {'ip': '45.77.185.175', 'opened': True} in 0.034s\r\n[08:49:35] ConnServer Server port opened ipv4: True, ipv6: False\r\n[08:49:38] Db:ContentDb Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:41] Site:1Q9LrW..X7z1 Rebuilding db...\r\n[08:49:41] Site:1Q9LrW..X7z1 Deleting ./data/1Q9LrWv27gyToaqDXA2GF2ZSA6PhznX7z1/data/users/zhihu.db\r\n[08:49:41] Site:1Q9LrW..X7z1 Creating tables...\r\n[08:49:41] Db:ZhiHu Table keyvalue outdated...version: False need: 2, rebuilding...\r\n[08:49:41] Db:ZhiHu Table json outdated...version: 0 need: 2, rebuilding...\r\n[08:49:41] - Unhandled exception\r\nTraceback (most recent call last):\r\n  File \"/root/pypy3.5-v7.0.0-linux64/site-packages/gevent/greenlet.py\", line 766, in run\r\n    result = self._run(*self.args, **self.kwargs)\r\n  File \"/root/ZeroNet-py3/src/Site/SiteStorage.py\", line 141, in rebuildDb\r\n    self.db.checkTables()\r\n  File \"/root/ZeroNet-py3/src/Db/Db.py\", line 243, in checkTables\r\n    ], version=self.schema[\"version\"])\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 161, in needTable\r\n    self.createTable(table, cols)\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 138, in createTable\r\n    self.execute(\"DROP TABLE IF EXISTS %s\" % table)\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 101, in execute\r\n    res = self.cursor.execute(query)\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 770, in wrapper\r\n    return func(self, *args, **kwargs)\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 949, in execute\r\n    return self.__execute(False, sql, [params])\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 890, in __execute\r\n    self.__connection.commit()\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 475, in commit\r\n    raise self._get_exception(ret)\r\n_sqlite3.OperationalError: cannot commit transaction - SQL statements in progress\r\nTraceback (most recent call last):\r\n  File \"/root/pypy3.5-v7.0.0-linux64/site-packages/gevent/greenlet.py\", line 766, in run\r\n    result = self._run(*self.args, **self.kwargs)\r\n  File \"/root/ZeroNet-py3/src/Site/SiteStorage.py\", line 141, in rebuildDb\r\n    self.db.checkTables()\r\n  File \"/root/ZeroNet-py3/src/Db/Db.py\", line 243, in checkTables\r\n    ], version=self.schema[\"version\"])\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 161, in needTable\r\n    self.createTable(table, cols)\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 138, in createTable\r\n    self.execute(\"DROP TABLE IF EXISTS %s\" % table)\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 101, in execute\r\n    res = self.cursor.execute(query)\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 770, in wrapper\r\n    return func(self, *args, **kwargs)\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 949, in execute\r\n    return self.__execute(False, sql, [params])\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 890, in __execute\r\n    self.__connection.commit()\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 475, in commit\r\n    raise self._get_exception(ret)\r\n_sqlite3.OperationalError: cannot commit transaction - SQL statements in progress\r\n[08:49:41] Db:ZhiHu Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:41] Db:ZhiHu Table keyvalue outdated...version: False need: 2, rebuilding...\r\n[08:49:41] Db:ZhiHu Table json outdated...version: 0 need: 2, rebuilding...\r\n[08:49:41] WorkerManager:1Q9LrW..X7z1 107.172.237.134:38840: Error writing: dbschema.json (cannot commit transaction - SQL statements in progress)\r\n[08:49:42] Ui.UiServer Added 45.77.185.175:8080 as allowed host\r\n[08:49:43] Db:ContentDb Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:43] Db:ZhiHu Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:48] Db:ContentDb Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:48] Db:ZhiHu Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:50] Site:1TaLkF..jipT Rebuilding db...\r\n[08:49:50] Site:1TaLkF..jipT Deleting ./data/1TaLkFrMwvbNsooF4ioKAY9EuxTBTjipT/data/users/zerotalk.db\r\n[08:49:50] Site:1TaLkF..jipT Creating tables...\r\n[08:49:50] Db:ZeroTalk Table keyvalue outdated...version: False need: 2, rebuilding...\r\n[08:49:50] Db:ZeroTalk Table json outdated...version: 0 need: 2, rebuilding...\r\n[08:49:50] - Unhandled exception\r\nTraceback (most recent call last):\r\n  File \"/root/pypy3.5-v7.0.0-linux64/site-packages/gevent/greenlet.py\", line 766, in run\r\n    result = self._run(*self.args, **self.kwargs)\r\n  File \"/root/ZeroNet-py3/src/Site/SiteStorage.py\", line 141, in rebuildDb\r\n    self.db.checkTables()\r\n  File \"/root/ZeroNet-py3/src/Db/Db.py\", line 243, in checkTables\r\n    ], version=self.schema[\"version\"])\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 161, in needTable\r\n    self.createTable(table, cols)\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 138, in createTable\r\n    self.execute(\"DROP TABLE IF EXISTS %s\" % table)\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 101, in execute\r\n    res = self.cursor.execute(query)\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 770, in wrapper\r\n    return func(self, *args, **kwargs)\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 949, in execute\r\n    return self.__execute(False, sql, [params])\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 890, in __execute\r\n    self.__connection.commit()\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 475, in commit\r\n    raise self._get_exception(ret)\r\n_sqlite3.OperationalError: cannot commit transaction - SQL statements in progress\r\nTraceback (most recent call last):\r\n  File \"/root/pypy3.5-v7.0.0-linux64/site-packages/gevent/greenlet.py\", line 766, in run\r\n    result = self._run(*self.args, **self.kwargs)\r\n  File \"/root/ZeroNet-py3/src/Site/SiteStorage.py\", line 141, in rebuildDb\r\n    self.db.checkTables()\r\n  File \"/root/ZeroNet-py3/src/Db/Db.py\", line 243, in checkTables\r\n    ], version=self.schema[\"version\"])\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 161, in needTable\r\n    self.createTable(table, cols)\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 138, in createTable\r\n    self.execute(\"DROP TABLE IF EXISTS %s\" % table)\r\n  File \"/root/ZeroNet-py3/src/Db/DbCursor.py\", line 101, in execute\r\n    res = self.cursor.execute(query)\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 770, in wrapper\r\n    return func(self, *args, **kwargs)\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 949, in execute\r\n    return self.__execute(False, sql, [params])\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 890, in __execute\r\n    self.__connection.commit()\r\n  File \"/root/pypy3.5-v7.0.0-linux64/lib_pypy/_sqlite3.py\", line 475, in commit\r\n    raise self._get_exception(ret)\r\n_sqlite3.OperationalError: cannot commit transaction - SQL statements in progress\r\n[08:49:50] Db:ZeroTalk Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:50] Db:ZeroTalk Table keyvalue outdated...version: False need: 2, rebuilding...\r\n[08:49:50] Db:ZeroTalk Table json outdated...version: 0 need: 2, rebuilding...\r\n[08:49:50] WorkerManager:1TaLkF..jipT 107.172.237.134:38840: Error writing: dbschema.json (cannot commit transaction - SQL statements in progress)\r\n[08:49:53] Db:ContentDb Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:53] Db:ZhiHu Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:54] Db:ZeroTalk Commit error: cannot commit transaction - SQL statements in progress\r\n^CShutting down...\r\n[08:49:56] - Unhandled exception\r\nNoneType: None\r\nTraceback (most recent call last):\r\n  File \"/root/pypy3.5-v7.0.0-linux64/site-packages/gevent/libev/corecffi.py\", line 55, in python_check_callback\r\n    pass\r\nKeyboardInterrupt\r\n[08:49:56] - All server stopped\r\n[08:49:56] Site:1HeLLo..Tf3D Save peer error: cannot commit transaction - SQL statements in progress\r\n[08:49:56] Site:1Name2..hM9F Save peer error: cannot commit transaction - SQL statements in progress\r\n[08:49:56] Site:1Q9LrW..X7z1 Save peer error: cannot commit transaction - SQL statements in progress\r\n[08:49:56] Site:1TaLkF..jipT Save peer error: cannot commit transaction - SQL statements in progress\r\n[08:49:56] Db:ContentDb Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:56] Db:ZhiHu Commit error: cannot commit transaction - SQL statements in progress\r\n[08:49:56] Db:ZeroTalk Commit error: cannot commit transaction - SQL statements in progress\r\nroot@vultr:~/ZeroNet-py3#\r\n```", "added": 1553147725, "modified": 1553147725, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/351#issuecomment-475152086", "source_type": "github"}], "1604065267_mirrored_zszszsz_github": [{"comment_id": 7, "body": "and `--tor disable` for better performance", "added": 1545831032, "modified": 1545831032, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/423#issuecomment-449989960", "source_type": "github"}], "1604066176_mirrored_HostFat_github": [{"comment_id": 8, "body": "> as long as you can run Tor\r\n\r\nGFW block all directory servers and most bridges, so you need a front-proxy such as Shadowsocks.\r\nBut if you have a front-proxy, you can directly visit zeronet.io.\r\n\r\nI think the ultimate solution is **ZeroNet via I2P**:\r\n- I2P is tough enough to anti GFW so far.\r\n- ZeroNet will auto get DHT feature when use I2P Torrent.", "added": 1507923650, "modified": 1507924214, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1145#issuecomment-336583952", "source_type": "github"}, {"comment_id": 9, "body": "**NEVER** trust any service in China. China law require server must put a backdoor for government.", "added": 1507927748, "modified": 1507927748, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1145#issuecomment-336592082", "source_type": "github"}], "1604066258_mirrored_0polar_github": [{"comment_id": 10, "body": "Old data storage:\r\nIf some files (manifests and data) are changed/deleted, peers move old files to \"recycle-bin\" folder, instead of just override/delete.\r\n\r\nGet the history:\r\nIf user fetch one site's history, other peers provide the old manifests and data.\r\n\r\n---\r\n\r\nNo necessary to ensure all history data are always available (for example: It is OK that \"there are peers provide the current manifest, but no peers provide the old manifests\")\r\n\r\nThis feature is useful for sites to avoid unexpected bad thing (for example: write data before sync complete - data lost)", "added": 1515359507, "modified": 1515359507, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1211#issuecomment-355864666", "source_type": "github"}], "1604066327_mirrored_antilibrary_github": [{"comment_id": 11, "body": "Completely removing the iframe will much easier for [prerendering](https://developers.google.com/web/tools/puppeteer/articles/ssr).", "added": 1542897739, "modified": 1543035878, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1262#issuecomment-441093147", "source_type": "github"}], "1604066338_mirrored_ttlygw2018_github": [{"comment_id": 12, "body": "\u4fe1\u606f\u8fc7\u5c11\uff0c\u4e0d\u53ef\u91cd\u73b0\u3002\r\n\r\n\u6211\u89c9\u5f97\u8fd9\u662f\u4e00\u4e2a\u793e\u4f1a\u5e38\u8bc6\uff0c\u4f60\u82b1\u4e00\u5206\u949f\u5199\u7684\u95ee\u9898\uff0c\u4e0d\u80fd\u671f\u5f85\u4e00\u4e2a\u6beb\u65e0\u4ea4\u60c5\u7684\u964c\u751f\u4eba\u82b1\u4e00\u4e2a\u5c0f\u65f6\u8010\u5fc3\u5730\u95ee\u4f60\u7248\u672c\u548c\u64cd\u4f5c\u6b65\u9aa4\uff0c\u6a21\u62df\u51fa\u4f60\u7684\u73af\u5883\u6765\u5e2e\u4f60\u5206\u6790\u89e3\u51b3\u3002", "added": 1517813094, "modified": 1517813144, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1274#issuecomment-363031781", "source_type": "github"}], "1604066864_mirrored_DaniellMesquita_github": [{"comment_id": 13, "body": "Sorry, cryptocurrency integration is definitely most **not needed** thing.", "added": 1538376702, "modified": 1538376702, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1621#issuecomment-425850662", "source_type": "github"}], "1604066843_mirrored_0polar_github": [{"comment_id": 14, "body": "I want ZeroNet focus on distributed web apps framework, and unite other distributed storage infrastructures together.\r\n\r\nSo finally network architecture will be like this:\r\n- distributed web apps\r\n- ZeroNet (distributed web apps framework)\r\n- BitTorrent used by ZeroNet / Freenet / GNUnet / IPFS / Dat... (distributed storage)\r\n- I2P (anonymous overlay layer)\r\n- cjdns (replace IP/BGP)\r\n\r\nAnd mature infrastructures have more code review & security audits. **[ZeroNet security is considered bad.](https://news.ycombinator.com/item?id=14041596)**", "added": 1538458351, "modified": 1538458849, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-426192856", "source_type": "github"}, {"comment_id": 15, "body": "IPFS seems too bloated and hard to use. Dat looks good.", "added": 1541079090, "modified": 1541079090, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-435100015", "source_type": "github"}, {"comment_id": 16, "body": "I am afraid ZeroNet API need blow up and rewrite, too.\r\n\r\n- `<iframe>` as sandbox are too hacky\r\n- WebSocket as API are difficult to use (compare with HTTP REST)\r\n- JSON as database are not look like tables (compare with CSV)", "added": 1546819923, "modified": 1546820046, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-451809347", "source_type": "github"}, {"comment_id": 17, "body": "> Yes, but IPFS is pretty modular, which futerely will support to storing bytes on merkle tree instead of full files.\r\n\r\nHere is Dat docs: https://docs.datproject.org/faq#dat-vs\r\n- Dat has built-in archiving and versioning, IPFS have no\r\n- Dat has built-in synchronization, IPFS have no\r\n- Dat already supports exchange the deltas to complete a full sync\r\n", "added": 1546821343, "modified": 1546821343, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-451812521", "source_type": "github"}, {"comment_id": 18, "body": "> To fix this we have to make {hash} the origin.\r\n\r\nMy plan:\r\n\r\nWhen user visit `http://{hash}.zeronet` in browser, WebExtension intercept this request and proxy to `http://localhost:43110`.\r\n\r\nZeroNet client should check the `Host` HTTP header.\r\n\r\n`.zeronet` is not a [vaild TLD](https://www.icann.org/resources/pages/tlds-2012-02-25-en), so there is no conflict.", "added": 1546822058, "modified": 1546822087, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-451814055", "source_type": "github"}, {"comment_id": 19, "body": "> How could be used on ZeroNet?\r\n\r\nhttps://github.com/ipfs/faq/issues/119#issuecomment-291004032", "added": 1546823341, "modified": 1546823347, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-451816531", "source_type": "github"}, {"comment_id": 20, "body": "> So how can we make a sandbox then\r\n> Disable js,like tor ? impossible\r\n\r\nPrerequisite knowledge for you:\r\n\r\n1. Every pages are already have sandboxed.\r\n\r\n2. If pages are in same origin, they can interact each other, otherwise they can't.\r\n\r\n3. Browser think `http://{hash1}.zeronet` `http://{hash2}.zeronet` are not same origin.\r\nThis is proper.\r\n\r\n4. Browser think `http://localhost:3000/{hash1}` `http://localhost:3000/{hash1}` are same origin.\r\nThis is wrong. So we need workaround.", "added": 1546907530, "modified": 1546928561, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-452163452", "source_type": "github"}, {"comment_id": 21, "body": "> notifications, sidebar, loading screen\r\n\r\nPut these in WebExtension\r\n\r\n> browsers automatically turns addresses to lower case, so it would not be possible using the current address format\r\n\r\nYes, this is a problem for ZeroNet.\r\nDat have no such problem, because Dat official URL format are hexadecimal.", "added": 1546909538, "modified": 1546909986, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-452168596", "source_type": "github"}, {"comment_id": 22, "body": "> How personally you think ZeroNet could be a middle network for Dat?\r\n\r\nmiddle network?\r\nI mean, Dat become the storage layer of ZeroNet, ZeroNet should focus on application layer.", "added": 1546910086, "modified": 1546910086, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-452169824", "source_type": "github"}, {"comment_id": 23, "body": "Fix your English:\r\nlocalhost as proxy -> localhost as user interface\r\nrestructure -> refactor", "added": 1546933292, "modified": 1546933292, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-452253813", "source_type": "github"}, {"comment_id": 24, "body": "> local host is not user interface.It's web server\r\n\r\nThey are not conflict.\r\n`http://localhost:43110` is ZeroNet web server for user interface.", "added": 1546933665, "modified": 1546933665, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-452255702", "source_type": "github"}, {"comment_id": 25, "body": "> So why not build a browser as the user interface of zeronet.\r\n\r\nUnderstanding browser's source code is a hard task and no necessary.\r\nWebExtension plan is good enough.", "added": 1546937925, "modified": 1546937925, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-452273776", "source_type": "github"}, {"comment_id": 26, "body": "> then you should use their API and no real reason to interact with zeronet-style api.\r\n\r\nYes, but if do this, there is no compatibility.\r\nAnd I think complete rewriting will better.", "added": 1546938228, "modified": 1546938228, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-452275052", "source_type": "github"}, {"comment_id": 27, "body": "> Is plugin system planned ?\r\n\r\nOff-topic.\r\nI suggest you start another thread.", "added": 1546950739, "modified": 1546950739, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-452340584", "source_type": "github"}, {"comment_id": 28, "body": "> When user visit `http://{hash}.zeronet` in browser, WebExtension intercept this request and proxy to `http://localhost:43110`.\r\n\r\nUpdate:\r\n\r\nNo, WebExtension is not necessary.\r\nJust like how people resolving `.i2p` and `.onion` addresses, a normal SOCKS5 proxy can do this enough.\r\nhttps://stackoverflow.com/questions/33099569/how-does-sock-5-proxy-ing-of-dns-work-in-browsers", "added": 1562369836, "modified": 1562369836, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669#issuecomment-508891107", "source_type": "github"}], "1604067005_mirrored_0polar_github": [{"comment_id": 29, "body": "Not helpful.\r\nIt still throw `IOError: ('http protocol error', 0, 'got a bad status line', None)`\r\nAnd your [helper](https://github.com/HelloZeroNet/ZeroNet/blob/f0f9b93694b8df6515c8f73c52a0d05b39a61ce9/src/util/helper.py#L152) is just for SSL, does not affect normal HTTP.\r\nMay you need try my code for yourself.", "added": 1543489413, "modified": 1543489413, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1795#issuecomment-442844360", "source_type": "github"}, {"comment_id": 30, "body": "It works in terminal, but it not work in ZeroNet plugin.\r\n\r\nPreviously I try this in my Windows desktop, now I try again in new Debian VPS, it show log\r\n`[15:04:07] - UiWSGIHandler error: AttributeError: 'UiWSGIHandler' object has no attribute 'code' in UiServer.py line 40 > pywsgi.py line 495 > pywsgi.py line 486 > pywsgi.py line 372` and browser page stuck in loading.", "added": 1543493368, "modified": 1543493368, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1795#issuecomment-442867808", "source_type": "github"}], "1604067165_mirrored_blurHY_github": [{"comment_id": 31, "body": "More reason needed: which task can't be done with SQL?", "added": 1549785211, "modified": 1549785211, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1893#issuecomment-462122189", "source_type": "github"}], "1604067140_mirrored_0polar_github": [{"comment_id": 32, "body": "Emm, this option [not works for images](https://github.com/whatwg/fetch/issues/395) and breaks current ZeroNet.\r\n\r\nI will reopen this issue when available.", "added": 1550217059, "modified": 1550217059, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1898#issuecomment-463996868", "source_type": "github"}], "1604067325_mirrored_nullptr2_github": [{"comment_id": 33, "body": "I guess, the browser unresponsive.\r\nIt is not fair to describe this as \"does not allow\".", "added": 1562491610, "modified": 1562491610, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2056#issuecomment-508995783", "source_type": "github"}], "1604067340_mirrored_styromaniac_github": [{"comment_id": 34, "body": "Toggle in chrome://flags/#disable-pull-to-refresh-effect", "added": 1562490469, "modified": 1562490469, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2058#issuecomment-508994477", "source_type": "github"}, {"comment_id": 35, "body": "I am sure that the flag exists in Chrome 68. The flag is removed in newer version?\r\nYou can use Firefox instead.", "added": 1562550589, "modified": 1562550684, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2058#issuecomment-509077564", "source_type": "github"}], "1604067343_mirrored_filips123_github": [{"comment_id": 36, "body": "And most important: standard BitTorrent protocol for file download and big file.\r\nCurrently, ZeroNet only utilize BitTorrent for peer discovery.", "added": 1562484447, "modified": 1562484902, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2062#issuecomment-508988410", "source_type": "github"}], "1604067346_mirrored_filips123_github": [{"comment_id": 37, "body": "Plan:\r\n- Peer discovery / Network connection\r\n- File system / Download management / Big file\r\n- SQL database construction from files\r\n- UI / API / SDK", "added": 1562483758, "modified": 1562483758, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2063#issuecomment-508987713", "source_type": "github"}, {"comment_id": 38, "body": "It is annoying that ZeroNet use non-standard, that make our can not reuse existing tools and neet to reinvent wheels.\r\n\r\nFor example:\r\n- Custom diff protocol (not Unix)\r\n- WebSocket as RPC (not HTTP)\r\n- Custom protocol for file download and big file (not BitTorrent)", "added": 1562484113, "modified": 1562484833, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2063#issuecomment-508988026", "source_type": "github"}, {"comment_id": 39, "body": "> Custom diff protocol\r\n\r\nhttps://zeronet.readthedocs.io/en/latest/help_zeronet/network_protocol/#possible-diff-opcodes\r\n\r\n> WebSockets are standard.\r\n\r\nHalf truth. WebSocket is not popular as normal HTTP. HTTP are included in almost every standard library, but WebSocket not.\r\n\r\n> always needs to be connected to ZeroNet instance\r\n\r\nLong connections are stateful, stateful means potential hazard to to concurrency.\r\nWebSocket should be opt-in.", "added": 1562484818, "modified": 1562495833, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2063#issuecomment-508988797", "source_type": "github"}, {"comment_id": 40, "body": "Argue by repeating is not effective. Read again my comment above.", "added": 1562486233, "modified": 1562486233, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2063#issuecomment-508990153", "source_type": "github"}, {"comment_id": 41, "body": "If you to remote procedure call from client to server, HTTP is enough. It even can be semantic if REST.\r\nYou _can_ use WebSocket or raw TCP or whatever to re-implement remote procedure call, but it is not necessary, and it will lost existing tools.\r\n\r\nIn one word: **do not reinvent wheel**.", "added": 1562488404, "modified": 1562488404, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2063#issuecomment-508992253", "source_type": "github"}, {"comment_id": 42, "body": "> How is it possible to use BitTorrent for dynamic data?\r\n\r\nYes, BitTorrent can't proactively push metadata (`content.json`), but can be used to normally download files.", "added": 1562495639, "modified": 1562496992, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2063#issuecomment-509000244", "source_type": "github"}], "1604067389_mirrored_0polar_github": [{"comment_id": 43, "body": "FYI: OpenSSL is located in:\r\n\r\nDebug info in Python2:\r\n```cmd\r\n\"src\\lib\\opensslVerify\\openssl.exe\" x509 -req -in \"./data/cert-rsa.csr\" -CA \"./data/cacert-rsa.pem\" -CAkey \"./data/cakey-rsa.pem\" -CAcreateserial -out \"./data/cert-rsa.pem\" -days 730 -sha256 -extensions x509_ext -extfile \"src/lib/opensslVerify/openssl.cnf\"\r\n```", "added": 1562898765, "modified": 1562898821, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2093#issuecomment-510751398", "source_type": "github"}, {"comment_id": 44, "body": "```log\r\n[2019-07-12 18:49:22,104] INFO     Ui.UiServer --------------------------------------\r\n[2019-07-12 18:49:22,104] INFO     Ui.UiServer Web interface: http://127.0.0.1:43110/\r\n[2019-07-12 18:49:22,104] INFO     Ui.UiServer --------------------------------------\r\n[2019-07-12 18:49:22,106] DEBUG    - Current maxstdio: 512, changing to 2048...\r\n[2019-07-12 18:49:22,106] DEBUG    - Generating RSA CAcert and CAkey PEM files...\r\n[2019-07-12 18:49:22,174] DEBUG    - \"tools\\openssl\\openssl.exe\" req -new -newkey rsa:2048 -days 3650 -nodes -x509 -config \"src/lib/openssl/openssl.cnf\" -subj \"/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA\" -keyout \"./data/cakey-rsa.pem\" -out \"./data/cacert-rsa.pem\" -batch\r\nThe system cannot find the path specified.\r\n[2019-07-12 18:49:22,174] ERROR    - RSA ECC SSL CAcert generation failed, CAcert or CAkey files not exist.\r\n[2019-07-12 18:49:22,174] DEBUG    TorManager Starting (Tor: enable)\r\n[2019-07-12 18:49:22,174] DEBUG    TorManager Connecting to Tor Controller localhost:9151\r\n```\r\n\r\n\r\nNo, I download from source code (https://github.com/HelloZeroNet/ZeroNet/archive/py3.zip)", "added": 1562917940, "modified": 1562917940, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2093#issuecomment-510843214", "source_type": "github"}, {"comment_id": 45, "body": "```log\r\n[2019-07-12 21:12:34,710] INFO     Ui.UiServer --------------------------------------\r\n[2019-07-12 21:12:34,711] INFO     Ui.UiServer Web interface: http://127.0.0.1:43110/\r\n[2019-07-12 21:12:34,711] INFO     Ui.UiServer --------------------------------------\r\n[2019-07-12 21:12:34,712] DEBUG    - Current maxstdio: 512, changing to 2048...\r\n[2019-07-12 21:12:34,713] DEBUG    - Generating RSA CAcert and CAkey PEM files...\r\n[2019-07-12 21:12:35,200] DEBUG    - \"tools\\openssl\\openssl.exe\" req -new -newkey rsa:2048 -days 3650 -nodes -x509 -config \"src/lib/openssl/openssl.cnf\" -subj \"/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA\" -keyout \"./data/cakey-rsa.pem\" -out \"./data/cacert-rsa.pem\" -batch\r\nGenerating a RSA private key\r\n...........................................................................................................................................................................+++++\r\n..+++++\r\nwriting new private key to './data/cakey-rsa.pem'\r\n-----\r\n[2019-07-12 21:12:35,200] DEBUG    - Generating certificate key and signing request...\r\n[2019-07-12 21:12:35,495] DEBUG    - \"tools\\openssl\\openssl.exe\" req -new -newkey rsa:2048 -keyout \"./data/key-rsa.pem\" -out \"./data/cert-rsa.csr\" -subj \"/CN=debian.org\" -sha256 -nodes -batch -config \"src/lib/openssl/openssl.cnf\"\r\nGenerating a RSA private key\r\n.....................+++++\r\n............+++++\r\nwriting new private key to './data/key-rsa.pem'\r\n-----\r\n[2019-07-12 21:12:35,495] DEBUG    - Generating RSA cert...\r\n[2019-07-12 21:12:35,759] DEBUG    - \"tools\\openssl\\openssl.exe\" x509 -req -in \"./data/cert-rsa.csr\" -CA \"./data/cacert-rsa.pem\" -CAkey \"./data/cakey-rsa.pem\" -set_serial 01 -out \"./data/cert-rsa.pem\" -days 730 -sha256 -extensions x509_ext -extfile \"src/lib/openssl/openssl.cnf\"\r\nSignature ok\r\nsubject=/CN=debian.org\r\nGetting CA Private Key\r\n[2019-07-12 21:12:35,759] DEBUG    TorManager Starting (Tor: enable)\r\n[2019-07-12 21:12:35,760] DEBUG    TorManager Connecting to Tor Controller localhost:9151\r\n```\r\nOf course it works.\r\nI think it is need a formal fix, not workaround. Not everyone use ZeroBundle.", "added": 1562926632, "modified": 1562926632, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2093#issuecomment-510882584", "source_type": "github"}], "1604067407_mirrored_0polar_github": [{"comment_id": 46, "body": "```log\r\nSiteManager Saved sites in 0.69s (generate: 0.07s, write: 0.68s)\r\n```\r\n\r\n---\r\n\r\nBTW, I find this issue via Windows Resource Monitor:\r\n\r\n![2019-07-25 Resource Monitor](https://user-images.githubusercontent.com/29332484/61863358-03cbe400-af02-11e9-8448-24ac434b6d08.png)", "added": 1564036016, "modified": 1564036389, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2106#issuecomment-514970185", "source_type": "github"}, {"comment_id": 47, "body": "*   Batch add sites\r\n    *   [Get all sites](http://127.0.0.1:43110/1Ake2MmwxDgst5M8WqoyNLjDQj2pcPj5zL/)\r\n    *   Restart client with a lot of \"connecting sites\" (this cause same effect as re-add \"connecting sites\")\r\n*   Batch remove sites\r\n    *   [Batch remove dead sites](https://github.com/0polar/ZeroBridge/blob/master/tools/mod.md#remove-dead-sites-long-time-connecting)\r\n*   Download a lot of files\r\n    *   [Download all optional files](https://github.com/zcyzcy88/SelfColle/issues/57)", "added": 1564045280, "modified": 1564046261, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2106#issuecomment-515016147", "source_type": "github"}]}, "next_topic_id": 21, "topic": [{"topic_id": 1604066205, "title": "Allow modals for iframe", "body": "> http://127.0.0.1:43110/Me.ZeroNetwork.bit/?Post/12h51ug6CcntU2aiBjhP8Ns2e5VypbWWtv/12gAes6NzDS9E2q6Q1UXrpUdbPS6nvuBPu/1509344044\r\n\r\n```\r\nIgnored call to 'confirm()'. The document is sandboxed, and the 'allow-modals' keyword is not set.\r\n```\r\n\r\nI want built-in modals, I don't want simulated modals.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1509335592, "modified": 1509362176, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1170", "source_type": "github"}, {"topic_id": 1604066258, "title": "History and log for ZeroNet site files change (a.k.a. Archiving, Versioning)", "body": "http://127.0.0.1:43110/Talk.ZeroNetwork.bit/?Topic:1513607828_13aB79mzuRLgDYzQthn9wzycjw77WyDXh6/File+History\r\n\r\nIf someone change some file, other peers should be easily know **which files changed** and **what the files previous data**.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1513605211, "modified": 1547882057, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1211", "source_type": "github"}, {"topic_id": 1604066260, "title": "Advanced Usage: Immutable Content, Trusted Timestamp, Permission Control", "body": "http://127.0.0.1:43110/Talk.ZeroNetwork.bit/?Topic:1509875191_13aB79mzuRLgDYzQthn9wzycjw77WyDXh6/Advanced+Usage+Immutable+Content+Trusted+Timestamp+Permission+Control\r\n\r\n1. I don't allow user to edit post content after he posted\r\n2. I don't allow user fake time timestamp\r\n3. I want assign someone as admin to manage part of site, not whole site\r\n\r\nHow do these in ZeroNet?\r\nI am afraid file-based can't do these, ZeroNet should be (database) row-based.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1513605268, "modified": 1513686213, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1212", "source_type": "github"}, {"topic_id": 1604066263, "title": "Namecoin-based ID provider", "body": "http://127.0.0.1:43110/Talk.ZeroNetwork.bit/?Topic:1509510944_13aB79mzuRLgDYzQthn9wzycjw77WyDXh6/Namecoin+based+ID+provider", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1513605328, "modified": 1514744260, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1213", "source_type": "github"}, {"topic_id": 1604066267, "title": "If I published with wrong advanced time than true time, I can't correct and publish more.", "body": "ZeroNet version: 0.6.0\r\n\r\nUnfortunately, because I set wrong time, I signed my files with `\"modified\": 1513904603` and published, but true time is 1513865595.\r\nTherefore, before true world reach the wrong time, I can't publish anything. If publish successfully, it will rollback after some time.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1513855344, "modified": 1513867718, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1216", "source_type": "github"}, {"topic_id": 1604066843, "title": "Rebase ZeroNet infrastructure to IPFS or Dat", "body": "ZeroTalk: http://127.0.0.1:43110/Talk.ZeroNetwork.bit/?Topic:1538407463_14ytAKDfNjArMTqGecTi7ginG3aZTsRAum/Rebase+ZeroNet+infrastructure+to+IPFS+or+Dat\r\n\r\nAdvantage: DHT, archiving system, bigger developer team & community, no repeated code\u2026\r\nAlso a chance to migrate to Python 3.\r\n\r\nBefore I start to write code, is there any suggestion for me?", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1538396691, "modified": 1584960044, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1669", "source_type": "github"}, {"topic_id": 1604067005, "title": "Can not use urllib in ZeroNet plugin", "body": "When I writing plugin:\r\n\r\n```py\r\nimport urllib2\r\nfrom Plugin import PluginManager\r\n\r\n@PluginManager.registerTo(\"UiRequest\")\r\nclass UiRequestPlugin(object):\r\n\tdef actionWrapper(self, path, extra_headers=None):\r\n\t\treturn urllib2.urlopen(\"http://localhost\").read()\r\n```\r\nI meet `BadStatusLine` error\r\nWhen I change `http://localhost` to `http://example.com`, it won't throw error, but it will stuck in loading.\r\n\r\n----\r\n\r\nThere are must some monkey patch that I don't know.\r\nAny help?", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1543469030, "modified": 1543493368, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1795", "source_type": "github"}, {"topic_id": 1604067007, "title": "How to trigger optional files cleanup immediately?", "body": "Or: How to delete all optional files?", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1543488180, "modified": 1543588603, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1796", "source_type": "github"}, {"topic_id": 1604067010, "title": "How to remove excess files?", "body": "Some files are in folder but no longer in `content.json`\r\n\r\nhttps://github.com/HelloZeroNet/ZeroNet/issues/164 looks right, but I need manually trigger the removal for all sites.\r\n\r\n", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1543847824, "modified": 1544016842, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1798", "source_type": "github"}, {"topic_id": 1604067016, "title": "How to make [the guest content on my site] read-only?", "body": "For example: my site is a blog, the guest content are comments, now I want to preserve old guest content, and don't accept new/update comments.\r\n\r\nWhat should I do?", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1544195880, "modified": 1544443842, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1802", "source_type": "github"}, {"topic_id": 1604067019, "title": "In `user_contents`, what the different between `archived`, `archived_before`, `permission_rules`?", "body": "They are all looks for banning someone, but I need more detail.\r\n\r\nIn https://zeronet.io/docs/site_development/content_json/#user_contents , I didn't find `archived`, `archived_before`, you need to update the docs.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1544196257, "modified": 1544445833, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1803", "source_type": "github"}, {"topic_id": 1604067134, "title": "Do not store `bad_files` & `hashfield` in `sites.json`", "body": "Because these make `sites.json` too bloat, and slow down whole client.\r\nThere should be stored in `content.db` instead.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1549725473, "modified": 1549727978, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1894", "source_type": "github"}, {"topic_id": 1604067140, "title": "Disable browser file extension sniff", "body": "Add `X-Content-Type-Options: nosniff` to HTTP response headers.\r\n\r\nReason: someone posts GIF images in ZeroMe but named as `.jpeg`\r\nI think this is a [potential vulnerability](https://www.fox-it.com/en/insights/blogs/blog/mime-sniffing-feature-or-vulnerability).", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1550115608, "modified": 1550217059, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/1898", "source_type": "github"}, {"topic_id": 1604067142, "title": "Disable browser file extension sniff (fixed #1898)", "body": "", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1550116730, "modified": 1552986227, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1899", "source_type": "github"}, {"topic_id": 1604067171, "title": "Fix wrong module name", "body": "`Exception: You probably meant to install and run gevent-websocket`", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1552985987, "modified": 1553005573, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1922", "source_type": "github"}, {"topic_id": 1604067174, "title": "pip install in right way", "body": "", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1552986056, "modified": 1553005573, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1923", "source_type": "github"}, {"topic_id": 1604067177, "title": "Fix \"no module\" error", "body": "Since PySocks is added into requirements.txt, no need to `from...`", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1552988260, "modified": 1553005574, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1925", "source_type": "github"}, {"topic_id": 1604067180, "title": "Fix unable to open context menu on Windows", "body": "Python3 string no need decoding or encoding", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1552989425, "modified": 1553005574, "source_link": "https://github.com/HelloZeroNet/ZeroNet/pull/1926", "source_type": "github"}, {"topic_id": 1604067389, "title": "Connection are not encrypted in Windows Python3", "body": "Same as https://127.0.0.1:43110/Talk.ZeroNetwork.bit/?Topic:1562744772_1G5aYYLCYtwKYfnnvLUTNVDC5kmy8RP7D7/How+to+enable+crypt+connetion+I+m+using+zeronet+py3\r\n\r\nError log:\r\n```log\r\n[13:15:49] - RSA ECC SSL CAcert generation failed, CAcert or CAkey files not exist.\r\n```\r\n\r\nDebug info:\r\n```cmd\r\n\"tools\\openssl\\openssl.exe\" req -new -newkey rsa:2048 -days 3650 -nodes -x509 -config \"src/lib/openssl/openssl.cnf\" -subj \"/C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA\" -keyout \"./data/cakey-rsa.pem\" -out \"./data/cacert-rsa.pem\" -batch\r\n```\r\nProbably `openssl.exe` is missing.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1562898376, "modified": 1562926632, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2093", "source_type": "github"}, {"topic_id": 1604067407, "title": "Using real database instead of using `.json` files as database", "body": "Advanced of #1894\r\n\r\nI found a performance bottleneck: `atomicWrite` of `sites.json`.\r\nThis is significant when seeding many sites + sites frequency update.\r\n\r\nWhen using `.json` files as database, if one row updates, whole file need to rewrite.\r\nWhen using real database, if one row updates, only related disk sector need to rewrite.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1564033238, "modified": 1564046261, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2106", "source_type": "github"}]}