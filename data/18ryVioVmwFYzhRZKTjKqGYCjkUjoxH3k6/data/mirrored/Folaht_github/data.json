{"cert_user_id": "Folaht@github", "next_topic_id": 5, "topic": [{"topic_id": 1604068027, "title": "Zeronet not working in official latest release - window.wrapper is undefined (version 0.7.1)", "body": "### Step 1: Please describe your environment\r\n\r\n  * ZeroNet version: 0.7.1 (rev 4206)\r\n  * Operating system: Manjaro\r\n  * Web browser: Firefox 81.0 64-bit (including incognito, including all extensions turned off)\r\n  * Tor status: disabled\r\n  * Opened port: yes\r\n  * Special configuration: no\r\n\r\n### Step 2: Describe the problem:\r\n\r\n\u00c9chec du chargement pour l\u2019\u00e9l\u00e9ment <script> dont la source est \u00ab http://127.0.0.1:43110/uimedia/all.js?rev=4206&lang=fr \u00bb. 1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D:95:1\r\nUncaught TypeError: window.wrapper is undefined\r\n    <anonymous> http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D:96\r\n\r\nSites don't load properly.\r\n\r\n#### Steps to reproduce:\r\n\r\n  1. Enter any zeronet site.\r\n\r\n#### Observed Results:\r\n\r\n![Capture d\u2019\u00e9cran_2020-10-05_17-57-49](https://user-images.githubusercontent.com/9342090/95103099-8110fc80-0734-11eb-80ee-5fbd0001f551.png)\r\n\r\n#### Expected Results:\r\n\r\nSites load properly.\r\n", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1601902835, "modified": 1601992081, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2629", "source_type": "github"}, {"topic_id": 1604068034, "title": "Site rot. I don't know what I've done, but I manage to locally break site functionality. 1Hello.", "body": "### Step 1: Please describe your environment\r\n\r\n  * ZeroNet version: 0.72\r\n  * Operating system: Manjaro\r\n  * Web browser: Firefox\r\n  * Tor status: disabled\r\n  * Opened port: yes\r\n  * Special configuration: no\r\n\r\n### Step 2: Describe the problem:\r\n\r\nThis seems to be happening a lot to me, but after a while sites that I use start to malfunction.\r\nIt has happened to me to Git Center's index page that refuses to find the repositories, but now it's happening to 1Hello.\r\nThe menus refuse to do anything, except for the top-right scrolling menu. Links still work as well.\r\n\r\n#### Steps to reproduce:\r\n\r\n  1. I have no idea how I produced it.\r\n\r\n#### Observed Results:\r\n\r\n  * I click on any three dotted menu, or Warning/V/Port/Tor/Trackers. Nothing.\r\n\r\n#### Expected Results:\r\n\r\n  * Menu opens.\r\n", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1602249433, "modified": 1602265948, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2633", "source_type": "github"}, {"topic_id": 1604068036, "title": "\"Site rot\". Site functionality breaks down. Unknown cause. Today I have this with 1Hello.", "body": "### Step 1: Please describe your environment\r\n\r\n  * ZeroNet version: 0.72\r\n  * Operating system: Manjaro\r\n  * Web browser: Firefox\r\n  * Tor status: disabled\r\n  * Opened port: yes\r\n  * Special configuration: no\r\n\r\n### Step 2: Describe the problem:\r\n\r\nThis seems to be happening a lot to me, but after a while sites that I use start to malfunction.\r\nIt has happened to me to Git Center's index page that refuses to find the repositories, but now it's happening to 1Hello.\r\nThe menus refuse to do anything, except for the top-right scrolling menu. Links still work as well.\r\n\r\n#### Steps to reproduce:\r\n\r\n  1. I have no idea how I produced it.\r\n\r\n#### Observed Results:\r\n\r\n  * I click on any three dotted menu, or Warning/V/Port/Tor/Trackers. Nothing.\r\n\r\n#### Expected Results:\r\n\r\n  * Menu opens.\r\n\r\nErrors found in console:\r\n\r\n```plain\r\nContent Security Policy: The page settings prevented the loading of a resource to inline (\u00ab script-src \u00bb). preload.js:136:52\r\nContent Security Policy: The page settings prevented the loading of a resource to inline (\u00ab script-src \u00bb). sandbox eval code:9:350\r\n```\r\n\r\n```plain\r\nUncaught DOMException: String contains an invalid character all.js:616\r\n    createDom http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:616\r\n    updateChildren http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:564\r\n    updateDom http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:667\r\n    update http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:685\r\n    doRender http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:916\r\n    (Asynchrone : FrameRequestCallback)\r\n    scheduleRender http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:923\r\n    setMessage http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:3483\r\n    setRow http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:3435\r\n    Site http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:3405\r\n    sync http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:6163\r\n    update http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:3970\r\n    onMessage http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:6939\r\n    bind http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:6884\r\n    (Asynchrone : EventListener.handleEvent)\r\n    connect http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:6911\r\n    ZeroFrame http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:6899\r\n    ZeroHello http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:7374\r\n    <anonyme> http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:7748\r\n    <anonyme> http://127.0.0.1:43110/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/js/all.js?lang=fr&site_modified=1594422486:7752\r\n```\r\n", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1602249493, "modified": 1602268192, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2634", "source_type": "github"}, {"topic_id": 1604068040, "title": "MergerSite - Zite retains old merger_type permission after modifying wrapperPermissionAdd.", "body": "### Step 1: Please describe your environment\r\n\r\n  * ZeroNet version: 0.7.2\r\n  * Operating system: Manjaro\r\n  * Web browser: Firefox\r\n  * Tor status: disabled\r\n  * Opened port: yes\r\n  * Special configuration: no\r\n\r\n### Step 2: Describe the problem:\r\n\r\nI cloned GitCenter.\r\nI downloaded GitCenter and then rewrote it to my liking in order to start my own GitCenter, called ZeroSafe.\r\nMy site however is still looking for GitCenter sites.\r\nI've noticed that this is due to this function:\r\n\r\n```\r\nzeroPage.cmd(\"wrapperPermissionAdd\", [\"Merger:ZeroSafe\"])\r\n```\r\n\r\nThis adds a permission, but does not set it.\r\nSo whenever I change it, it adds another permission\r\nand when I went a little digging I could not find any command that removes or empties the permissions.\r\nI can't manually remove the in sites.json either and I have no idea where these permissions are stored.\r\n\r\n#### Steps to reproduce:\r\n\r\n  1. Open a couple of Gitcenter projects.\r\n  2. Recreate Gitcenter, name it Newcenter.\r\n  3. Edit the following in your Newcenter site:\r\n```diff\r\n-- zeroPage.cmd(\"wrapperPermissionAdd\", [\"Merger:GitCenter\"])\r\n++ zeroPage.cmd(\"wrapperPermissionAdd\", [\"Merger:NewCenter\"])\r\n```\r\n\r\n#### Observed Results:\r\n\r\nerror\r\n ```plain\r\nInternal error: Exception('Merger site (NewCenter) does not have permission for merged site: \r\n18r929Hq8hE5Pi9Zf7ovMQVyn3WcGfxMgu (GitCenter)'): Merger site (NewCenter) does not have permission for merged site: \r\n18r929Hq8hE5Pi9Zf7ovMQVyn3WcGfxMgu (GitCenter)\r\nUiWebsocket.py line 80 > 238 > MergerSite/MergerSitePlugin.py line 168 > 136 > 43\r\n```\r\n\r\nsites.json\r\n```\r\npermissions: { ...\"Gitcenter\", \"NewCenter\"...\r\n}\r\n```\r\n\r\n#### Expected Results:\r\n\r\nAbsention of GitCenter permissions.", "parent_topic_uri": "1604062980_users_1Cy3ntkN2GN9MH6EaW6eHpi4YoRS2nK5Di", "added": 1602487364, "modified": 1603115300, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2637", "source_type": "github"}], "next_comment_id": 10, "comment": {"1604068027_mirrored_Folaht_github": [{"comment_id": 1, "body": "- With chromium and midori it just gets stuck at loading. So no loading at all there.\r\n- First time using Zeronet.\r\n\r\n127.0.0.1:43110/uimedia/all.js?rev=4206&lang=fr is empty\r\n\r\nhttp://127.0.0.1:43110/uimedia/all.js shows it's source code and an error in the console:\r\n\r\n\"The character encoding of a plain text document has not been declared. The document will be displayed with incorrect characters for some browser configurations if the document contains characters outside the US-ASCII range. The character encoding of the file must be declared in the transfer protocol or the file must use a byte order mark (BOM) as the encoding signature.\" all.js\r\n\r\nI've tried the following as well:\r\nBoth 127.0.0.1:43110/uimedia/all.js?rev=4206 source code\r\nBoth 127.0.0.1:43110/uimedia/all.js?lang=fr empty", "added": 1601963439, "modified": 1601967520, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2629#issuecomment-704127159", "source_type": "github"}, {"comment_id": 2, "body": "Is there a way to do that without having to resort to downloading the latest git version?\r\nI'm never too comfortable of having to go from 'application' to 'application-git' at package managers.\r\nGit versions make me feel like I'm some client that wants to use the newest feature of an app that hasn't been properly tested yet.\r\n\r\n[update]\r\n\r\ngit version works fine.", "added": 1601968003, "modified": 1601968486, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2629#issuecomment-704167954", "source_type": "github"}, {"comment_id": 3, "body": "\"Did you install ZeroNet from snap store?\"\r\nNo, AUR. ", "added": 1601975212, "modified": 1601975212, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2629#issuecomment-704223790", "source_type": "github"}], "1604068034_mirrored_Folaht_github": [{"comment_id": 4, "body": "Duplicate.", "added": 1602265948, "modified": 1602265948, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2633#issuecomment-706397431", "source_type": "github"}], "1604068036_mirrored_Folaht_github": [{"comment_id": 5, "body": "And....it's fixed without any rhyme or reason.", "added": 1602268192, "modified": 1602268192, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2634#issuecomment-706410656", "source_type": "github"}], "1604068040_mirrored_Folaht_github": [{"comment_id": 6, "body": "Okay, perhaps I have not clarified this correctly.\r\n\r\nI cloned GitCenter, because I want to build a seperate GitCenter for Safe Network projects.\r\n\r\nThus the projects I plan to host there will be exclusively Safe Network (non-Zeronet) projects \r\nuntil the Safe Network is launched with it's own GitCenter.\r\n\r\nI do not want to merge with Gitcenter and do not want to see Gitcenter's projects on my site in the index search.\r\nI exclusively want to see Safe Network Projects when one searches on the index page.\r\n\r\n`18r929Hq8hE5Pi9Zf7ovMQVyn3WcGfxMgu` is not a Safe Network project.\r\nIt's a GitCenter project.\r\n\r\nWhen I log what the MergerSitePlugin is doing,\r\nit is apparently collecting all mergersites and merged sites and then do a comparison.\r\n```\r\n[2020-10-12 00:03:20,427] WARNING MergerSite merged_db: {\r\n '18r929Hq8hE5Pi9Zf7ovMQVyn3WcGfxMgu': 'GitCenter', \r\n '1GLtW41usashxjPu2DPf5oAjkfJmzCzwep': 'ZeroSafe', \r\n '1MoonP8t4rk9QamBUPh5Aspkwa1Xhf5ux2': 'ZeroMe', \r\n '1P4w4Rvh4vS9r6G5xTiSh8qEW87EKZtnJB': 'GitCenter', \r\n '1RepoXU8bQE9m7ssNwL4nnxBnZVejHCc6': 'GitCenter', \r\n '1UDbADib99KE9d3qZ87NqJF2QLTHmMkoV': 'ZeroMe', \r\n '1iNDExENNBsfHc6SKmy1HaeasHhm3RPcL': 'GitCenter', \r\n '1indexPGZVWV1je4UKaJMUaq7qfANJFKE': 'ZeroSafe', \r\n '1repoxUzv9wqeNqm3V9hzPEa17UgFew2a': 'ZeroSafe'\r\n}\r\n[2020-10-12 00:03:20,428] WARNING MergerSite merger_db: \r\n{\r\n '1GitLiXB6t5r8vuU2zC6a8GYj9ME6HMQ4t': ['GitCenter'], \r\n '1MeFqFfFFGQfa1J3gJyYYUvb5Lksczq7nH': ['ZeroMe'], \r\n '1SafeQmarbvJizjmx4TNf4DfkqzV9rLPE': ['GitCenter', 'SafeNetwork', 'ZeroSafe']\r\n}\r\n```\r\n\r\nNowhere do I define that my main site `1SafeQmarbvJizjmx4TNf4DfkqzV9rLPE`\r\nis part of 'GitCenter', nor of 'SafeNetwork'.\r\n\r\nThis is stored at `sites.json` that I do not know where it gets it's data from.\r\nI'm assuming this is coming from a Zeronet database that I do not have access to.", "added": 1602503117, "modified": 1602504528, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2637#issuecomment-707164628", "source_type": "github"}, {"comment_id": 7, "body": "The latest, but I edited it to put a logger in.\r\nI'll reset the source code.\r\nIt's line 168 > 136 > 43", "added": 1602504686, "modified": 1602507548, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2637#issuecomment-707179272", "source_type": "github"}, {"comment_id": 8, "body": "Alright. I believe there's at least a hacky solution to this without altering zeronet's source code.\r\nJust add a \"merged_site\" on the content.json of one's site in order to remove the \"merger_site\" permission you want to get rid of, siteSign it, remove the \"merged_site\" line and siteSign it again.", "added": 1602766076, "modified": 1602766076, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2637#issuecomment-709416620", "source_type": "github"}, {"comment_id": 9, "body": "> @Folaht you could just copy the sites content to a new site you create with siteCreate, delete the old site and problem solved. This stupid merger thing is irritating me for a while already.\r\n\r\nThanks, but that is not necessary.\r\nI already provided a hacky solution in my previous post what one can do without having to resort to bulldozing your site and creating a new one from scratch, so people don't have to be punished for deciding to change the merger name.", "added": 1603115269, "modified": 1603115300, "source_link": "https://github.com/HelloZeroNet/ZeroNet/issues/2637#issuecomment-712293999", "source_type": "github"}]}}