/**
 * ojraskatzeronet v0.1.0
 * @author Otto J. Rask
 */
var app=app||{};app.PostCollection=app.OZNCollection.extend({idAttribute:"id",model:app.Post,urlRoot:void 0,dataFile:"/content/posts.json",data:void 0,initialize:function(t,o){"use strict";this.appinst=o.appinst,_.bindAll(this,"onNewPost","createPostLoop","createNewPostLoopView","getBySlug"),app.OZNCollection.prototype.initialize.call(this,t,o),this.on("add",this.onNewPost),this.appinst.on("loop_container_ready",this.createPostLoop)},onNewPost:function(t){"use strict";this.models.sort(),this.saveData(),this.allowPostsInLoop||this.createNewPostLoopView(t)},createPostLoop:function(t){"use strict";this.allowPostsInLoop=!0,_.each(this.models,function(t,o){if("published"===t.get("status")){new app.PostLoopItemView({model:t,appinst:this.appinst})}}.bind(this))},createNewPostLoopView:function(t){"use strict";new app.PostLoopItemView({model:t,appinst:this.appinst})},comparator:function(t){"use strict";var o=new Date(t.get("created_at"));return-o.getTime()},getBySlug:function(t){"use strict";return _.first(this.filter(function(o,e){return o.get("slug")==t?!0:!1}))},getHighestId:function(){"use strict";var t=_.sortBy(this.models,"id"),o=_.last(t);return o.get("id")}});