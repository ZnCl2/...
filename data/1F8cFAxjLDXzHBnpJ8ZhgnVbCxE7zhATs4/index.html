<!doctype html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>js-dos api</title>
  <style type="text/css">


	#divaround {
     height: 100%;
     white-space: nowrap;
     text-align: center;
    }


	#content {
      width: 640px;
      height: 400px;
      position: absolute;
	   left: 50%;
      top: 50%;
	     margin: -200px 0 0 -320px;
    }



    .dosbox-container {
      width: 640px;
      height: 400px;
    }

    .dosbox-container > .dosbox-overlay {
    
      width: 640px;
      height: 400px;
      position: absolute;
	    left: 50%;
      top: 50%;
	  margin: -240px 0 0 -320px;
    }


    .dosbox-start {
      font-size: 35px !important;
    }
  </style>
</head>

<body class="custom-background">
<div id="divaround">

<div style="background-color:black; color:white; text-align:left; float:left ; padding:5px">
<ul>
<li onclick="openGame('http://js-dos.com/cdn/digger.zip','./DIGGER.COM')" style="cursor:default">
 http://js-dos.com/cdn/digger.zip 
</li>
<li onclick="openGame('http://js-dos.com/cdn/alley_cat.zip','./CAT.EXE')" style="cursor:default">
http://js-dos.com/cdn/alley_cat.zip
</li>
</ul>
<div id="content">
  <div id="dosbox">
  </div>
  <button onclick="dosbox.requestFullScreen();">Make fullscreen</button>

  
  <script type="text/javascript" src="js-dos-api.js"></script>  
  <script type="text/javascript">  
  /*
        var dosbox = new Dosbox({
          id: "dosbox",
          onrun: function(dosbox, app) {
            console.log("App '" + app + "' is runned");
          }
        });  

        function openGame(zip,start)
        {
          dosbox.run(zip,start);
        }
    */  

   
    function openGame(zip,start)
    {      
         var dosbox = new Dosbox({
          id: "dosbox",
          onload: function(dosbox) {
            dosbox.run(zip, start);
          },
          onrun: function(dosbox, app) {
            console.log("App '" + app + "' is runned");
          }
        });        
    }

    var QueryString = function () {
      // This function is anonymous, is executed immediately and 
      // the return value is assigned to QueryString!
      var query_string = {};
      var query = window.location.search.substring(1);
      var vars = query.split("&");
      for (var i=0;i<vars.length;i++) {
        var pair = vars[i].split("=");
            // If first entry with this name
        if (typeof query_string[pair[0]] === "undefined") {
          query_string[pair[0]] = decodeURIComponent(pair[1]);
            // If second entry with this name
        } else if (typeof query_string[pair[0]] === "string") {
          var arr = [ query_string[pair[0]],decodeURIComponent(pair[1]) ];
          query_string[pair[0]] = arr;
            // If third or later entry with this name
        } else {
          query_string[pair[0]].push(decodeURIComponent(pair[1]));
        }
      } 
        return query_string;
    }();

    var zip = QueryString.zip;
    var start = QueryString.start;
    openGame(zip,start);

  </script>
</div>
</div>
</body>

</html>