<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>Hubzilla in der Dose (HiD)</title>
    <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/feed.xml" rel="self" />
    <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos" />
    <updated>2019-02-16T14:51:14+01:00</updated>
    <author>
        <name>PepeCyB</name>
    </author>
    <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos</id>

    <entry>
        <title>10 â€“ Administration</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/10-administration.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/10-administration.html</id>
            <category term="Raspberry Pi"/>
            <category term="Hubzilla"/>
            <category term="Administration"/>

        <updated>2019-02-09T23:51:50+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/11/" alt="" />
                     Der frisch gebackene Hub lÃ¤uftâ€¦ es gibt aber noch einige Dinge, die man einstellen sollte. Dazu ruft man in seinem Admin-Kanal den MenÃ¼punkt â€Administrationâ€œ auf. Nun werden die Wichtigsten Daten des Hub angezeigt: Wir rufen das UntermenÃ¼ â€Seiteâ€œ (Seitenleiste links) auf, um dort einige&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/11/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/11/nachbearbeiten.png" alt="nachbearbeiten" width="1280" height="794"></p>
<p>Der frisch gebackene Hub lÃ¤uftâ€¦ es gibt aber noch einige Dinge, die man einstellen sollte. Dazu ruft man in seinem Admin-Kanal den MenÃ¼punkt â€Administrationâ€œ auf.</p>
<p>Nun werden die Wichtigsten Daten des Hub angezeigt:</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/11/adm00.png" alt="adm00" width="1062" height="524"></p>
<p>Wir rufen das UntermenÃ¼ â€Seiteâ€œ (Seitenleiste links) auf, um dort einige Ã„nderungen vorzunehmen.</p>
<p>Wenn wir einen Ã¶ffentlich sichtbaren und ggf. nutzbaren Hub betreiben, sollten wir ihm einen â€sprechendenâ€œ Namen geben (bei â€Seitennameâ€œ eintragen), vielleicht noch ein â€Logoâ€œ mitgeben (als Text bei â€Banner/Logoâ€œ eintragen) und auch das Feld â€Administrator-Informationenâ€œ sinnvoll befÃ¼llen. Da ich fÃ¼r meinen Hub verantwortlich bin, habe ich dort, fast wie bei einem vereinfachten Impressum, meine Kontaktdaten inkl. eMail-Adresse eingetragen. Diese Informationen erscheinen bei Aufruf der Seite â€siteinfoâ€œ.</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/11/adm01.png" alt="adm01" width="1085" height="411"></p>
<p>Nun muss man sich Ã¼berlegen, ob man die Registrierung auf dem eigenen Hub erlaubt. Man sollte bedenken, dass mit der Zahl registrierter Konten auch die Last fÃ¼r den kleinen Raspi steigt und der Speicherplatzbedarf zunimmt. Eine vÃ¶llig freizÃ¼gige MÃ¶glichkeit zur Registrierung ist also nicht sinnvoll. Wenn man es trotzdem bestimmten Nutzern mÃ¶glich machen mÃ¶chte, ein Konto anzulegen, empfiehlt es sich, Registrierungen zu erlauben, aber den Eintrag â€Nur mit Einladungâ€œ auf â€Jaâ€œ zu stellen. Damit kann man den gewÃ¼nschten Nutzern einen Einladungscode geben, mit dem diese in der Lage sind, sich zu registrieren. Dabei aber immer im Hinterkopf behaltenâ€¦ unser Hub lÃ¤uft â€nurâ€œ auf einem Raspi. Ich habe, weil mein Hub frei im Internet verfÃ¼gbar sein soll, die Einstellung â€Meine Seite hat nur freien Zugriffâ€œ eingestellt. Je nach beabsichtigten Verwendungszweck kann man hier andere Einstellungen machen.</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/11/adm02.png" alt="adm02" width="769" height="483"></p>
<p>Der Unterpunkt â€Richtlinienâ€œ ist auch noch interessantâ€¦ â€E-Mail-Adressen Ã¼berprÃ¼fenâ€œ sollte man einschaltenâ€¦ na und hier seht Ihr, was ich bei meinem Hub dort fÃ¼r Einstellungen getroffen habe:</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/11/adm03.png" alt="adm03" width="768" height="583"></p>
<p>Bei â€Funktionenâ€œ und â€Addonsâ€œ trifft man eine Auswahl nach eigenem Geschmack. ğŸ˜‰</p>
<p>Um rechtlich â€sauberâ€œ mit seinem Hub daherzukommen, sollte man sich auch noch um die Nutzungsbedingungen und die DatenschutzerklÃ¤rung kÃ¼mmern.</p>
<p>Diese werden Ã¼ber die Datei â€doc/TermsOfService.md eingebunden, die zunÃ¤chst folgenden Inhalt hat:</p>
<pre class="wp-block-code"><code>Privacy Policy
==============

#include doc/gdpr1.md;


Terms of Service
================

#include doc/SiteTOS.md;</code></pre>
<p>Die DatenschutzerklÃ¤rung liegt in englischer Sprache als Datei â€gdpr1.mdâ€œ vor. Ich habe diese ErklÃ¤rung Ã¼bersetzt und wer mag, kann sich die Markdown-Datei mit dieser inoffiziellen Ãœbersetzung herunterladen: <a href="https://pepecyb.hu/files/gdpr1.md" >gdpr1.md</a><br>Die Datei â€doc/gdpr1.mdâ€œ ersetzt man einfach mit der gleichnamigen Ãœbersetzungâ€¦ schon ist die DatenschutzerklÃ¤rung in deutscher Sprache da.</p>
<p>Die Datei â€SiteTOS.mdâ€œ existiert nach der Hubzilla-Installation nichtâ€¦ die muss man sich selbst erstellen oder zusammenbauen. Hier die von mir verwendeten Nutzungsbedingungen ebenfalls zur freien VerfÃ¼gung: <a href="https://pepecyb.hu/files/SiteTOS.md" >SiteTOS.md</a></p>
<p>In dieser Datei die â€Platzhalterâ€œ</p>
<pre class="wp-block-code"><code>&lt;Name&gt;
&lt;Ort&gt;
&lt;eMail&gt;
&lt;Name der Seite&gt;
&lt;Anschrift&gt;</code></pre>
<p>mit den eigenen Angaben ersetzen, dann die Datei ins Verzeichnis â€docâ€œ auf dem Raspi kopierenâ€¦ und das warâ€˜s dann jetzt erstmal.</p>
<p>Nun steht an, dass ich mich in die Thematik der SpeicherplatzvergrÃ¶ÃŸerung einarbeite, und experimentiere. Wenn ich da eine gute LÃ¶sung gefunden habe, folgen hier weitere Teileâ€¦ aber jetzt bin ich erstmal feddichâ€¦ mit dem Hubzilla in der Dose.</p>
<p>Â </p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>9 â€“ Hubzilla installieren</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/9-hubzilla-installieren.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/9-hubzilla-installieren.html</id>
            <category term="Raspberry Pi"/>
            <category term="Hubzilla"/>

        <updated>2019-02-09T23:48:09+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/10/" alt="" />
                     Nach der ganzen Vorrede nun kurz und knapp die Installation von Hubzilla auf dem Raspi. Das ist keine groÃŸe Aktion, wenn der Server ordentlich konfiguriert ist. Als erstes erstellen wir uns die benÃ¶tigte Datenbank mit phpMyAdmin und merken uns den Namen. Als Encoding wÃ¤hlen&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/10/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/10/insthubzilla.png" alt="Install" width="1280" height="794"></p>
<p>Nach der ganzen Vorrede nun kurz und knapp die Installation von Hubzilla auf dem Raspi. Das ist keine groÃŸe Aktion, wenn der Server ordentlich konfiguriert ist.</p>
<p>Als erstes erstellen wir uns die benÃ¶tigte Datenbank mit phpMyAdmin und merken uns den Namen. Als Encoding wÃ¤hlen wir â€utf8mb4_unicode_ciâ€œ.</p>
<p>Wir wechseln in das Verzeichnis â€/var/wwwâ€œ</p>
<pre class="wp-block-code"><code>cd /var/www</code></pre>
<p>Nun stellen wir sicher, dass das dort eventuell vorhandene Verzeichnis â€htmlâ€œ leer ist und clonen uns mit git das Hubzilla-Repository:</p>
<pre class="wp-block-code"><code>git clone https://framagit.org/hubzilla/core.git html</code></pre>
<p>Das mÃ¼ssen wir anschlieÃŸend noch fÃ¼r die Addons erledigen:</p>
<pre class="wp-block-code"><code>cd html
git clone https://framagit.org/hubzilla/addons.git addon</code></pre>
<p>AnschlieÃŸend geht es im Webbrowser weiter. Wir rufen unsere, durch dDNS erreichbare Domain auf und die Installation beginnt. ZunÃ¤chst werden die Voraussetzungen fÃ¼r die Installation Ã¼berprÃ¼ft. Wenn wir den Raspi so vorbereitet haben, wie in den bisherigen Abschnitten beschrieben und wir auch an die Vermeidung der â€Fallstrickeâ€œ aus dem vorigen Abschnitt gedacht haben, sollte die PrÃ¼fung erfolgreich verlaufen. Der nÃ¤chste Schritt ist die Anbindung und Initialisierung der Datenbank.</p>
<p>Im Dialog der erscheint, lassen wir die EintrÃ¤ge fÃ¼r â€Datenbank-Servernameâ€œ und â€Datenbank-Portâ€œ unverÃ¤ndert. Bei Datenbank-Benutzername geben wir â€rootâ€œ ein und bei â€Datenbank-Kennwortâ€œ das Passwort fÃ¼r MySQL. SchlieÃŸlich noch den Namen der gerade erzeugten leeren Datenbank bei â€Datenbank-Nameâ€œ eingeben und kontrollieren, dass bei â€Datenbanktypâ€œ auch â€MySQLâ€œ ausgewÃ¤hlt ist. Nun auf BestÃ¤tigen klicken.</p>
<p>Jetzt erscheint ein Formular zum Anlegen des Hub-Administrators.</p>
<p>Bei â€E-Mail-Adresse des Seiten-Administratorsâ€œ geben wir eine gÃ¼ltige Mailadresse einâ€¦ Diese Adresse muss auch spÃ¤ter die Mail-Adresse des Zugangs/Kanals des Administrators sein, damit man Zugang zu den Admin-Funktionen hat.</p>
<p>Bei â€Server-URLâ€œ wird die dDNS-URL des Raspi eingetragen, â€Erweiterte Funktionen fÃ¼r Hubzilla aktivierenâ€œ sollte man auf â€Jaâ€œ setzen. SchlieÃŸlich noch die Auswahl der â€Sandart-Zeitzone fÃ¼r Deinen Serverâ€œ und anschlieÃŸend auf â€BestÃ¤tigenâ€œ klicken.</p>
<p>Bevor wir uns nun bei unserem Hub registrieren (zuerst fÃ¼r den Admin-Account), mÃ¼ssen wir nochmals zum Terminal greifen, um einen Cronjob anzulegen:</p>
<pre class="wp-block-code"><code>crontab -e</code></pre>
<p>Im Editor geben wir dann die Zeile</p>
<pre class="wp-block-code"><code>*/10 * * * * cd /var/www/html; /usr/bin/php Zotlabs/Daemon/Master.php Cron</code></pre>
<p>ein, speichern mit Ctrl-O und beenden den Editor mit Ctrl-X.</p>
<p>Ist das erledigt, geht es im noch offenen Browserfenster weiter. Hier klicken wir auf â€Go to your new hub registration pageâ€¦â€œ und wir landen bei der Registrierung.</p>
<p>Hier wÃ¤hlen wir als â€Ihre E-Mail Adresseâ€œ die Mailadresse, die wir gerade eben fÃ¼r die Hub-Installation eingegeben haben, denken uns ein gutes(!) Passwort aus, bestÃ¤tigen unser Alter (Ã¼ber 13), akzeptieren unsere Nutzungsbedingungen und klicken schlieÃŸlich auf â€Fortfahren und Deinen ersten Kanal anlegenâ€œ.</p>
<p>Nun wird uns mitgeteilt, dass wir auf die angegebene Mail-Adresse eine eMail erhalten haben, wo uns ein Sicherheitscode mitgeteilt wird, den wir eingeben mÃ¼ssen, bevor wir fortfahren kÃ¶nnen. Das erledigen wirâ€¦ und dann legen wir uns einen Kanal an. Hier halte ich es fÃ¼r sinnvoll, einen separaten neuen Kanal (mit passendem Namen) nur fÃ¼r Administrationszwecke anzulegen.</p>
<p>Jetzt haben wir im HauptmenÃ¼ oben links den Eintrag â€Administrationâ€œ von wo aus wir unseren Hub konfigurieren und administrieren kÃ¶nnen.</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/10/admin.png" alt="admin" width="282" height="250"></p>
<p>Im nÃ¤chsten Teil erlÃ¤utere ich einige â€“ in meinen Augen sinnvolle â€“ Einstellungen, Konfigurationen und erlÃ¤utere, wie man die Terms of Service Seite und die DatenschutzerklÃ¤rung einbaut bzw. Ã¤ndert.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>8 â€“ Installation von Hubzilla â€“ Fallstricke und Probleme</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/8-installation-von-hubzilla-fallstricke-und-probleme.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/8-installation-von-hubzilla-fallstricke-und-probleme.html</id>
            <category term="Raspberry Pi"/>
            <category term="Hubzilla"/>

        <updated>2019-02-09T23:46:38+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/9/" alt="" />
                     Wie â€angedrohtâ€œ hier zunÃ¤chst die Probleme, Ã¼ber die ich bei der Installation gestolpert binâ€¦ Das sind drei Komplexe: url_rewrite, das Verzeichnis â€store/[data]/smarty3â€œ und Rechte, Rechte, Rechte (nicht die politische Gesinnung, sondern Schreib- und Leserechte fÃ¼r die verschiedenen Verzeichnisse ğŸ˜‰ ğŸ˜€ ) Naâ€¦ dann mal&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/9/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/9/fallen.png" alt="Fallen" width="1280" height="794"></p>
<p>Wie â€angedrohtâ€œ hier zunÃ¤chst die Probleme, Ã¼ber die ich bei der Installation gestolpert binâ€¦</p>
<p>Das sind drei Komplexe: url_rewrite, das Verzeichnis â€store/[data]/smarty3â€œ und Rechte, Rechte, Rechte (nicht die politische Gesinnung, sondern Schreib- und Leserechte fÃ¼r die verschiedenen Verzeichnisse ğŸ˜‰ ğŸ˜€ )</p>
<p>Naâ€¦ dann mal ran, flott ins Verzeichnis â€/var/wwwâ€œ gewechselt und mit git Hubzilla gezogenâ€¦</p>
<p>NÃ¶Ã¶Ã¶Ã¶â€¦ als Benutzer â€piâ€œ geht das nichtâ€¦ also zum â€rootâ€œ gemachtâ€¦ nochmalâ€¦</p>
<p>NÃ¤chstes Gemecker: Das Verzeichnis html ist nicht leer!<br>Logisch, Apache hat ja seine Standard-Seite da hineingeschrieben.</p>
<p>Also das Verzeichnis html geleertâ€¦ Hubzilla gezogen, in html gewechselt und mit git noch die Addons nachgeholt.</p>
<p>Die leere Datenbank hatte ich schon angelegtâ€¦ dann am Rechner meinen Raspi aufgerufen (bei mir ja https://pepecyb.ddns.net) und gleich wieder ausgeschimpft worden.</p>
<p>Das Verzeichnis â€store/[data]/smarty3â€œ existiere nicht und/oder sei nicht beschreibbar. Komischâ€¦ das war mir bei meinen diversen Probe-Installationen bei Uberspace nicht passiertâ€¦ das Verzeichnis befindet sich nicht im Git-Repository, war nach der Installationsroutine aber dann immer vorhanden und beschreibbar.</p>
<p>Okâ€¦ kann man ja anlegen:</p>
<pre class="wp-block-code"><code>mkdir -p "store/[data]/smarty3"
chmod -R 777 store</code></pre>
<p>Nun blieb die Fehlermeldung aus. Was mir auffiel: es rÃ¶delte und rÃ¶delteâ€¦ dann irgendwann erschien die Seite mit den Systemchecks. Und zeigte den nÃ¤chsten Fehler an.</p>
<p>Url rewrite funktioniert nicht! Hmmmâ€¦ ob das Modul nicht aktiviert ist?</p>
<pre class="wp-block-code"><code>sudo a2enmod rewrite</code></pre>
<p>und zur Sicherheit gleich noch</p>
<pre class="wp-block-code"><code>sudo a2enmod actions</code></pre>
<p>nachgeschoben, falls das auch nicht aktiviert sein sollte.</p>
<p>NÃ¤chster Versuchâ€¦ Waaaartezeitâ€¦ und wieder:</p>
<p>Url rewrite funktioniert nicht!</p>
<p>Seltsam! Ein Aufruf von phpinfo.php behauptete das Gegenteilâ€¦ url_rewrite ist geladen.</p>
<p>Und warum funktioniert das jetzt nicht? Ich habe mich wie ein Ochse durch verschiedenste Anleitungen aus dem Internet gewÃ¼hlt und stolperte immer wieder Ã¼ber â€AllowOverride Allâ€œ. Und tatsÃ¤chlichâ€¦ in der Datei â€/etc/apache2/apache2.confâ€œ war das nicht gesetzt. Das ist aber erforderlich dass die lokale .htaccess genutzt werden kann.</p>
<p>Danach war das Problem Vergangenheit.</p>
<p>Ich hatte zwischendurch das Verzeichnis â€htmlâ€œ noch einmal geleert und neu gezogen. Dabei habe ich vergessen, das Verzeichnis â€store/[data]/smarty3â€œ anzulegen, aber die Rechte fÃ¼r /var/www/html neu gesetzt:</p>
<pre class="wp-block-code"><code>sudo chmod -R 770 /var/www/html/</code></pre>
<p>Obwohl ich also â€storeâ€œ nicht angelegt hatte, lief die Installation aber trotzdem durch und das Verzeichnis wurde automatisch fÃ¼r mich angelegt. Lag also wohl an den Verzeichnisrechten.</p>
<p>Noch ein Tipp zu Rechtenâ€¦ Das Verzeichnis war nach der Installation von Apache dem Benutzer â€rootâ€œ und auch der Gruppe â€rootâ€œ zugeordnet. Ich habe das geÃ¤ndert und die Gruppe â€www-dataâ€œ zugewiesen:</p>
<pre class="wp-block-code"><code>sudo chown -R root:www-data /var/www/html/</code></pre>
<p>Der Benutzer â€piâ€œ war auÃŸerdem nicht in der Gruppe â€www-dataâ€œ, was ich aus GrÃ¼nden der Bequemlichkeit auch noch erledigt habe:</p>
<pre class="wp-block-code"><code>sudo usermod -aG www-data pi</code></pre>
<p>Das klingt jetzt so, als wÃ¤re das kein groÃŸes Ding, aber die Suche nach den Fehlerquellen und das Finden der (eigentlich simplen) LÃ¶sungen hat zwei volle Tage gefressen.</p>
<p class="has-text-color">Hier die Zusammenfassung:</p>
<ol>
<li>Vor dem git-clone von Hubzilla, die Standard-Dateien, die von Apache angelegt wurden, aus dem Verzeichnis â€/var/www/htmlâ€œ entfernen.</li>
<li>Die Rechte fÃ¼r das Verzeichnis setzen: sudo chmod -R 770 /var/www/html/</li>
<li>Sicherheitshalber: sudo a2enmod rewrite; sudo a2enmod actions ausfÃ¼hren.</li>
<li>In der Datei â€/etc/apache2/apache2.confâ€œ Ã¼berall AllowOverride All setzen.</li>
<li>sudo chown -R root:www-data /var/www/html/</li>
<li>sudo usermod -aG www-data pi</li>
</ol>
<p>Und nun folgt im nÃ¤chsten Teil die Beschreibung der Installation.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>7 â€“ SSL-Zertifikat mit Letâ€˜s Encrypt</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/7-ssl-zertifikat-mit-lets-encrypt.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/7-ssl-zertifikat-mit-lets-encrypt.html</id>
            <category term="Raspberry Pi"/>
            <category term="Letâ€˜s Encrypt"/>
            <category term="Hubzilla"/>

        <updated>2019-02-09T23:45:32+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/8/" alt="" />
                     Nun fehlt nur noch ein Zertifikat, damit unser Hubzilla in der Dose per https erreicht werden kann. Gerade bei Diensten, wo teilweise sensible Daten Ã¼bertragen werden, ist eine VerschlÃ¼sselung dieser wichtig und absolut notwendig. Dank Letâ€˜s Encrypt ist es ja nun mÃ¶glich, kostenlose Zertifikate&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/8/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/8/letsencrypt.png" alt="letsencrypt" width="1280" height="794"></p>
<p>Nun fehlt nur noch ein Zertifikat, damit unser Hubzilla in der Dose per https erreicht werden kann. Gerade bei Diensten, wo teilweise sensible Daten Ã¼bertragen werden, ist eine VerschlÃ¼sselung dieser wichtig und absolut notwendig.</p>
<p>Dank Letâ€˜s Encrypt ist es ja nun mÃ¶glich, kostenlose Zertifikate zu erstellen und zu verwenden, die von fast allen Webbrowsern anerkannt werden.</p>
<h3 id="mcetoc_1d3a6v9cg0"><span id="Lets_Encrypt">Letâ€˜s Encrypt</span></h3>
<p><a rel="external noopener noreferrer" aria-label="Letâ€˜s Encrypt (Ã¶ffnet in neuem Tab)" href="https://letsencrypt.org/" target="_blank" >Letâ€˜s Encrypt</a> installieren wir uns am besten via git. Sollte git beim verwendeten Raspbian noch nicht installiert sein (unwahrscheinlich), muss das rasch nachgeholt werden:</p>
<pre class="wp-block-code"><code>sudo apt-get install git</code></pre>
<p>Da wir in der Konfiguration von Apache â€herumpfuschenâ€œ, sollten wir Apache erst einmal stoppen:</p>
<pre class="wp-block-code"><code>sudo systemctl stop apache2</code></pre>
<p>Nun wechseln wir in unser Home-Verzeichnis und ziehen uns Letâ€˜s Encrypt:</p>
<pre class="wp-block-code"><code>git clone https://github.com/letsencrypt/letsencrypt</code></pre>
<p>Jetzt wechseln wir in das Verzeichnis â€letsencryptâ€œ:</p>
<pre class="wp-block-code"><code>cd letsencrypt</code></pre>
<p>FÃ¼r die Erzeugung und Installation des Zertifikats brauchen wir einmal die Domain (&lt;domain&gt;), fÃ¼r welche das Zertifikat erstellt werden soll, sowie eine funktionierende Mail-Adresse (&lt;email-adesse&gt;). Das Erstellen des Zertifikats erfolgt nun mit:</p>
<pre class="wp-block-code"><code>./letsencrypt-auto -d &lt;domain&gt; --redirect -m &lt;email-adresse&gt; --apache</code></pre>
<p>Der Parameter â€â€“redirectâ€œ sorgt dafÃ¼r, dass http-Zugriffe auf https umgeleitet werden, â€â€“apacheâ€œ sorgt dafÃ¼r, dass das Zertifikat gleich korrekt fÃ¼r die Nutzung mit dem Apache-Webserver konfiguriert wird.</p>
<p>Nun die Nutzungsbedingungen lesen und akzeptieren. Fertig!</p>
<p>Da Letâ€˜s Encrypt Zertifikate eine GÃ¼ltigkeitsdauer von drei Monaten haben, mÃ¼ssen wir darauf achten, das Zertifikat rechtzeitig zu erneuern. Das Erneuern funktioniert mit:</p>
<pre class="wp-block-code"><code>./letsencrypt-auto -d &lt;domain&gt; --redirect -m &lt;email-adresse&gt; --agree-tos --renew-by-default</code></pre>
<p>Damit wir nicht stÃ¤ndig daran denken mÃ¼ssen, das Zertifikat rechtzeitig zu erneuern, lassen wir das von einem Cronjob erledigenâ€¦</p>
<pre class="wp-block-code"><code>sudo crontab -e</code></pre>
<p>.</p>
<pre class="wp-block-code"><code>0 2 1 * * /home/pi/letsencrypt/letsencrypt-auto -d &lt;domain&gt; --redirect -m &lt;email-adresse&gt; --agree-tos --renew-by-default</code></pre>
<p>Damit wird das Zertifikat an jedem Monatsersten um 2 Uhr in der Nacht automatisch erneuert.</p>
<p>Jetzt schnell noch Apache neu starten:</p>
<pre class="wp-block-code"><code>sudo systemctl start apache2</code></pre>
<p>Rufen wir nun vom Rechner aus https://&lt;domain&gt; auf, sollte wieder die Apache-Standardseite angezeigt werdenâ€¦ und der Browser zeigt Euch (hoffentlich), dass es sich um eine â€sichere Verbindungâ€œ handelt.</p>
<p>Der nÃ¤chste Schritt ist nun schon die Installation von Hubzillaâ€¦ wobei ich das in zwei Teile unterteile. Zuerst schildere ich die Probleme und Fallstricke, die mir begegnet sindâ€¦ und wie man die Probleme lÃ¶sen kannâ€¦ und im zweiten Teil beschreibe ich die einzelnen Schritte, um Hubzilla zu installieren und in Betrieb zu nehmen.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>6 â€“ dynamisches DNS</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/6-dynamisches-dns.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/6-dynamisches-dns.html</id>
            <category term="dDNS"/>
            <category term="Raspberry Pi"/>
            <category term="Hubzilla"/>

        <updated>2019-02-09T23:44:32+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/7/" alt="" />
                     Damit der Raspi im Internet erreichbar ist, benÃ¶tigt man eine Domain. Damit man Ã¼ber eine Domain einen Webserver erreicht, muss die Domain in einem DNS-Server eingetragen sein, wo der Domain die entsprechende IP-Adresse des Servers zugewiesen wird. Nun soll der Hubzilla-Raspi ja zu Hause&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/7/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/7/ddns.png" alt="dDNS" width="1280" height="794"></p>
<p>Damit der Raspi im Internet erreichbar ist, benÃ¶tigt man eine Domain. Damit man Ã¼ber eine Domain einen Webserver erreicht, muss die Domain in einem DNS-Server eingetragen sein, wo der Domain die entsprechende IP-Adresse des Servers zugewiesen wird.</p>
<p>Nun soll der Hubzilla-Raspi ja zu Hause stehenâ€¦ er hÃ¤ngt also am Router und ist Ã¼ber den Zugang des Internet-Providers mit dem Internet verbunden. Er hat also eine eindeutige IPâ€¦ nurâ€¦ die Ã¤ndert sich Ã¶fter. Internet-Provider teilen ihren Kunden wechselnde IP zu (einige Provider bieten eine feste IPâ€¦ das kostet aber ordentlich). Wird der Internet-Zugang getrennt (z.B. bei einem Router-Reset, nach einem Stromausfall oder einer sonstigen Trennung vom Netz) und verbindet sich wieder, dann erhÃ¤lt man eine zufÃ¤llige IP aus dem Fundus des Providers. AuÃŸerdem gibt es bei den meisten Providern eine tÃ¤gliche routinemÃ¤ÃŸige Trennung vom Netz, die auch fÃ¼r eine neue IP sorgt. Ein Eintrag der IP bei einem DNS-Server hÃ¤tte also eine ausgesprochen kurze â€Haltbarkeitâ€œ und Aufrufe der Domain wÃ¼rden regelmÃ¤ÃŸig ins Leere laufen.</p>
<p>Ein Eintrag bei einem DNS-Service ist also nicht sinnvoll.</p>
<h3 id="mcetoc_1d3a6tild0"><span id="dDNS">dDNS</span></h3>
<p>FÃ¼r diesen Anwendungsfall gibt es aber dynamisch DNS-Dienste, die genau dieses Problem lÃ¶sen. Hier wird die Domain automatisch auf die neue IP â€umgebogenâ€œ, wenn sie sich Ã¤ndert. Bekannte Dienste dieser Art sind z.B. <a rel="external noopener noreferrer" aria-label="DynDNS Service (Ã¶ffnet in neuem Tab)" href="http://www.dyndnss.net/updater.php" target="_blank" >DynDNS Service</a>, <a rel="external noopener noreferrer" aria-label="DNSdynamic (Ã¶ffnet in neuem Tab)" href="https://www.dnsdynamic.org/" target="_blank" >DNSdynamic</a>, <a rel="external noopener noreferrer" aria-label="No-IP (Ã¶ffnet in neuem Tab)" href="https://www.noip.com/remote-access" target="_blank" >No-IP</a>, <a rel="external noopener noreferrer" aria-label="Securepoint DynDNS (Ã¶ffnet in neuem Tab)" href="http://www.securepoint.de/produkte/utm-firewalls/securepoint-dyndns.html" target="_blank" >Securepoint DynDNS</a>, <a href="http://clickip.de/" target="_blank" rel="external noopener noreferrer" aria-label="clickIP (Ã¶ffnet in neuem Tab)" >clickIP</a>â€¦</p>
<p>Ich nutze No-IP. Hier gibt es einen kostenlosen Dienst, der auf drei Hostnamen bei eingeschrÃ¤nkter Domainauswahl beschrÃ¤nkt ist und alle 30 Tage eine â€Auffrischungâ€œ des Accounts erforderlich macht (man erhÃ¤lt eine eMail-Benachrichtigung). FÃ¼r gut 21 â‚¬ im Jahr (also keine zwei Euro im Monat) bekommt man da aber auch den Enhanced Dynamic DNS Dienst, der Ã¼ber 25 Hostnamen bei Ã¼ber 80 Domains bietet und keine â€Auffrischungâ€œ erforderlich macht. Ich habe mich fÃ¼r den kostenpflichtigen Dienst entschieden, aber auch der kostenlose Service ist eigentlich vÃ¶llig ausreichend, solange man sich nicht an der regelmÃ¤ÃŸigen Reaktivierung stÃ¶rt und man mit drei Hostnamen auskommt.</p>
<p>Hat man sich also z.B. bei No-IP angemeldet und einen DNS-Host (A) registriert, muss man seinen Router noch fÃ¼r diesen dDNS-Dienst konfigurieren. Wie das geht, hÃ¤ngt vom Router ab. Viele Router verfÃ¼gen Ã¼ber vorkonfigurierte Einstellungen der gÃ¤ngigsten dDNS-Diensteâ€¦ No-IP ist in der Regel dabei.</p>
<p>Meine Domain fÃ¼r den Hub ist pepecyb.ddns.net. Im Router musste ich nun die Provider-URL (in meinem Fall also http://www.no-ip.com), meinen Benutzernamen (bei No-IP), das Passwort und meinen Hostnamen eingeben (also pepecyb.ddns.net).</p>
<p>Damit der Apache Webserver auch von AuÃŸen erreichbar ist, mÃ¼ssen im Router auch noch Portweiterleitungen fÃ¼r die interne IP des Raspberry mit den Ports 80 und 443 (wir richten ja ein SSL-Zertifikat mit Letâ€˜s Encrypt ein) eingerichtet werden. Auch das ist von Router zu Router unterschiedlichâ€¦ man findet aber fÃ¼r nahezu jedes Modell Anleitungen im Internet. AuÃŸerdem muss man ggf., wenn der Router eine Firewall betreibt, auch noch eine DMZ fÃ¼r die interne IP der Raspberry aktivierenâ€¦ auch das hÃ¤ngt vom Router ab.</p>
<p>Ist das erledigt, sollte bei Aufruf der URL der dDNS-Domain (bei mir http://pepecyb.ddns.net) nun die Standard-Seite des ja bereits laufenden Apache-Webservers erscheinen. GlÃ¼ckwunschâ€¦ der Raspi ist im Internet. ğŸ˜‰</p>
<p>Als nÃ¤chstes erzeugen wir uns mit Letâ€˜s Encrypt ein SSl-Zertifikat und richten es ein.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>5 â€“ eMail-FunktionalitÃ¤t</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/5-email-funktionalitat.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/5-email-funktionalitat.html</id>
            <category term="postfix"/>
            <category term="eMail"/>
            <category term="Raspberry Pi"/>
            <category term="Hubzilla"/>

        <updated>2019-02-09T23:43:40+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/6/" alt="" />
                     Damit der Hub spÃ¤ter in der Lage ist (ist zwingend notwendig), eMails zu versenden, mÃ¼ssen wir dem Raspi zu dieser FÃ¤higkeit verhelfen. Man kÃ¶nnte nun einen vollwertigen Mailserver aufsetzenâ€¦ aber das wÃ¤re mit Kanonen auf Spatzen geschossen, denn es muss letztlich nur mÃ¶glich sein,&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/6/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/6/postfix.png" alt="eMail" width="1280" height="794"></p>
<p>Damit der Hub spÃ¤ter in der Lage ist (ist zwingend notwendig), eMails zu versenden, mÃ¼ssen wir dem Raspi zu dieser FÃ¤higkeit verhelfen. Man kÃ¶nnte nun einen vollwertigen Mailserver aufsetzenâ€¦ aber das wÃ¤re mit Kanonen auf Spatzen geschossen, denn es muss letztlich nur mÃ¶glich sein, eMails per PHP zu versendenâ€¦ ein Mail-Empfang ist nicht erforderlich. Wenn man Ã¼ber einen Mail-Account verfÃ¼gt (ob selbst gehostet oder bei einem Mail-Provider), dann kann man den Raspi so einrichten, dass er eMails Ã¼ber diesen Mailserver sendet. FÃ¼r diese FunktionalitÃ¤t gibt es mehrere MÃ¶glichkeitenâ€¦ z.B. <a href="https://packages.qa.debian.org/s/ssmtp.html" target="_blank" rel="external noopener noreferrer" aria-label="ssmtp (Ã¶ffnet in neuem Tab)" >ssmtp</a> oder <a rel="external noopener noreferrer" aria-label="postfix (Ã¶ffnet in neuem Tab)" href="http://www.postfix.org/" target="_blank" >postfix</a>.</p>
<p>ssmtp klang fÃ¼r mich zunÃ¤chst â€einfacherâ€œ oder â€leichtgewichtigerâ€œ (postfix klingt dann doch eher wieder nach echtem, fetten Mailserver), weshalb ich es damit versucht habe. Ich erlÃ¤utere hier jetzt aber nicht die Installation und die Konfiguration, weil ich daran nach etlichen Stunden endgÃ¼ltig gescheitert bin. Es wollte mir partout nicht gelingen, ssmtp so zu konfigurieren, dass es mit dem Mail-Account meines Hosting-Providers zusammenarbeiten wollte. Sucht man im Netz nach LÃ¶sungen, so findet man meist Beispiele fÃ¼r das Zusammenspiel mir einer gmail- oder GMX-Mailadressen. Da ich aus meinem Internet-Mittelalter noch brachliegende und ungenutzte Mail-Accounts sowohl beim Gockel, als auch bei GMX hatte, habe ich es auch â€“ nur zum Ausprobieren â€“ mit beiden getestetâ€¦ ebenfalls vergeblich. Die Dokumentation von ssmtp istâ€¦ vorsichtig und nett ausgedrÃ¼cktâ€¦ suboptimalâ€¦ Versuche mit verschiedenen Konfigurationen fÃ¼hrten entweder dazu, dass der Mailserver gar nicht erreicht wurde oder dass das Login an vermeintlich â€falschen Logindatenâ€œ scheiterte. Und das fÃ¼r alle Accounts, die ich probiert habe. Ich habe etliche Stunden mit den Konfigurationsdateien herumexperimentiert und im Netz recherchiertâ€¦ und dann irgendwann aufgegeben.</p>
<p>Da postfix eine vergleichbare FunktionalitÃ¤t bietet habe ich ssmtp dann vom Raspi geschmissen und es mit postfix probiert. HÃ¤tte ich gleich machen sollen, denn die Dokumentation ist vorbildlich, die Einrichtung einfachâ€¦ nach wenigen Minuten gelang es mir, Mail Ã¼ber den Mailaccount meines Hosting-Providers zu versenden.</p>
<p>Hier also die â€Anleitungâ€œ fÃ¼r die Postfix-LÃ¶sungâ€¦</p>
<p>Die Postfix-Installation erfolgt mit</p>
<pre class="wp-block-code"><code>apt-get install postfix</code></pre>
<p>Das Konfigurationsskript fragt nun nach dem Anwendungszweckâ€¦ hier wÃ¤hlt man â€Sattelitensystemâ€œ (â€Satellite Systemâ€œ), womit keine Mails empfangen werden, aber Mails Ã¼ber einen Smart-Host versendet werden kÃ¶nnen.</p>
<p>Nun muss die Datei â€/etc/postfix/main.cfâ€œ angepasst werdenâ€¦</p>
<pre class="wp-block-code"><code>nano /etc/postfix/main.cf</code></pre>
<p>Hier sind folgende EintrÃ¤ge wichtig:</p>
<pre class="wp-block-code"><code>relayhost = &lt;entfernter_mailserver&gt;:&lt;port&gt;
mail_owner = postfix
setgid_group = postdrop
mtp_sasl_auth_enable=yes
smtp_sasl_password_maps=hash:/etc/postfix/sasl_passwd
smtp_sasl_security_options=</code></pre>
<p>Bei â€relayhostâ€œ mÃ¼sst Ihr den Mailhost Eures Mail-Providers und den Port fÃ¼r SMTP-Mailversand eingeben.</p>
<p>Nun muss noch die Passwort-Datei angelegt werden:</p>
<pre class="wp-block-code"><code>nano /etc/postfix/sasl_passwd</code></pre>
<p>Hier werden die Zugangsdaten eingetragenâ€¦</p>
<pre class="wp-block-code"><code>entfernter_mailrerver&gt;:&lt;port&gt; &lt;loginname&gt;:&lt;passwort&gt;</code></pre>
<p>Nun die Passwortdatei gegen unberechtigten Zugriff sichern:</p>
<pre class="wp-block-code"><code>chmod 600 /etc/postfix/sasl_passwd</code></pre>
<p>Und schlieÃŸlich die Benutzen-Datenbank mit</p>
<pre class="wp-block-code"><code>postmap hash:/etc/postfix/sasl_passwd</code></pre>
<p>erzeugen. Jetzt nur noch postfix neu startenâ€¦</p>
<pre class="wp-block-code"><code>systemctl restart postfix</code></pre>
<p>Damit sollte der Mailversand auch schon klappen. Ausprobieren kann man es mit</p>
<pre class="wp-block-code"><code>echo â€Testmailâ€œ | mail -s â€Test Mailâ€œ &lt;mailadresse&gt;</code></pre>
<p>Falls etwas nicht klappt, sollte man in den Dateien â€/var/log/mail.errâ€œ und â€/var/log/mail.logâ€œ nachschauen.</p>
<p>Als nÃ¤chstes sollte der Raspi jetzt â€im Internet bekannt gemacht werdenâ€œâ€¦ soll heiÃŸen, wir brauchen eine Domain, damit der Raspi von Ã¼berall erreicht werden kann, ohne die IP zu kennenâ€¦ das geschieht zuhause, wo man von seinem Internet-Provider regelmÃ¤ÃŸig andere IP zugewiesen bekommt, mit dynamischem DNS (dDNS). Wie das funktioniertâ€¦ folgt im nÃ¤chsten Abschnitt.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>4 â€“ Datenbank: MySQL und phpMyAdmin</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/4-datenbank-mysql-und-phpmyadmin.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/4-datenbank-mysql-und-phpmyadmin.html</id>
            <category term="phpMyAdmin"/>
            <category term="Raspberry Pi"/>
            <category term="MySQL"/>
            <category term="Hubzilla"/>

        <updated>2019-02-16T14:50:34+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/5/" alt="" />
                     FÃ¼r den Betrieb von Hubzilla benÃ¶tigt man eine Datenbank. Es kÃ¶nnen MySQL, MariaDB oder postgres zum Einsatz kommen. Ich habe mich fÃ¼r MySQL entschiedenâ€¦ das ist quasi wieder der â€Standardâ€œ bei Hubzilla. MySQL ist schnell installiert sudo apt-get install mysql-server mysql-clientâ€¦muss dann aber noch&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/5/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/5/mysql.png" alt="mySQL" width="1280" height="794"></p>
<p>FÃ¼r den Betrieb von Hubzilla benÃ¶tigt man eine Datenbank. Es kÃ¶nnen MySQL, MariaDB oder postgres zum Einsatz kommen. Ich habe mich fÃ¼r <a href="https://www.mysql.com/" target="_blank" rel="external noopener noreferrer" aria-label="MySQL (Ã¶ffnet in neuem Tab)" >MySQL</a> entschiedenâ€¦ das ist quasi wieder der â€Standardâ€œ bei Hubzilla.</p>
<h3 id="mcetoc_1d3a6n97p0"><span id="MySQL">MySQL</span></h3>
<p>MySQL ist schnell installiert</p>
<pre class="wp-block-code"><code>sudo apt-get install mysql-server mysql-client</code></pre>
<p>â€¦muss dann aber noch konfiguriert werden:</p>
<pre class="wp-block-code"><code>sudo mysql_secure_installation</code></pre>
<p>Nach Eingabe dieses Kommandos folgen einige Fragen:</p>
<ol>
<li>Abfrage des aktuellen Passworts fÃ¼r den DB-Benutzer â€rootâ€œ. Da wir noch keines vergeben haben, einfach â€enterâ€œ drÃ¼cken.</li>
<li>Set root password? [Y/n] Antwort: â€Yâ€œ Hier sollte nun ein gutes(!) Passwort gewÃ¤hlt werden, um den Datenbankzugriff abzusichern.</li>
<li>Remove anonymous users? [Y/n] Antwort: â€Yâ€œ Wir wollen keinen anonymen Benutzer.</li>
<li>Disallow root login remotely? [Y/n] Antwort: â€Nâ€œ Ein Remote-login in die Datenbank muss mÃ¶glich sein.</li>
<li>Remove test database and access to it? [Y/n] Antwort: â€Nâ€œ Die Testdatenbank sollte erhalten bleiben.</li>
<li>Reload privilege tables now? [Y/n] Antwort: â€Yâ€œ Damit werden die getroffenen Einstellungen sofort aktiviert.</li>
</ol>
<p>Die Installation von MySQL ist damit abgeschlossen.</p>
<h3 id="mcetoc_1d3a6n97p1"><span id="phpMyAdmin">phpMyAdmin</span></h3>
<p>Um auch vom Rechner aus komfortabel mit der Datenbank umgehen zu kÃ¶nnen, empfiehlt sich die Installation von <a href="https://www.phpmyadmin.net/" target="_blank" rel="external noopener noreferrer" aria-label="phpMyAdmin (Ã¶ffnet in neuem Tab)" >phpMyAdmin</a>, einer WeboberflÃ¤che fÃ¼r die Datenbankverwaltung. Die Installation erfolgt mit</p>
<pre class="wp-block-code"><code>sudo apt-get install php-mysql libapache2-mod-auth-mysql phpmyadmin</code></pre>
<p>In der folgenden Konfiguration wÃ¤hlen wir als Webserver â€apache2â€œ.</p>
<p>Nun folgt die Frage, ob benÃ¶tigte Datenbanken erzeugt werden sollen. Das bestÃ¤tigen wir.</p>
<p>Das Konfigurations-Skript fragt nun nach dem root-Passwort, das wir bei Installation von MySQL vergeben haben.</p>
<p>SchlieÃŸlich wird noch ein Passwort gewÃ¤hlt, das zum einloggen bei phpMyAdmin verwendet werden soll. Nach Eingabe und BestÃ¤tigung ist die Installation erledigt.</p>
<p>Apache2 muss nun noch mit phpMyAdmin â€verknÃ¼pftâ€œ werden. Dazu editiert man die Datei â€/etc/apache2/apache2.confâ€œ:</p>
<pre class="wp-block-code"><code>sudo nano /etc/apache2/apache2.conf</code></pre>
<p>und fÃ¼gt ganz am Ende der Datei</p>
<pre class="wp-block-code"><code>Include /etc/phpmyadmin/apache.conf</code></pre>
<p>an.</p>
<p>AnschlieÃŸend Apache2 neu starten:</p>
<pre class="wp-block-code"><code>/etc/init.d/apache2 restart</code></pre>
<p>Gibt man nun wieder die IP des Raspi, gefolgt von â€phpmyadminâ€œ ein, also z.B.</p>
<pre class="wp-block-code"><code>http://192.168.1.6/phpmyadmin/</code></pre>
<p>erscheint die Loginseite, wo man sich als Benutzer â€rootâ€œ und dem soeben vergebenen Passwort einloggen kann und in der DB-Verwaltung landet.</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/5/phpmyadmin.png" alt="phpMyAdmin" width="397" height="526"></p>
<p>Die Datenbank ist also auch vorbereitetâ€¦ als nÃ¤chstes folgt die Einrichtung der Mail-FunktionalitÃ¤t.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>3 â€“ Apache Webserver und PHP</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/3-apache-webserver-und-php.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/3-apache-webserver-und-php.html</id>
            <category term="Raspberry Pi"/>
            <category term="PHP"/>
            <category term="Hubzilla"/>
            <category term="Apache"/>

        <updated>2019-02-16T14:50:01+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/4/" alt="" />
                     FÃ¼r Hubzilla braucht es einen Webserver. Hubzilla lÃ¤uft mit Apache, Nginx und soll auch schon mit lighttpd zum Laufen gebracht worden sein. Die Nutzung von Apache ist allerdings am besten dokumentiert, weshalb sich dieser Webserver anbietet. FÃ¼r die Installation muss man lediglich sudo apt-get&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/4/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/4/apachephp.png" alt="Apache" width="1280" height="794"></p>
<p>FÃ¼r Hubzilla braucht es einen Webserver. Hubzilla lÃ¤uft mit <a rel="external noopener noreferrer" aria-label="Apache (Ã¶ffnet in neuem Tab)" href="https://www.apache.org/" target="_blank" >Apache</a>, <a rel="external noopener noreferrer" aria-label="Nginx (Ã¶ffnet in neuem Tab)" href="https://nginx.org/" target="_blank" >Nginx</a> und soll auch schon mit <a href="https://www.lighttpd.net/" target="_blank" rel="external noopener noreferrer" aria-label="lighttpd (Ã¶ffnet in neuem Tab)" >lighttpd</a> zum Laufen gebracht worden sein. Die Nutzung von Apache ist allerdings am besten dokumentiert, weshalb sich dieser Webserver anbietet.</p>
<h3 id="mcetoc_1d3a6j4jf0"><span id="Apache">Apache</span></h3>
<p>FÃ¼r die Installation muss man lediglich</p>
<pre class="wp-block-code"><code>sudo apt-get install apache2</code></pre>
<p>eingeben.</p>
<p>Ist die Installation erfolgt, kann man im Webbrowser am Rechner einmal die IP des Raspi eingebenâ€¦ also beispielsweise http://192.168.1.6</p>
<p>Es sollte dann die Standardseite von Apache angezeigt werden:</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/4/apache2.png" alt="Apache2" width="795" height="632"></p>
<p>Das Verzeichnis fÃ¼r Webinhalte, die Apache â€serviertâ€œ ist â€/var/www/htmlâ€œ.</p>
<h3 id="mcetoc_1d3a6kbde1"><span id="PHP">PHP</span></h3>
<p>Hubzilla benÃ¶tigt auÃŸerdem <a href="https://php.net/" target="_blank" rel="external noopener noreferrer" aria-label="PHP (Ã¶ffnet in neuem Tab)" >PHP</a> (und MySQL). Die Installation ist wiederum sehr einfach:</p>
<pre class="wp-block-code"><code>sudo apt-get install php php-mysql</code></pre>
<p>Ob PHP richtig lÃ¤uft, kann man sich anzeigen lassen, indem man eine Datei â€phpinfo.phpâ€œ im Verzeichnis â€/var/www/htmlâ€œ erzeugt:</p>
<pre class="wp-block-code"><code>sudo nano /var/www/html/phpinfo.php</code></pre>
<p>Die Datei muss folgenden Inhalt haben:</p>
<pre class="wp-block-code"><code>&lt;?php
 phpinfo();
?&gt;</code></pre>
<p>Ruft man nun wieder die IP des Raspi auf und hÃ¤ngt â€phpinfo.phpâ€œ an, sollte die Informationsseite von PHP angezeigt werden. BenÃ¶tigt wird auch das Modul â€php-dbâ€œ, das noch installiert werden muss:</p>
<pre class="wp-block-code"><code>sudo apt-get install php-db</code></pre>
<p>In der Standard-Konfiguration erlaubt PHP den Upload von Dateien mit einer MaximalgrÃ¶ÃŸe von 2 MB. Das ist definitiv zu wenig. Schon der Import eines Channels liegt oftmals darÃ¼ber. Um dieses Limit zu erhÃ¶hen, editiert man die Datei â€/etc/php/php.iniâ€œ:</p>
<pre class="wp-block-code"><code>sudo nano /etc/php/</code><code>php/7.0/apache2/</code><code>php.ini</code></pre>
<p>In der Datei sucht man den Bereich â€File Uploadsâ€œ (ungefÃ¤hr in der Mitte der Datei) und Ã¤ndert die Zeile</p>
<pre class="wp-block-code"><code>upload_max_filesize = 2M</code></pre>
<p>in</p>
<pre class="wp-block-code"><code>upload_max_filesize = 8M</code></pre>
<p>(â€¦oder, wenn man meint, es reicht, auch 4 oder 6M)</p>
<p>Im nÃ¤chsten Abschnitt dann die Installation der Datenbank MySQL und dem DB-Tool phpMyAdmin.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>2 â€“ SSH und FTP einrichten</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/2-ssh-und-ftp-einrichten.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/2-ssh-und-ftp-einrichten.html</id>
            <category term="SSH"/>
            <category term="Raspberry Pi"/>
            <category term="Hubzilla"/>
            <category term="FTP"/>

        <updated>2019-02-16T14:49:15+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/3/" alt="" />
                     Der Raspi soll irgendwann ja ganz unauffÃ¤llig und gerÃ¤uschlos neben dem Router im Regal liegenâ€¦ Monitor, Tastatur und Maus wÃ¼rden da stÃ¶ren und sind auch nicht nÃ¶tig, solange man ohnehin einen â€richtigenâ€œ Computer (wobeiâ€¦ der Raspi ist durchaus ein richtiger Computerâ€¦ echt leistungsfÃ¤hig, die&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/3/" alt="" />
                <p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/3/sshftp.png" alt="HFTP" width="1280" height="794"></p>
<p>Der Raspi soll irgendwann ja ganz unauffÃ¤llig und gerÃ¤uschlos neben dem Router im Regal liegenâ€¦ Monitor, Tastatur und Maus wÃ¼rden da stÃ¶ren und sind auch nicht nÃ¶tig, solange man ohnehin einen â€richtigenâ€œ Computer (wobeiâ€¦ der Raspi ist durchaus ein richtiger Computerâ€¦ echt leistungsfÃ¤hig, die kleine Schachtel) am Router zu hÃ¤ngen hatâ€¦ oder woanders mit Internetzugang.</p>
<h3 id="mcetoc_1d3a4buoa0"><span id="SSH">SSH</span></h3>
<p>Was es am Raspi als Server/Hub zu tun gibt, erfolgt ohnehin auf der Textkonsole und kann mit SSH-Zugriff bequem vor anderen Rechner aus erfolgen.</p>
<p>SSH sollte bereits bei Raspbian installiert sein, es muss nur aktiviert werden. Das erledigt man am besten mit dem Tool â€raspi-configâ€œ:</p>
<pre class="wp-block-code"><code>sudo raspi-config</code></pre>
<p>Nun kommt es auf die Version an, wo man die Aktivierung von SSH findetâ€¦ bei meiner Version ist die Aktivierung unter â€5 Interfacing Options -&gt; P2 SSHâ€œ zu finden. Hier kann SSH aktiviert werden.</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/3/raspi-config_ssh01.png" alt="SSH01" width="1096" height="331"></p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/3/raspi-config_ssh02.png" alt="SSH02" width="1096" height="332"></p>
<p>Bei mir hÃ¤ngt der Raspi am heimischen Routerâ€¦ diese und alle weiteren Beschreibungen beziehen sich damit auch auf solch einen Anwendungsfall.</p>
<p>Um nun vom â€normalenâ€œ Rechner (nenne ich ab jetzt nur noch Rechner), der ebenfalls am Router hÃ¤ngt, auf den Raspi zugreifen zu kÃ¶nnen, muss man die interne IP kennen, die vom Router fÃ¼r den Raspi vergeben wurde.</p>
<p>Um die IP herauszufinden gibt man beim Raspi</p>
<pre class="wp-block-code"><code>ifconfig</code></pre>
<p>ein. In der Ausgabe erfÃ¤hrt man dann die interne IPâ€¦ z.B.</p>
<pre class="wp-block-code"><code>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.1.6  netmask 255.255.255.0  broadcast 192.168.1.255</code></pre>
<p>Alternativ kann man am Rechner das Webinterface des Routers aufrufen und sich dort die angeschlossenen GerÃ¤te anzeigen lassen.</p>
<p>Nun kann man vom Rechner aus in einer Konsole</p>
<pre class="wp-block-code"><code>ssh pi@192.168.1.6</code></pre>
<p>eingeben (ich nutze hier und kÃ¼nftig die IP aus dem Beispiel oben 192.168.1.6â€¦ das muss man natÃ¼rlich an seine eigenen VerhÃ¤ltnisse anpassen, also die IP des eigenen Raspi verwenden).</p>
<p>Es wird nach dem Passwort des Benutzers â€piâ€œ gefragt, das man blind eingeben mussâ€¦ und schon ist man auf dem Raspi eingeloggt und man arbeitet, als sÃ¤ÃŸe man direkt an einer Konsole des Raspi.</p>
<h3 id="mcetoc_1d3a4e1c11"><span id="FTP">FTP</span></h3>
<p>Hat man nun Daten auf dem Rechner und mÃ¶chte man sie auf den Raspi kopieren, ist es sinnvoll, dies mittels FTP-Zugang zu machen. DafÃ¼r muss auf dem Raspi ein FTP-Server laufen.</p>
<p>Zur Installation von <a href="http://proftpd.org/" target="_blank" rel="external noopener noreferrer" aria-label="proftpd (Ã¶ffnet in neuem Tab)" >proftpd</a> (in meinen Augen am sinnvollsten) gibt man</p>
<pre class="wp-block-code"><code>sudo apt-get install proftpd</code></pre>
<p>ein.</p>
<p>Die Konfiguration startet dann automatisch und man wird nach der Variante gefragt. Hier wÃ¤hlt man â€standaloneâ€œ.</p>
<p><img class="post__image" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/3/raspi-config_ftp.png" alt="FTP01" width="510" height="285"></p>
<table border="2">
<tbody>
<tr>
<td><strong>Hinweis:</strong></td>
</tr>
<tr>
<td>
<div class="ab-notice-text">
<p>Es kann sein, dass bei der verwendeten Version von Raspbian der Konfigurationsdialog (from inetd / standalone) nicht erscheint.</p>
<p>Das ist dann kein Problem und kann ignoriert werden.</p>
</div>
</td>
</tr>
</tbody>
</table>
<p>Nun ist es zunÃ¤chst nur mÃ¶glich, sich als â€piâ€œ mit dem bekannten Passwort einzuloggenâ€¦ man hat aber nur Zugriff auf sein Home-Verzeichnis, um dort Dateien hochzuladen oder von dort herunterzuladen. SpÃ¤ter, wenn wir den Webserver Apache installieren, mÃ¼ssen die Daten aber ins Verzeichnis (in der Standard-Konfiguration) â€/var/wwwâ€œ hochgeladen werden. Um eine entsprechende Einrichtung kÃ¼mmern wir uns, wenn Apache installiert wurde.</p>
<p>Im nÃ¤chsten Teil kÃ¼mmern wir uns um die Installation und Einrichtung des Webservers Apache und der Skriptsprache PHP.</p>
            ]]>
        </content>
    </entry>
    <entry>
        <title>1 â€“ Erste Schritte</title>
        <author>
            <name>PepeCyB</name>
        </author>
        <link href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/1-erste-schritte.html"/>
        <id>http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/1-erste-schritte.html</id>
            <category term="Raspberry Pi"/>
            <category term="Hubzilla"/>

        <updated>2019-02-09T22:57:45+01:00</updated>
            <summary>
                <![CDATA[
                        <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/2/" alt="" />
                    Um einen Hubzilla-Hub auf einem Raspberry Pi zu installieren, braucht man zunÃ¤chst einmal einenâ€¦ â€¦ â€¦ genau, einen Raspberry Pi (Raspi). Es gibt inzwischen einige Modelle mit unterschiedlichen Spezifikationen und Features. Aktuell sind die Modelle 3 A+, 3 B, 3 B+ und Zero. Die 3er-Modelle&hellip;
                ]]>
            </summary>
        <content type="html">
            <![CDATA[
                    <img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/2/" alt="" />
                <p>Um einen Hubzilla-Hub auf einem <a href="https://www.raspberrypi.org/" target="_blank" rel="external noopener noreferrer" aria-label="Raspberry Pi (Ã¶ffnet in neuem Tab)" >Raspberry Pi</a> zu installieren, braucht man zunÃ¤chst einmal einenâ€¦ â€¦ â€¦ genau, einen Raspberry Pi (Raspi). Es gibt inzwischen einige Modelle mit unterschiedlichen Spezifikationen und Features. Aktuell sind die Modelle 3 A+, 3 B, 3 B+ und Zero.</p>
<h3 id="mcetoc_1d3a47mfg0"><span id="Modellwahl">Modellwahl</span></h3>
<p>Die 3er-Modelle unterscheiden sich zunÃ¤chst durch Prozessortakt und Hauptspeicher. 3 A+ und 3 B+ sind mit 1.400 MHz getaktet, 3 B mit 1.200 MHz. Sie laufen mit einem ARM Cortex-A53 64-Bit-Prozessor mit 4 Prozessorkernen. Das A-Modell verfÃ¼gt Ã¼ber 512 MB Hauptspeicher, die B-Modelle Ã¼ber 1 GB. Der Zero wird mit einem ARM11Prozessor, 1.000 MHz und nur einem Prozessorkern betrieben. Der Hauptspeicher liegt bei 512 MB.</p>
<p>Das Zero-Modell funktioniert sicherlich, denn das war ja der Typ, mit dem <a href="https://despora.de/posts/093d77806e550136eb59543d7eeced27" target="_blank" rel="external noopener noreferrer" aria-label="Marlon (Ã¶ffnet in neuem Tab)" >Marlon</a> seine erfolgreichen Versuche durchgefÃ¼hrt hat. Allerdings sind Hauptspeicher und Prozessorleistung wichtige Faktoren fÃ¼r die LeistungsfÃ¤higkeit, weshalb ich die Modelle 3 A und 3 B fÃ¼r geeigneter halte.</p>
<p>Die Taktfrequenz von 1.200 MHz des Modells B sollte ausreichend sein. Gegen das Modell A+ spricht fÃ¼r mich der Hauptspeicher, der mit 1/2 GB ein wenig knapp bemessen istâ€¦ und die Tatsache, dass es Ã¼ber keine Ethernet-Schnittstelle verfÃ¼gt. Klarâ€¦ WLAN haben sie alle und man kann das auch fÃ¼r einen Hub nutzenâ€¦ ich persÃ¶nlich bevorzuge aber ein Kabel (WLAN nutze ich nur, wenn es auf OrtsunabhÃ¤ngigkeit ankommtâ€¦ ist meine persÃ¶nliche Macke). Modell A bietet auÃŸerdem nur eine USB 2.0 Schnittstelle, wogegen die B-Modelle mit vier daherkommen (das ist praktisch fÃ¼r die Installation Tastatur und Maus brauchen schon zwei USBâ€¦ so kann man sich einen externen HUB sparen).</p>
<p>FÃ¼r mich fiel der 3 A+ damit rausâ€¦ Ich habe mich deshalb fÃ¼r das Modell 3 B entschieden, weil es fÃ¼r mich sofort verfÃ¼gbar war und mich die â€fehlendenâ€œ 200 MHz nicht gejuckt haben. GrundsÃ¤tzlich sollte es aber mit allen angesprochenen Systemen klappen, einen Hub aufzusetzen. Meine Beschreibungen sollten auch unabhÃ¤ngig vom Modell funktionieren (bei Modellen ohne Ethernet-Schnittstelle muss man aber noch das WLAN konfigurieren).</p>
<h3 id="mcetoc_1d3a47mfh1"><span id="Verpackung_und_Zubehoer_die_Dooose">â€Verpackungâ€œ und ZubehÃ¶r (die Dooose)</span></h3>
<p>Wenn man den Raspi nicht irgendwo speziell einbauen mÃ¶chte, dann sollte auch ein GehÃ¤use her. Ich habe das Standard-GehÃ¤use 3B+ in schwarz gewÃ¤hlt. Ein passendes Netzteil muss auch seinâ€¦ und eine SD-Speicherkarteâ€¦ 8 GB sollten es schon seinâ€¦ 16 GB sind besser. FÃ¼r die Installation benÃ¶tigt man dann noch ein HDMI-Kabel fÃ¼r den Anschluss eines Monitors, eine Tastatur und eine Maus. FÃ¼r den Ethernet-Anschluss muss man natÃ¼rlich auch noch ein passendes Kabel haben.</p>
<p>Ich habe mir ein komplettes Set bestellt, bei dem auÃŸerdem noch KÃ¼hlkÃ¶rper fÃ¼r die Chips das Raspi dabei waren. Ãœber die Notwendigkeit von KÃ¼hlkÃ¶rpern scheiden sich die Geisterâ€¦ eigentlich sollen sie gar nicht nÃ¶tig seinâ€¦ aber ehrlichâ€¦ die kosten auch einzeln nicht viel und KÃ¼hlung schadet echt nicht.</p>
<p>Der mechanische Zusammenbau ist keine Kunst. Die KÃ¼hlkÃ¶rper sind schnell aufgeklebt und die Platine findet selbsterklÃ¤rend Platz im GehÃ¤useâ€¦ zu schrauben braucht man nichts.</p>
<h3 id="mcetoc_1d3a47mfh2"><span id="Ein_Betriebssystem_installieren">Ein Betriebssystem installieren</span></h3>
<h4 id="mcetoc_1d3a47mfh3"><span id="Raspbian">Raspbian</span></h4>
<p>Auf einem Raspi kann man etliche Betriebssysteme installieren. FÃ¼r einen Hub und weil es der Standard ist, habe ich mich fÃ¼r Raspbian entschieden, eine Debian Linux Version fÃ¼r den Raspi. Man kann Raspbian z.B. hier herunterladen: <a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="external noopener noreferrer" aria-label="Raspbian (Ã¶ffnet in neuem Tab)" >Raspbian</a>.<br>Wer Windows nutzt kann nun das entpackte Image z.B. mit Win32DiskImager auf die SD-Karte bringen, MacOS- und Linux-Benutzer erledigen das mit dd.<br>Das beschreibe ich hier jetzt aber auch nicht ausfÃ¼hrlich. Das sollte man schon hinbekommen (ggf. im Netz danach suchen).</p>
<p>Man verkabelt nun den Raspi (Monitor an HDMI, Maus und Tastatur an USB), setzt die SD-Karte in den Slot und stÃ¶pselt schlieÃŸlich das Netzteil an (damit startet der Raspi, der keinen extra Netzschalter hat).</p>
<p>Bootet man den Raspi, landet man nach einiger Zeit bei dem Programm raspi-config, wo man die erforderlichen ersten Einstellungen vornehmen kann. Sinnvoll ist es, den MenÃ¼punkt â€Expand Filesystemâ€œ zu wÃ¤hlen, damit die Partition auf die gesamte SD-Karte ausgedehnt wird (wirksam erst nach Reboot). Das Konfigurationsprogramm ermÃ¶glicht es auch, Tastatur und Systemsprache (locale) auf die eigene Sprache (vermutlich Deutsch) umzustellen. Dann folgt ein Reboot. Man kann dann auch noch die Auslagerungsdatei (swap) auf 1024 MB erweitern und sollte anschlieÃŸend die Software aktualisieren. Dazu gibt man im Terminal</p>
<pre class="wp-block-code"><code>sudo apt-get update
sudo apt-get dist-upgrade
sudo rpi-update</code></pre>
<p>ein.</p>
<p>Ggf. ist ein weiterer Reboot erforderlich.</p>
<h4 id="mcetoc_1d3a47mfh4"><span id="Raspbian_mit_Noobs_installieren_kinderleicht">Raspbian mit Noobs installieren â€“ kinderleicht</span></h4>
<p>Noch einfacher ist die Installation mit Noobs (New out of box software). Noobs kann man sich hier herunterladen: <a href="https://www.raspberrypi.org/downloads/noobs/" target="_blank" rel="external noopener noreferrer" aria-label="Noobs (Ã¶ffnet in neuem Tab)" >Noobs</a> (am besten NOOBS LITE Network install only wÃ¤hlen).</p>
<p>Die SD-Karte wird FAT/FAT32 formatiert und die Daten des Noobs-Zipfiles werden auf die SD-Karte entpackt. Bootet man mit der solchermaÃŸen vorbereiteten SD-Karte landet man bei einem grafischen Installationsprogramm, mit dem man z.B. Raspbian ganz einfach auf die Karte bringt (Netzwerkverbindung erforderlich, weil das Betriebssystem aus dem Netz heruntergeladen wird). Einfacher geht nicht.</p>
<p>Auch hier wieder nach der Installation aktualisieren:</p>
<pre class="wp-block-code"><code>sudo apt-get update
sudo apt-get dist-upgrade
sudo rpi-update</code></pre>
<h3 id="mcetoc_1d3a47mfh5"><span id="Grundlegende_Absicherung">Grundlegende Absicherung</span></h3>
<p>Nach der Installation ist der Standard-Benutzer â€piâ€œ und das Standard-Passwort â€raspberryâ€œ. Weil der Rechner ja irgendwann im Internet hÃ¤ngt und auch von auÃŸerhalb erreichbar sein wird, MUSS das Passwort geÃ¤ndert werden. Hier sollte man auch nicht kleckern, sondern klotzen und ein Passwort wÃ¤hlen, das komplex und lang genug ist (Tipps dafÃ¼r gibt es ausreichend im Netzâ€¦ Diceware wÃ¤re eine gute Idee, damit man es sich merken kann). Der Benutzer â€piâ€œ kann nÃ¤mlich per â€sudoâ€œ ohne weitere Passwortabfrage Root-Rechte bekommenâ€¦ ein Angreifer hat damit das System faktisch Ã¼bernommen.</p>
<p>Es wird verschiedentlich auch empfohlen, einen neuen Benutzer (mit anderem Benutzernamen) und den gleichen Rechten wie â€piâ€œ anzulegen und den Benutzer â€piâ€œ anschlieÃŸend zu lÃ¶schen. Halte ich bei einer wirklich guten Passwortwahl fÃ¼r Ã¼berflÃ¼ssig.</p>
<p>Wichtig fÃ¼r die Sicherheit ist auÃŸerdem, das System regelmÃ¤ÃŸig mit Updates zu versorgen. Das kann man automatisieren. Ich nutze aus Bequemlichkeit â€unattended-upgradesâ€œ.</p>
<p>Dazu gibt man im Terminal</p>
<pre class="wp-block-code"><code>sudo apt-get install unattended-upgrades update-notifier-common</code></pre>
<p>ein, um die notwendige Software zu installieren. Die Konfiguration startet man mit</p>
<pre class="wp-block-code"><code>sudo dpkg-reconfigure -plow unattended-upgrades</code></pre>
<p>und bestÃ¤tigt mit â€YESâ€œ.</p>
<p>FÃ¼r die automatischen Updates editiert man nun die Datei â€/etc/apt/apt.conf.d/10periodicâ€œ mit</p>
<pre class="wp-block-code"><code>sudo nano /etc/apt/apt.conf.d/10periodic</code></pre>
<p>Ich mÃ¶chte eine tÃ¤gliche ÃœberprÃ¼fung auf Updates. Damit man sich die SD-Karte nicht mit veralteten Paketen zumÃ¼llt, sollen alte Pakete einmal wÃ¶chentlich gelÃ¶scht werden. Dazu Ã¤ndert man die Datei wie folgt:</p>
<pre class="wp-block-code"><code>APT::Periodic::Update-Package-Lists "1";
APT::Periodic::Download-Upgradeable-Packages "1";
APT::Periodic::AutocleanInterval "7";
APT::Periodic::Unattended-Upgrade "1";</code></pre>
<p>(Speichern und beenden bei Nano immer mit Strg-O und Strg-X)</p>
<p>Um Bruteforce-Angriffe zu verhindern, empfiehlt sich auÃŸerdem <a href="https://www.fail2ban.org/wiki/index.php/Main_Page" target="_blank" rel="external noopener noreferrer" aria-label="fail2ban (Ã¶ffnet in neuem Tab)" >fail2ban</a> zu installieren:</p>
<pre class="wp-block-code"><code>sudo apt-get install fail2ban</code></pre>
<p>In der Standard-Konfiguration werden IP-Adressen nach sechs fehlerhaften Anmeldungen fÃ¼r 10 Minuten gesperrt. Ã„ndern kÃ¶nnt Ihr das in der Datei â€/etc/fail2ban/jail.conf â€œ.</p>
<p>SchlieÃŸlich kann man auch noch eine Firewall mit <a href="https://netfilter.org/projects/iptables/index.html" target="_blank" rel="external noopener noreferrer" aria-label="Iptables (Ã¶ffnet in neuem Tab)" >Iptables</a> einrichten. Das spare ich mir hier aber fÃ¼r spÃ¤ter auf, weil man damit auch viel â€verzerkonfigurierenâ€œ kann und sich evtl. Fehler aufhalst, die man als unerfahrener Benutzer nur schwer findet.</p>
<p>Das System ist soweit auch erst einmal ausreichend abgesichert.</p>
<p>Im nÃ¤chsten Teil geht es weiter mit der Einrichtung von SSH, damit man Monitor, Tastatur und Maus abklemmen kann und den Rechner von seinem â€normalenâ€œ Rechner aus bedienen kann. AuÃŸerdem wird ein FTP-Server eingerichtet, damit man Daten auf den Raspi schaufeln kann.</p>
            ]]>
        </content>
    </entry>
</feed>
