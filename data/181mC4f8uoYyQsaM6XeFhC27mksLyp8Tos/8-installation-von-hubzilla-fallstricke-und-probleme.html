<!DOCTYPE html><html lang="de"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>8 â€“ Installation von Hubzilla â€“ Fallstricke und Probleme - Hubzilla in der Dose (HiD)</title><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/8-installation-von-hubzilla-fallstricke-und-probleme.html"><link rel="amphtml" href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/amp/8-installation-von-hubzilla-fallstricke-und-probleme.html"><link type="application/atom+xml" rel="alternate" href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/feed.xml"><meta property="og:title" content="8 â€“ Installation von Hubzilla â€“ Fallstricke und Probleme"><meta property="og:image" content="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/website/hidose.jpg"><meta property="og:site_name" content="My blog - Hubzilla in der Dose (HiD)"><meta property="og:description" content="Wie â€žangedrohtâ€œ hier zunÃ¤chst die Probleme, Ã¼ber die ich bei der Installation gestolpert binâ€¦ Das sind drei Komplexe: url_rewrite, das Verzeichnis â€žstore/[data]/smarty3â€œ und Rechte, Rechte, Rechte (nicht die politische Gesinnung, sondern Schreib- und Leserechte fÃ¼r die verschiedenen Verzeichnisse ðŸ˜‰ ðŸ˜€ ) Naâ€¦ dann mal ran,&hellip;"><meta property="og:url" content="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/8-installation-von-hubzilla-fallstricke-und-probleme.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Condensed:400,700&amp;subset=latin-ext" rel="stylesheet"><link rel="stylesheet" href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/assets/css/style.css?v=aa41620c4f80dc7a8874270e3bdddd5b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/8-installation-von-hubzilla-fallstricke-und-probleme.html"},"headline":"8 â€“ Installation von Hubzilla â€“ Fallstricke und Probleme","datePublished":"2019-02-09T23:46","dateModified":"2019-02-09T23:46","image":{"@type":"ImageObject","url":"http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/website/hidose.jpg","height":855,"width":1280},"description":"Wie â€žangedrohtâ€œ hier zunÃ¤chst die Probleme, Ã¼ber die ich bei der Installation gestolpert binâ€¦ Das sind drei Komplexe: url_rewrite, das Verzeichnis â€žstore/[data]/smarty3â€œ und Rechte, Rechte, Rechte (nicht die politische Gesinnung, sondern Schreib- und Leserechte fÃ¼r die verschiedenen Verzeichnisse ðŸ˜‰ ðŸ˜€ ) Naâ€¦ dann mal ran,&hellip;","author":{"@type":"Person","name":"PepeCyB"},"publisher":{"@type":"Organization","name":"PepeCyB","logo":{"@type":"ImageObject","url":"http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/website/hidose.jpg","height":855,"width":1280}}}</script><script async src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/assets/js/lazysizes.min.js?v=fcb7109aacc796048242935c33a7f9ab"></script><style></style></head><body><div class="container"><header class="js-top is-sticky"><a class="logo" href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos"><img src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/website/hidose.jpg" alt="Hubzilla in der Dose (HiD)"></a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"></ul></nav></div></header><main><article class="post"><div class="hero"><header class="hero__text"><h1>8 â€“ Installation von Hubzilla â€“ Fallstricke und Probleme</h1><p class="post__meta"><time datetime="2019-02-09T23:46">Februar 9, 2019 </time>By <a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/authors/pepecyb/" rel="author" title="PepeCyB">PepeCyB</a></p></header></div><div class="post__entry"><figure class="post__image"><img class="lazyload" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/9/responsive/fallen-xs.png" data-sizes="auto" data-srcset="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/9/responsive/fallen-xs.png 300w ,http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/9/responsive/fallen-sm.png 480w ,http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/media/posts/9/responsive/fallen-md.png 768w" alt="Fallen" width="1280" height="794"></figure><p>Wie â€žangedrohtâ€œ hier zunÃ¤chst die Probleme, Ã¼ber die ich bei der Installation gestolpert binâ€¦</p><p>Das sind drei Komplexe: url_rewrite, das Verzeichnis â€žstore/[data]/smarty3â€œ und Rechte, Rechte, Rechte (nicht die politische Gesinnung, sondern Schreib- und Leserechte fÃ¼r die verschiedenen Verzeichnisse ðŸ˜‰ ðŸ˜€ )</p><p>Naâ€¦ dann mal ran, flott ins Verzeichnis â€ž/var/wwwâ€œ gewechselt und mit git Hubzilla gezogenâ€¦</p><p>NÃ¶Ã¶Ã¶Ã¶â€¦ als Benutzer â€žpiâ€œ geht das nichtâ€¦ also zum â€žrootâ€œ gemachtâ€¦ nochmalâ€¦</p><p>NÃ¤chstes Gemecker: Das Verzeichnis html ist nicht leer!<br>Logisch, Apache hat ja seine Standard-Seite da hineingeschrieben.</p><p>Also das Verzeichnis html geleertâ€¦ Hubzilla gezogen, in html gewechselt und mit git noch die Addons nachgeholt.</p><p>Die leere Datenbank hatte ich schon angelegtâ€¦ dann am Rechner meinen Raspi aufgerufen (bei mir ja https://pepecyb.ddns.net) und gleich wieder ausgeschimpft worden.</p><p>Das Verzeichnis â€žstore/[data]/smarty3â€œ existiere nicht und/oder sei nicht beschreibbar. Komischâ€¦ das war mir bei meinen diversen Probe-Installationen bei Uberspace nicht passiertâ€¦ das Verzeichnis befindet sich nicht im Git-Repository, war nach der Installationsroutine aber dann immer vorhanden und beschreibbar.</p><p>Okâ€¦ kann man ja anlegen:</p><pre class="wp-block-code"><code>mkdir -p "store/[data]/smarty3"
chmod -R 777 store</code></pre><p>Nun blieb die Fehlermeldung aus. Was mir auffiel: es rÃ¶delte und rÃ¶delteâ€¦ dann irgendwann erschien die Seite mit den Systemchecks. Und zeigte den nÃ¤chsten Fehler an.</p><p>Url rewrite funktioniert nicht! Hmmmâ€¦ ob das Modul nicht aktiviert ist?</p><pre class="wp-block-code"><code>sudo a2enmod rewrite</code></pre><p>und zur Sicherheit gleich noch</p><pre class="wp-block-code"><code>sudo a2enmod actions</code></pre><p>nachgeschoben, falls das auch nicht aktiviert sein sollte.</p><p>NÃ¤chster Versuchâ€¦ Waaaartezeitâ€¦ und wieder:</p><p>Url rewrite funktioniert nicht!</p><p>Seltsam! Ein Aufruf von phpinfo.php behauptete das Gegenteilâ€¦ url_rewrite ist geladen.</p><p>Und warum funktioniert das jetzt nicht? Ich habe mich wie ein Ochse durch verschiedenste Anleitungen aus dem Internet gewÃ¼hlt und stolperte immer wieder Ã¼ber â€žAllowOverride Allâ€œ. Und tatsÃ¤chlichâ€¦ in der Datei â€ž/etc/apache2/apache2.confâ€œ war das nicht gesetzt. Das ist aber erforderlich dass die lokale .htaccess genutzt werden kann.</p><p>Danach war das Problem Vergangenheit.</p><p>Ich hatte zwischendurch das Verzeichnis â€žhtmlâ€œ noch einmal geleert und neu gezogen. Dabei habe ich vergessen, das Verzeichnis â€žstore/[data]/smarty3â€œ anzulegen, aber die Rechte fÃ¼r /var/www/html neu gesetzt:</p><pre class="wp-block-code"><code>sudo chmod -R 770 /var/www/html/</code></pre><p>Obwohl ich also â€žstoreâ€œ nicht angelegt hatte, lief die Installation aber trotzdem durch und das Verzeichnis wurde automatisch fÃ¼r mich angelegt. Lag also wohl an den Verzeichnisrechten.</p><p>Noch ein Tipp zu Rechtenâ€¦ Das Verzeichnis war nach der Installation von Apache dem Benutzer â€žrootâ€œ und auch der Gruppe â€žrootâ€œ zugeordnet. Ich habe das geÃ¤ndert und die Gruppe â€žwww-dataâ€œ zugewiesen:</p><pre class="wp-block-code"><code>sudo chown -R root:www-data /var/www/html/</code></pre><p>Der Benutzer â€žpiâ€œ war auÃŸerdem nicht in der Gruppe â€žwww-dataâ€œ, was ich aus GrÃ¼nden der Bequemlichkeit auch noch erledigt habe:</p><pre class="wp-block-code"><code>sudo usermod -aG www-data pi</code></pre><p>Das klingt jetzt so, als wÃ¤re das kein groÃŸes Ding, aber die Suche nach den Fehlerquellen und das Finden der (eigentlich simplen) LÃ¶sungen hat zwei volle Tage gefressen.</p><p class="has-text-color">Hier die Zusammenfassung:</p><ol><li>Vor dem git-clone von Hubzilla, die Standard-Dateien, die von Apache angelegt wurden, aus dem Verzeichnis â€ž/var/www/htmlâ€œ entfernen.</li><li>Die Rechte fÃ¼r das Verzeichnis setzen: sudo chmod -R 770 /var/www/html/</li><li>Sicherheitshalber: sudo a2enmod rewrite; sudo a2enmod actions ausfÃ¼hren.</li><li>In der Datei â€ž/etc/apache2/apache2.confâ€œ Ã¼berall AllowOverride All setzen.</li><li>sudo chown -R root:www-data /var/www/html/</li><li>sudo usermod -aG www-data pi</li></ol><p>Und nun folgt im nÃ¤chsten Teil die Beschreibung der Installation.</p><p class="post__last-updated">This article was updated on Februar 9, 2019</p></div><aside class="post__share"></aside><footer class="post__footer"><ul class="post__tag"><li><a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/hubzilla/">Hubzilla</a></li><li><a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/raspberry-pi/">Raspberry Pi</a></li></ul><div class="post__bio"><h3><a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/authors/pepecyb/" class="inverse" title="PepeCyB">PepeCyB</a></h3></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/9-hubzilla-installieren.html" class="inverse" rel="prev">9 â€“ Hubzilla installieren</a></h5></div><div class="post__nav__next">Next Post<h5><a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/7-ssl-zertifikat-mit-lets-encrypt.html" class="inverse" rel="next">7 â€“ SSL-Zertifikat mit Letâ€˜s Encrypt</a></h5></div></nav><div class="post__related"><h3>Related posts</h3><div class="post__related__wrap"><figure><figcaption><h4><a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/hubzilla-in-der-dose-hid.html" class="inverse">Hubzilla in der Dose (HiD)</a></h4><time datetime="2019-02-09T22:47">Februar 9, 2019</time></figcaption></figure><figure><figcaption><h4><a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/1-erste-schritte.html" class="inverse">1 â€“ Erste Schritte</a></h4><time datetime="2019-02-09T22:57">Februar 9, 2019</time></figcaption></figure><figure><figcaption><h4><a href="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/2-ssh-und-ftp-einrichten.html" class="inverse">2 â€“ SSH und FTP einrichten</a></h4><time datetime="2019-02-09T23:01">Februar 9, 2019</time></figcaption></figure></div></div></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div></footer></div><script defer="defer" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="http://127.0.0.1:43110/181mC4f8uoYyQsaM6XeFhC27mksLyp8Tos/assets/js/scripts.min.js?v=5dffffceea1fdc07740088873ba7ff09"></script></body></html>