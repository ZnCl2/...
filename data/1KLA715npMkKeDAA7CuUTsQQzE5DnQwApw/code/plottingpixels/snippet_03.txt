class Surface extends JPanel
{
    private BufferedImage img;
    private int[] pixels;
    private int width = 0;
    
    public Surface(int width, int height)
    {
        this.setPreferredSize(new Dimension(width, height) );
        img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);
        pixels = ((DataBufferInt) img.getRaster().getDataBuffer()).getData();
        this.width = width;
    }
    
    @Override
    public void paintComponent(Graphics g) 
    {
        g.drawImage(img, 0, 0, null);
    }
    
    public void plot(int x, int y, int rgb)
    {
        int i = x + y*width;
        pixels[i] = rgb;
    }
}