@Override
void paintComponent(Graphics g) 
{
    if(useHW) 
    {
        g = vbuffer.getGraphics();
        g.drawImage(buffer, 0, 0, null);
        vbuffer.flush();
    } 
    else 
    {
        g.drawImage(buffer, 0, 0, null);
        buffer.flush();
    }
}