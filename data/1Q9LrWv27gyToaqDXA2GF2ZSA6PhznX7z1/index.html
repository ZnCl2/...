
<!DOCTYPE html>

<html>
<head>
 <title>New ZeroNet site!</title>
 <meta charset="utf-8">
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <base href="" target="_top" id="base">
 <script>base.href = document.location.href.replace("/media", "").replace("index.html", "").replace(/[&?]wrapper=False/, "").replace(/[&?]wrapper_nonce=[A-Za-z0-9]+/, "")</script>
</head>
<body>

<div id="out"></div>

<script type="text/javascript" src="js/ZeroFrame.js"></script>

<script>

class Page extends ZeroFrame {
	setSiteInfo(site_info) {
		var out = document.getElementById("out")
		out.innerHTML =
			"Page address: " + site_info.address +
			"<br>- Peers: " + site_info.peers +
			"<br>- Size: " + site_info.settings.size +
			"<br> <center>Orz，十分抱歉，知乎已暂停服务，感谢大家的支持。ヾ(￣▽￣)Bye~Bye~</center>" +
			"<br> <center>Orz, sorry, I must close ZhiHu because I don't have time to manage this zite. Anyway, thanks for your previous supports.ヾ(￣▽￣)Bye~Bye~</center>"  +
			"<br> <center>有人做了知乎的克隆网站（出于对知乎论坛代码学习的目的，现将它们列在这里）: </center>" + 
			"<br> <center> <a href=\"/14f1Ru4axcieJ51YdCxngtg2ZN2jzEh3jM\">新知乎</a> </center>" +
			"<br> <center> <a href=\"/14Famoc8KJoS5T9WCSbzxGAmA6TfXcdSPD\">知道</a> </center>"
						
	}

	onOpenWebsocket() {
		this.cmd("siteInfo", [], function(site_info) {
			page.setSiteInfo(site_info)
		})
	}

	onRequest(cmd, message) {
		if (cmd == "setSiteInfo")
			this.setSiteInfo(message.params)
		else
			this.log("Unknown incoming message:", cmd)
	}
}
page = new Page()

</script>

</body>
</html>