{"next_paste_id":1,"next_comment_id":0,"paste":[{"paste_id":0,"description":"Lurker tool (Autoit)","body":"#Region ;**** Directives created by AutoIt3Wrapper_GUI ****\n#AutoIt3Wrapper_Change2CUI=y\n#EndRegion ;**** Directives created by AutoIt3Wrapper_GUI ****\n#include <File.au3>\n#include <String.au3>\n\n#cs\n\n\tThis script works on a number of different websites:\n\thttp://imgchili.net/\t\t\t\tAlbums, Single images and direct image urls\n\thttp://masterchan.org/\t\t\t\tThread url\n\thttp://2-chru.net\t\t\t\t\tThread url\n\thttp://7chan.org/\t\t\t\t\tThread url\n\thttp://8ch.net/\t\t\t\t\t\tThread url\n\thttp://4chan.org/\t\t\t\t\tThread url\n\thttp://dynasty-scans.com/\t\t\tPage with /chapters/\n\thttp://bandcamp.com/\t\t\t\tPage with music player\n\thttp://gogoanime.io/\t\t\t\t/category/ video page\n\n\tOn imageboards, it should work on all filetypes.\n\tOn imgchili, it should work on all image-types.\n\n\tTo download something, you need to paste the url in the file input.txt.\n\tThis will be created if it doesn't exist.\n\tEach url needs to be at a separate line.\n\n\tWARNING: Windows can't handle question marks, so they all had to be replaced with Q.\n\tCloudflare might cause problems.\n#ce\n\nGlobal $DICT = @ScriptDir & \"\\input.txt\"\nGlobal Const $Html = @ScriptDir & \"\\html\\\"\nGlobal Const $Subs = @ScriptDir & \"\\html\\subs\\\"\nGlobal Const $Fire = @ScriptDir & \"\\html\\fire\\\"\n\nCleanHtml()\n\nFileRecycle(@ScriptDir & \"\\log.txt\")\nFileWrite(@ScriptDir & \"\\log.txt\", \"\")\n\n$info = \"This script works on a number of different websites:\" & @CRLF & _\n\t\t\"  http://imgchili.net/\t\tAlbums, Single images and direct image urls\" & @CRLF & _\n\t\t\"  https://masterchan.org/\tThread url\" & @CRLF & _\n\t\t\"  https://2-chru.net\t\tThread url\" & @CRLF & _\n\t\t\"  http://7chan.org/\t\t\tThread url\" & @CRLF & _\n\t\t\"  http://8ch.net/\t\t\tThread url\" & @CRLF & _\n\t\t\"  http://4chan.org/\t\t\tThread url\" & @CRLF & _\n\t\t\"  http://dynasty-scans.com/\tPage with /chapters/\" & @CRLF & _\n\t\t\"  http://bandcamp.com/\t\tPage with music player\" & @CRLF & _\n\t\t\"  http://gogoanime.io/\t\t/category/ video page\" & @CRLF & @CRLF & _\n\t\t\"On imageboards, it should work on all filetypes.\" & @CRLF & _\n\t\t\"On imgchili, it should work on all image-types.\" & @CRLF & @CRLF & _\n\t\t\"To download something, you need to paste the url in the file input.txt.\" & @CRLF & _\n\t\t\"This will be created if it doesn't exist.\" & @CRLF & _\n\t\t\"Each url needs to be at a separate line.\" & @CRLF & @CRLF & _\n\t\t\"WARNING: Windows can't handle question marks, so they all had to be replaced with Q.\" & @CRLF & _\n\t\t\"Cloudflare might cause problems.\"\n\nFileWrite(FileOpen(@ScriptDir & \"\\readme.txt\", 2), $info)\n\nIf FileExists($DICT) Then\n\tDownloadContent($DICT)\nElse\n\t_FileCreate($DICT)\n\t_Log(\"Input file was created.\")\nEndIf\n\nFileRecycle($Html)\n\n_Log(\"Finished successfully\")\n\nFunc DownloadContent($dictFile)\n\t$linesNum = _FileCountLines($dictFile)\n\tIf $linesNum = 0 Then\n\t\t_Log(\"The file input.txt is empty\")\n\tElse\n\t\tFor $x = 1 To $linesNum\n\t\t\t$content = FileReadLine($dictFile, $x)\n\t\t\t_Log($content)\n\t\t\tIf StringInStr($content, \".imgchili.net\") Then\n\t\t\t\tFileStuffImgchiliSingle($content)\n\t\t\tElseIf InetGet($content, $Html & $x & \".html\", 1) Then\n\t\t\t\t_Log(\"Downloaded\")\n\t\t\t\tIf StringInStr($content, \"2-chru.net\") Then\n\t\t\t\t\tFileStuff2Chru($x, $content)\n\t\t\t\tElseIf StringInStr($content, \"masterchan.org\") Then\n\t\t\t\t\tFileStuffMasterchan($x, $content)\n\t\t\t\tElseIf StringInStr($content, \"7chan.org\") Then\n\t\t\t\t\tFileStuff7chan($x)\n\t\t\t\tElseIf StringInStr($content, \"imgchili.net/show\") Then\n\t\t\t\t\tFileStuffImgchiliShow($x)\n\t\t\t\tElseIf StringInStr($content, \"imgchili.net\") Then\n\t\t\t\t\tFileStuffImgchili($x)\n\t\t\t\tElseIf StringInStr($content, \"4chan.org\") Then\n\t\t\t\t\tFileStuff4chan($x)\n\t\t\t\tElseIf StringInStr($content, \"8ch.net\") Then\n\t\t\t\t\tFileStuff8ch($x, $content)\n\t\t\t\tElseIf StringInStr($content, \"dynasty-scans.com\") Then\n\t\t\t\t\tFileStuffdynastyscans($x, $content)\n\t\t\t\tElseIf StringInStr($content, \"gogoanime.io\") Then\n\t\t\t\t\tFileStuffGoGoAnime($x)\n\t\t\t\tElseIf StringInStr($content, \"bandcamp.com\") Then\n\t\t\t\t\tFileStuffBandCamp($x)\n\t\t\t\tElseIf StringInStr($content, \"mediafire.com\") Then\n\t\t\t\t\tFileStuffMediafire($x)\n\t\t\t\tElseIf StringInStr($content, \"kissanime.to\") Then\n\t\t\t\t\tFileStuffKissAnime($x)\n\t\t\t\tElse\n\t\t\t\t\t_Log(\"Unknown url\")\n\t\t\t\tEndIf\n\t\t\tElse\n\t\t\t\t_Log(\"Download Failed\")\n\t\t\tEndIf\n\t\t\tCleanHtml()\n\t\tNext\n\tEndIf\nEndFunc   ;==>DownloadContent\n\nFunc FileStuffKissAnime($cons)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\t$currentFile = RemoveLineBreak($currentFile)\n\tMsgBox(-1, \"asdas\", $currentFile)\nEndFunc   ;==>FileStuffdynastyscans\n\nFunc FileStuffdynastyscans($cons, $link)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\t$pages = _StringBetween($currentFile, '<a href=\"/chapters/', '\"', 1, True)\n\t$link = StringSplit($link, \"/\", 2)[UBound(StringSplit($link, \"/\", 2)) - 2] & \"\\\" & StringSplit($link, \"/\", 2)[UBound(StringSplit($link, \"/\", 2)) - 1]\n\tFor $f = 0 To UBound($pages) - 1\n\t\tIf InetGet(\"http://dynasty-scans.com/chapters/\" & $pages[$f], $Subs & $f & \".html\", 1) Then\n\t\t\t$sub = FileRead($Subs & $f & \".html\")\n\t\t\t$title = _StringBetween($sub, '<title>Dynasty Reader &raquo; ', '</title>', 1, True)[0]\n\t\t\t$images = _StringBetween($sub, '\"image\":\"', '\"', 1, True)\n\t\t\tFor $s = 0 To UBound($images) - 1\n\t\t\t\t$name = StringSplit($images[$s], \"/\", 2)\n\t\t\t\t$dir = \"DynastyScans\\\" & $link & \"\\\" & $title\n\t\t\t\tDownloadStuff(\"http://dynasty-scans.com\" & $images[$s], $dir & \"\\\" & $name[UBound($name) - 1])\n\t\t\tNext\n\t\tElse\n\t\t\t_Log(\"http://dynasty-scans.com/chapters/\" & $pages[$f] & \"Failed\")\n\t\tEndIf\n\tNext\nEndFunc   ;==>FileStuffdynastyscans\n\nFunc FileStuffGoGoAnime($cons)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\t$SerieName = _StringBetween($currentFile, '<meta name=\"description\" content=\"', '\"', 1, True)[0]\n\t$id = _StringBetween($currentFile, 'value=\"', '\"', 1, True)[5]\n\t$start = _StringBetween($currentFile, \"ep_start = '\", \"'\", 1, True)[0]\n\t$end = _StringBetween($currentFile, \"ep_end = '\", \"'\", 1, True)[0]\n\t$URL = 'http://gogoanime.io/site/loadEpisode?ep_start=' & $start & '&ep_end=' & $end & '&id=' & $id\n\t$dir = \"GoGoAnime\\\" & $SerieName & \"\\\"\n\tIf InetGet($URL, $Html & \"AnimeLinks.html\", 1) Then\n\t\t$LinksFile = FileRead($Html & \"AnimeLinks.html\")\n\t\t$EpLinks = _StringBetween($LinksFile, '<a href=\" ', '\"', 1, True)\n\t\tFor $f = 0 To UBound($EpLinks) - 1\n\t\t\tIf Not FileExists($dir & \"Episode_\" & ($end - $f) & \".mp4\") Then\n\t\t\t\tIf InetGet($EpLinks[$f], $Subs & $f & \".html\", 1) Then\n\t\t\t\t\t_Log(\"Downloading Episode \" & ($end - $f))\n\t\t\t\t\t$SubFile = FileRead($Subs & $f & \".html\")\n\t\t\t\t\t$VidURL = _StringBetween($SubFile, '<option value=\"', '\">', 1, True)\n\t\t\t\t\tIf IsArray($VidURL) Then\n\t\t\t\t\t\tIf Not DownloadStuff($VidURL[0], $dir & \"Episode_\" & ($end - $f) & \".mp4\") Then\n\t\t\t\t\t\t\tGoGoAnimeIframe($dir, $SubFile, $Subs, $end, $f)\n\t\t\t\t\t\tEndIf\n\t\t\t\t\tElse\n\t\t\t\t\t\tGoGoAnimeIframe($dir, $SubFile, $Subs, $end, $f)\n\t\t\t\t\tEndIf\n\t\t\t\tElse\n\t\t\t\t\t_Log(\"Failed to get episode page.\")\n\t\t\t\tEndIf\n\t\t\tEndIf\n\t\tNext\n\tElse\n\t\t_Log(\"Failed to get episode list.\")\n\tEndIf\nEndFunc   ;==>FileStuffGoGoAnime\n\nFunc GoGoAnimeIframe($dir, $SubFile, $Subs, $end, $f)\n\t$EpFrame = _StringBetween($SubFile, '<iframe src=\"', '\"', 1, True)\n\tIf IsArray($EpFrame) Then\n\t\tIf InetGet($EpFrame[0], $Subs & ($end - $f) & \"s.html\", 1) Then\n\t\t\t_Log(\"Downloading \" & $EpFrame[0] & \" to \" & $Subs & ($end - $f) & \"s.html\")\n\t\t\t$FilePage = FileRead($Subs & ($end - $f) & \"s.html\")\n\t\t\t$VidURL = _StringBetween($FilePage, \"<source src='\", \"'\", 1, True)[0]\n\t\t\tDownloadStuff($VidURL, $dir & \"Episode_\" & ($end - $f) & \".mp4\")\n\t\tElse\n\t\t\t_Log(\"Failed to get real episode page.\")\n\t\tEndIf\n\tElse\n\t\t_Log(\"No usable source was found.\")\n\tEndIf\nEndFunc\n\nFunc FileStuffMediafire($cons)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\t$currentFile = RemoveLineBreak($currentFile)\n\t$URL = _StringBetween($currentFile, 'kNO = \"', '\"', 1, True)[0]\n\t$FILE = _StringBetween($currentFile, '<META NAME=\"description\" CONTENT=\"', '\"', 1, True)[0]\n\t$dir = \"Mediafire\\\"\n\tDownloadStuff($URL, $dir & $FILE)\nEndFunc   ;==>FileStuffMediafire\n\nFunc DetectMediafire($input)\n\t$Instances = _StringBetween($input, 'href=\"http://www.mediafire.com/download.php?', '\"', 1, True)\n\tIf IsArray($Instances) Then\n\t\tFor $t = 0 To UBound($Instances) - 1\n\t\t\tIf InetGet(\"http://www.mediafire.com/download.php?\" & $Instances[$t], $Fire & $t & \".html\") Then\n\t\t\t\t$currentFile = FileRead($Fire & $t & \".html\")\n\t\t\t\t$currentFile = RemoveLineBreak($currentFile)\n\t\t\t\t$URL = _StringBetween($currentFile, 'kNO = \"', '\"', 1, True)\n\t\t\t\tIf IsArray($URL) Then\n\t\t\t\t\t$FILE = _StringBetween($currentFile, '<META NAME=\"description\" CONTENT=\"', '\"', 1, True)[0]\n\t\t\t\t\t$dir = \"Mediafire\\\"\n\t\t\t\t\tDownloadStuff($URL[0], $dir & $FILE)\n\t\t\t\tElse\n\t\t\t\t\t_Log(\"Cloudflare error\")\n\t\t\t\tEndIf\n\t\t\tElse\n\t\t\t\t_Log(\"Failed to download mediafire page\")\n\t\t\tEndIf\n\t\tNext\n\tEndIf\nEndFunc   ;==>DetectMediafire\n\nFunc FileStuffBandCamp($cons)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\t$currentFile = RemoveLineBreak($currentFile)\n\tFileWrite(FileOpen($Html & $cons & \".html\", 2), $currentFile)\n\t$player = _StringBetween($currentFile, '<meta property=\"og:video\" content=\"', '\">', 1, True)[0]\n\tIf InetGet($player, $Subs & \"Player.html\") Then\n\t\t$PFile = FileRead($Subs & \"Player.html\")\n\t\t$ATitle = _StringBetween($PFile, '\"album_title\":\"', '\"', 1, True)[0]\n\t\t$Titles = _StringBetween($PFile, '\"title\":\"', '\"', 1, True)\n\t\t$Music = _StringBetween($PFile, '\"mp3-128\":\"', '\"', 1, True)\n\t\t$dir = \"Bandcamp\\\" & $ATitle & \"\\\"\n\t\tIf IsArray($Music) Then\n\t\t\tFor $f = 0 To UBound($Music) - 1\n\t\t\t\tDownloadStuff($Music[$f], $dir & $f + 1 & \". \" & $Titles[$f] & \".mp3\")\n\t\t\tNext\n\t\tElse\n\t\t\t_Log(\"No music was found\")\n\t\tEndIf\n\tElse\n\t\t_Log(\"Downloading player failed\")\n\tEndIf\nEndFunc   ;==>FileStuffBandCamp\n\nFunc FileStuff8ch($cons, $string)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\tDetectMediafire($currentFile)\n\t$images = _StringBetween($currentFile, '</p><a href=\"', '\" target=\"_blank\"', 1, True)\n\t$Fol = StringSplit($string, \"/\", 2)\n\tIf IsArray($images) Then\n\t\tFor $s = 0 To UBound($images) - 1\n\t\t\t$images[$s] = StringSplit(StringReplace($images[$s], \"/player.php?v=\", \"\"), \"&\", 2)[0]\n\t\t\t$cat = StringSplit($images[$s], \"/\", 2)\n\t\t\t$Path = \"8ch\\\" & $Fol[UBound($Fol) - 3] & \"\\\" & StringReplace($Fol[UBound($Fol) - 1], \".html\", \"\")\n\t\t\tDownloadStuff($images[$s], $Path & \"\\\" & $cat[UBound($cat) - 1])\n\t\tNext\n\tEndIf\nEndFunc   ;==>FileStuff8ch\n\nFunc FileStuff4chan($cons)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\tDetectMediafire($currentFile)\n\t$images = _StringBetween($currentFile, 'class=\"fileThumb\" href=\"//i.4cdn.org/', '\" target=\"_blank\"', 1, True)\n\tIf IsArray($images) Then\n\t\tFor $s = 0 To UBound($images) - 1\n\t\t\t$cat = StringSplit($images[$s], \"/\", 2)\n\t\t\t$title = _StringBetween($currentFile, '<title>/' & $cat[0] & '/ - ', ' - 4chan</title>', 1, True)\n\t\t\t$Path = \"4chan\\\" & $cat[0] & \"\\\" & $title[0]\n\t\t\tDownloadStuff(\"http://i.4cdn.org/\" & $images[$s], $Path & \"\\\" & $cat[1])\n\t\tNext\n\tEndIf\nEndFunc   ;==>FileStuff4chan\n\nFunc FileStuffImgchiliSingle($string)\n\t$cat = StringSplit($string, \"/\", 2)\n\tDownloadStuff($string, \"Imgchili\\Single\\\" & $cat[UBound($cat) - 2] & \"\\\" & $cat[UBound($cat) - 1])\nEndFunc   ;==>FileStuffImgchiliSingle\n\nFunc FileStuffImgchiliShow($cons)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\tFor $x = 1 To 10\n\t\t$images = _StringBetween($currentFile, 'src=\"http://i' & $x & '.imgchili.net/', '\" alt=\"')\n\t\tIf IsArray($images) Then\n\t\t\tFor $s = 0 To UBound($images) - 1\n\t\t\t\t$Part = StringSplit($images[$s], \"/\", 2)\n\t\t\t\t$Path = \"Imgchili\\Single\\\" & $Part[0]\n\t\t\t\tDownloadStuff('http://i' & $x & '.imgchili.net/' & $images[$s], $Path & \"\\\" & $Part[1])\n\t\t\tNext\n\t\tEndIf\n\tNext\nEndFunc   ;==>FileStuffImgchiliShow\n\nFunc FileStuffImgchili($cons)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\t$title = _StringBetween($currentFile, \"<title>imgChili &raquo; \", \"</title>\", 1, True)[0]\n\tFor $x = 1 To 10\n\t\t$images = _StringBetween($currentFile, '<img src=\"http://t' & $x & '.imgchili.net/', '\" alt=\"', 1, True)\n\t\tIf IsArray($images) Then\n\t\t\tFor $s = 0 To UBound($images) - 1\n\t\t\t\t$Ext = _StringBetween($currentFile, StringTrimRight($images[$s], 4), '\">', 1, True)[0]\n\t\t\t\t$Part = StringSplit($images[$s], \"/\", 2)\n\t\t\t\t$Path = \"Imgchili\\\" & $title & \"\\\" & StringTrimRight($Part[UBound($Part) - 1], 4) & $Ext\n\t\t\t\tDownloadStuff('http://i' & $x & '.imgchili.net/' & StringTrimRight($images[$s], 4) & $Ext, $Path)\n\t\t\tNext\n\t\tEndIf\n\tNext\nEndFunc   ;==>FileStuffImgchili\n\nFunc FileStuff7chan($cons)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\tDetectMediafire($currentFile)\n\t$cat = _StringBetween($currentFile, \"kusaba.board   = '\", \"';\", 1, True)[0]\n\t$id = _StringBetween($currentFile, \"kusaba.thread = \", \";\", 1, True)[0]\n\t$images = _StringBetween($currentFile, '<a target=\"_blank\" href=\"', '\">', 1, True)\n\tIf IsArray($images) Then\n\t\t_Log(\"Files detected\")\n\t\tFor $s = 0 To UBound($images) - 1\n\t\t\t$Parts = StringSplit($images[$s], \"/\", 2)\n\t\t\t$Path = \"7chan\\\" & $cat & \"\\\" & $id\n\t\t\tDownloadStuff($images[$s], $Path & \"\\\" & $Parts[UBound($Parts) - 1])\n\t\tNext\n\tEndIf\nEndFunc   ;==>FileStuff7chan\n\nFunc FileStuffMasterchan($cons, $string)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\tDetectMediafire($currentFile)\n\t$cat = StringSplit($string, \"/\", 2)\n\t$images = _StringBetween($currentFile, '<a class=\"hyperlinkImageThumb\" href=\"', '\" target=\"_blank\">', 1, True)\n\tIf IsArray($images) Then\n\t\t_Log(\"Files detected\")\n\t\tFor $s = 0 To UBound($images) - 1\n\t\t\t$Parts = StringSplit($images[$s], \"/\", 2)\n\t\t\t$Path = \"Masterchan\\\" & $cat[3] & \"\\\" & $cat[UBound($cat) - 1]\n\t\t\tDownloadStuff($images[$s], $Path & \"\\\" & $Parts[UBound($Parts) - 1])\n\t\tNext\n\tEndIf\nEndFunc   ;==>FileStuffMasterchan\n\nFunc FileStuff2Chru($cons, $string)\n\t$currentFile = FileRead($Html & $cons & \".html\")\n\tDetectMediafire($currentFile)\n\t$cat = StringSplit($string, \"/\", 2)\n\t$images = _StringBetween($currentFile, '<br />      <a href=\"', '\" target=\"_blank\" id=\"', 1, True)\n\tIf IsArray($images) Then\n\t\t_Log(\"Files detected\")\n\t\tFor $s = 0 To UBound($images) - 1\n\t\t\t$Parts = StringSplit($images[$s], \"/\", 2)\n\t\t\t$Path = \"2chru\\\" & $cat[UBound($cat) - 3] & \"\\\" & StringReplace($cat[UBound($cat) - 1], \".html\", \"\")\n\t\t\tDownloadStuff(\"https://2-chru.net\" & $images[$s], $Path & \"\\\" & $Parts[UBound($Parts) - 1])\n\t\tNext\n\tEndIf\nEndFunc   ;==>FileStuff2Chru\n\nFunc DownloadStuff($Source, $Output)\n\t$Output = @ScriptDir & \"\\files\\\" & ConvQ($Output)\n\tDirCreate(StringTrimRight($Output, StringLen($Output) - StringInStr($Output, \"\\\", 0, -1)))\n\t_Log(\"Downloading file \" & $Source & \" to \" & $Output)\n\tIf Not FileExists($Output) Then\n\t\tIf Not InetGet($Source, $Output, 1) Then\n\t\t\t_Log(\"File download failed\")\n\t\t\tReturn False\n\t\tEndIf\n\tEndIf\n\tReturn True\nEndFunc   ;==>DownloadStuff\n\nFunc _Log($Message)\n\tConsoleWrite($Message & @CRLF)\n\t$LogFile = FileOpen(@ScriptDir & \"\\log.txt\", 1)\n\tFileWrite($LogFile, $Message & @CRLF)\nEndFunc   ;==>_Log\n\nFunc RemoveLineBreak($input)\n\t$LessLines = StringReplace($input, @CR, \"\")\n\t$EvenLessLines = StringReplace($LessLines, @LF, \"\")\n\t$NoTabs = StringReplace($EvenLessLines, @TAB, \"\")\n\t$NoLines = StringReplace($NoTabs, \"    \", \"\")\n\tReturn $NoLines\nEndFunc   ;==>RemoveLineBreak\n\nFunc ConvQ($input)\n\t$NoCol = StringReplace($input, \":\", \";\")\n\t$Apostrof = StringReplace($NoCol, \"&#x27;\", \"'\")\n\tReturn StringReplace($Apostrof, \"?\", \"Q\")\nEndFunc   ;==>ConvQ\n\nFunc CleanHtml()\n\tFileRecycle($Html)\n\tDirCreate($Subs)\n\tDirCreate($Fire)\nEndFunc   ;==>CleanHtml\n\nFunc KissAnimeWrap($s)\n\tIf Mod( StringLen($s), 4) Then\n\t\tMsgBox(16, \"ERROR\", \"InvalidCharacterError: 'asp.wrap' failed: The string to be wrapd is not correctly encoded.\")\n\tEndIf\n\tLocal $buffer = KissAnimeFromUtf8($s)\n\tLocal $position = 0\n\tLocal $len = UBound($buffer)\n\tConsoleWrite($len & @CRLF)\n\tLocal $result = \"\"\n\tWhile $position < $len\n\t\tIf $buffer[0] < 128 Then\n\t\t\t$result &= Chr( $buffer[$position] )\n\t\tElseIf $buffer[0] > 191 And $buffer[$position] < 224 Then\n\t\t\t$result &= Chr( BitOR( BitShift( BitAND( $buffer[$position], 31 ), -6 ), BitAND( $buffer[$position], 63) ) )\n\t\tElse\n\t\t\t$result &= Chr( BitOR( BitShift( BitAND( $buffer[$position], 15), -12), BitShift( BitAND($buffer[$position], 63), -6), BitAND( $buffer[$position], 63) ) )\n\t\tEndIf\n\t\t$position += 1\n\tWEnd\n\tReturn $result\nEndFunc\n\nFunc KissAnimeFromUtf8($s)\n\tLocal $KissAnimeAlphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"\n\tLocal $position = 0\n\tLocal $len\n\tLocal $buffer[0]\n\tLocal $enc[4]\n\t$len = StringLen($s)\n\tWhile $position < $len + 1\n\t\t$position += 1\n\t\t$enc[0]=StringInStr($KissAnimeAlphabet, StringMid($s, $position, 1), 1)-1\n\t\t$position += 1\n\t\t$enc[1]=StringInStr($KissAnimeAlphabet, StringMid($s, $position, 1), 1)-1\n\t\t_ArrayAdd($buffer, BitOR(BitShift($enc[0], -2), BitShift($enc[1], 4)))\n\t\t$position += 1\n\t\t$enc[2]=StringInStr($KissAnimeAlphabet, StringMid($s, $position, 1), 1)-1\n\t\tIf $enc[2]=64 Then\n\t\t\tConsoleWrite(\"Abandon 2\" & @CRLF)\n\t\t\tExitLoop\n\t\tEndIf\n\t\t_ArrayAdd($buffer, BitOR(BitShift(BitAND($enc[1], 15), -4), BitShift($enc[2], 2)))\n\t\t$position += 1\n\t\t$enc[3]=StringInStr($KissAnimeAlphabet, StringMid($s, $position, 1), 1)-1\n\t\tIf $enc[3]=64 Then\n\t\t\tConsoleWrite(\"Abandon 3\" & @CRLF)\n\t\t\tExitLoop\n\t\tEndIf\n\t\t_ArrayAdd($buffer, BitOR(BitShift(BitAND($enc[2], 3), -6), $enc[3]))\n\tWEnd\n\t_ArrayDisplay($buffer)\n\tReturn $buffer\nEndFunc","language":"text/plain","encrypted":false,"added":1463863416}],"comment":[]}