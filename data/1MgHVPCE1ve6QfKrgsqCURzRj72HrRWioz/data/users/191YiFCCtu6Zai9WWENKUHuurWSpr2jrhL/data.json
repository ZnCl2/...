{"next_paste_id":6,"next_comment_id":0,"paste":[{"paste_id":0,"description":" Interpretador de Brainfuck (JavaScript)","body":"/* \n * Brainfuck interpreter\n * \n * Copyright (c) 2017 Project Nayuki\n * All rights reserved. Contact Nayuki for licensing.\n * https://www.nayuki.io/page/brainfuck-interpreter-javascript\n */\n\n\"use strict\";\n\n\nvar instance = null;\nvar stepButton = document.getElementById(\"step\");\nvar runButton = document.getElementById(\"run\");\nvar pauseButton = document.getElementById(\"pause\");\n\n\n/*---- Entry points from the HTML code ----*/\n\nfunction doLoad() {\n\tif (instance != null) {\n\t\tinstance.pause();\n\t\tinstance = null;\n\t}\n\ttry {\n\t\tinstance = new Brainfuck(document.getElementById(\"code\").value);\n\t} catch (e) {\n\t\talert(e);\n\t\treturn;\n\t}\n}\n\n\nfunction demo(s) {\n\tdocument.getElementById(\"code\").value = s;\n\tdoLoad();\n}\n\n\nfunction doStep() {\n\tif (instance != null)\n\t\tinstance.step();\n}\n\n\nfunction doRun() {\n\tif (instance != null) {\n\t\tstepButton.disabled = true;\n\t\trunButton.disabled = true;\n\t\tpauseButton.disabled = false;\n\t\tinstance.run();\n\t}\n}\n\n\nfunction doPause() {\n\tif (instance != null) {\n\t\tinstance.pause();\n\t\tstepButton.disabled = false;\n\t\trunButton.disabled = false;\n\t\tpauseButton.disabled = true;\n\t}\n}\n\n\n\n/*---- Brainfuck interpreter core ----*/\n\n// Constants for the opcodes\nvar LEFT  = 0,\n    RIGHT = 1,\n    PLUS  = 2,\n    MINUS = 3,\n    IN    = 4,\n    OUT   = 5,\n    LOOP  = 6,\n    BACK  = 7;\n\n\nfunction Brainfuck(code) {\n\t// State variables\n\t\n\tvar program = compile(code);\n\tvar programCounter = 0;\n\tvar memory = [];\n\tvar memoryIndex = 0;\n\tvar input = document.getElementById(\"input\").value;\n\tvar inputIndex = 0;\n\tvar output = \"\";\n\tvar outputChanged = false;\n\t\n\tvar steps = 0;\n\tvar lastStepsUpdate = null;\n\tvar timeout = null;\n\tvar minMemoryWrite = memoryIndex;  // Inclusive\n\tvar maxMemoryWrite = memoryIndex;  // Inclusive\n\t\n\tshowState();\n\tstepButton.disabled = isHalted();\n\trunButton.disabled = isHalted();\n\tpauseButton.disabled = true;\n\t\n\t// Public controls\n\t\n\tthis.run = function() {\n\t\tif (!isHalted() && timeout == null)\n\t\t\trun(1);\n\t};\n\t\n\tthis.step = function() {\n\t\tif (!isHalted() && timeout == null) {\n\t\t\tstep();\n\t\t\tshowState();\n\t\t\tif (isHalted()) {\n\t\t\t\tstepButton.disabled = true;\n\t\t\t\trunButton.disabled = true;\n\t\t\t}\n\t\t}\n\t};\n\t\n\tthis.pause = function() {\n\t\tif (timeout != null) {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = null;\n\t\t\tshowState();\n\t\t}\n\t};\n\t\n\t\n\t// Execution\n\t\n\tfunction run(iters) {\n\t\tvar startTime = Date.now();\n\t\toutputChanged = false;\n\t\t\n\t\tfor (var i = 0; i < iters && step(); i++);\n\t\t\n\t\tif (isHalted()) {\n\t\t\tshowState();\n\t\t\tpauseButton.disabled = true;\n\t\t\n\t\t} else {\n\t\t\tif (outputChanged)\n\t\t\t\tshowOutput();\n\t\t\tif (lastStepsUpdate == null || Date.now() - lastStepsUpdate >= 100) {\n\t\t\t\tshowSteps();\n\t\t\t\tlastStepsUpdate = Date.now();\n\t\t\t}\n\t\t\t\n\t\t\t// Regulate the number of iterations to execute before relinquishing control of the main JavaScript thread\n\t\t\tvar execTime = Date.now() - startTime;  // How long this execution took\n\t\t\tvar nextIters = calcNextIters(execTime, iters);\n\t\t\ttimeout = setTimeout(\n\t\t\t\tfunction() {\n\t\t\t\t\ttimeout = null;\n\t\t\t\t\trun(nextIters);\n\t\t\t\t}, 1);\n\t\t}\n\t}\n\t\n\t\n\tfunction step() {\n\t\tif (isHalted())\n\t\t\treturn false;\n\t\tswitch (program[programCounter]) {\n\t\t\tcase LEFT:\n\t\t\t\tmemoryIndex--;\n\t\t\t\tprogramCounter++;\n\t\t\t\tbreak;\n\t\t\tcase RIGHT:\n\t\t\t\tmemoryIndex++;\n\t\t\t\tprogramCounter++;\n\t\t\t\tbreak;\n\t\t\tcase PLUS:\n\t\t\t\tsetCell((getCell() + 1) & 0xFF);\n\t\t\t\tprogramCounter++;\n\t\t\t\tbreak;\n\t\t\tcase MINUS:\n\t\t\t\tsetCell((getCell() - 1) & 0xFF);\n\t\t\t\tprogramCounter++;\n\t\t\t\tbreak;\n\t\t\tcase IN:\n\t\t\t\tsetCell(getNextInputByte());\n\t\t\t\tprogramCounter++;\n\t\t\t\tbreak;\n\t\t\tcase OUT:\n\t\t\t\toutput += String.fromCharCode(getCell());\n\t\t\t\toutputChanged = true;\n\t\t\t\tprogramCounter++;\n\t\t\t\tbreak;\n\t\t\tcase LOOP:\n\t\t\t\tif (getCell() == 0)\n\t\t\t\t\tprogramCounter = program[programCounter + 1];\n\t\t\t\tprogramCounter += 2;\n\t\t\t\tbreak;\n\t\t\tcase BACK:\n\t\t\t\tif (getCell() != 0)\n\t\t\t\t\tprogramCounter = program[programCounter + 1];\n\t\t\t\tprogramCounter += 2;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow \"Assertion error\";\n\t\t}\n\t\tsteps++;\n\t\treturn !isHalted();\n\t}\n\t\n\t\n\t// Helper functions\n\t\n\tfunction isHalted() {\n\t\treturn programCounter == program.length;\n\t}\n\t\n\tfunction getCell() {\n\t\tif (memory[memoryIndex] === undefined)\n\t\t\tmemory[memoryIndex] = 0;\n\t\treturn memory[memoryIndex];\n\t}\n\t\n\tfunction setCell(value) {\n\t\tmemory[memoryIndex] = value;\n\t\tminMemoryWrite = Math.min(memoryIndex, minMemoryWrite);\n\t\tmaxMemoryWrite = Math.max(memoryIndex, maxMemoryWrite);\n\t}\n\t\n\tfunction getNextInputByte() {\n\t\tif (inputIndex == input.length)\n\t\t\treturn 0;\n\t\telse if (input.charCodeAt(inputIndex) >= 256)\n\t\t\tthrow \"Error: Input has character code greater than 255\";\n\t\telse\n\t\t\treturn input.charCodeAt(inputIndex++);\n\t}\n\t\n\t\n\tfunction calcNextIters(time, iters) {\n\t\tvar TARGET_TIME = 20;\n\t\t\n\t\tvar multiplier = time > 0 ? TARGET_TIME / time : 2.0;\n\t\tif (multiplier > 10.0) multiplier = 10.0;\n\t\telse if (multiplier < 0.1) multiplier = 0.1;\n\t\t\n\t\tvar nextIters = Math.round(multiplier * iters);\n\t\tif (nextIters < 1) nextIters = 1;\n\t\treturn nextIters;\n\t}\n\t\n\t\n\tfunction showState() {\n\t\tshowOutput();\n\t\tshowMemory();\n\t\tshowSteps();\n\t}\n\t\n\tfunction showOutput() {\n\t\tdocument.getElementById(\"output\").value = output;\n\t}\n\t\n\tfunction showMemory() {\n\t\tvar s = \"Address  Value  Pointer\\n\";\n\t\tvar lower = Math.min(minMemoryWrite, memoryIndex);\n\t\tvar upper = Math.max(maxMemoryWrite, memoryIndex);\n\t\tvar start = Math.max(memoryIndex - 1000, lower);\n\t\tvar end   = Math.min(memoryIndex + 1000, upper);\n\t\tif (start != lower)\n\t\t\ts += \"(... more values, but truncated ...)\\n\";\n\t\tfor (var i = start; i <= end; i++)\n\t\t\ts += padNumber(i, 7) + \"  \" + padNumber(memory[i] !== undefined ? memory[i] : 0, 5) + (i == memoryIndex? \"  <--\" : \"\") + \"\\n\";\n\t\tif (end != upper)\n\t\t\ts += \"(... more values, but truncated ...)\\n\";\n\t\tdocument.getElementById(\"memory\").value = s;\n\t}\n\t\n\tfunction showSteps() {\n\t\tdocument.getElementById(\"steps\").value = steps.toString();\n\t}\n\t\n\t\n\tfunction padNumber(n, width) {\n\t\tvar s = n.toString();\n\t\twhile (s.length < width)\n\t\t\ts = \" \" + s;\n\t\treturn s;\n\t}\n\t\n}\n\n\n// Given the program string, returns an array of numeric opcodes and jump targets.\nfunction compile(str) {\n\tvar result = [];\n\tvar openBracketIndices = [];\n\tfor (var i = 0; i < str.length; i++) {\n\t\tvar op;\n\t\tswitch (str.charAt(i)) {\n\t\t\tcase '<':  op = LEFT;   break;\n\t\t\tcase '>':  op = RIGHT;  break;\n\t\t\tcase '+':  op = PLUS;   break;\n\t\t\tcase '-':  op = MINUS;  break;\n\t\t\tcase ',':  op = IN;     break;\n\t\t\tcase '.':  op = OUT;    break;\n\t\t\tcase '[':  op = LOOP;   break;\n\t\t\tcase ']':  op = BACK;   break;\n\t\t\tdefault:   op = -1;     break;\n\t\t}\n\t\tif (op != -1)\n\t\t\tresult.push(op);\n\t\t\n\t\t// Add jump targets\n\t\tif (op == LOOP) {\n\t\t\topenBracketIndices.push(result.length - 1);\n\t\t\tresult.push(-1);  // Placeholder\n\t\t} else if (op == BACK) {\n\t\t\tif (openBracketIndices.length == 0)\n\t\t\t\tthrow \"Mismatched brackets (extra right bracket)\";\n\t\t\tvar index = openBracketIndices.pop();\n\t\t\tresult[index + 1] = result.length - 1;\n\t\t\tresult.push(index);\n\t\t}\n\t}\n\tif (openBracketIndices.length > 0)\n\t\tthrow \"Mismatched brackets (extra left bracket)\";\n\treturn result;\n}\n","language":"text/javascript","encrypted":false,"added":1565055727},{"paste_id":1,"description":" Calcular divisores (JavaScript)","body":"/* \n * Calculate divisors\n * \n * Copyright (c) 2018 Project Nayuki\n * All rights reserved. Contact Nayuki for licensing.\n * https://www.nayuki.io/page/calculate-divisors-javascript\n */\n\n\"use strict\";\n\n\nvar numberElem = document.getElementById(\"number\");\nvar lastInput = \"\";\n\n\n/* \n * Handles the HTML input/output for calculating the divisors of an integer.\n * This is the one and only entry point function called from the HTML code.\n */\nfunction divisors() {\n\t// Don't calculate if input text didn't change\n\tvar numberText = numberElem.value;\n\tif (numberText == lastInput)\n\t\treturn;\n\tlastInput = numberText;\n\t\n\tvar s;\n\tif (!/^-?\\d+$/.test(numberText)) {\n\t\ts = \"Not an integer\";\n\t} else {\n\t\tvar n = parseInt(numberText, 10);\n\t\tif (n < 1)\n\t\t\ts = \"Number out of range (< 1)\";\n\t\telse if (n >= 9007199254740992)\n\t\t\ts = \"Number too large\";\n\t\telse  // Main case\n\t\t\ts = listDivisors(n).join(\", \");\n\t}\n\tdocument.getElementById(\"output\").textContent = s;\n}\n\n\n/* \n * Returns the list of divisors (in ascending order) of the given integer.\n * Examples:\n * - listDivisors(1) = [1].\n * - listDivisors(5) = [1, 5].\n * - listDivisors(12) = [1, 2, 3, 4, 6, 12].\n */\nfunction listDivisors(n) {\n\tif (n < 1)\n\t\tthrow \"Argument error\";\n\tvar small = [];\n\tvar large = [];\n\tvar end = Math.floor(Math.sqrt(n));\n\tfor (var i = 1; i <= end; i++) {\n\t\tif (n % i == 0) {\n\t\t\tsmall.push(i);\n\t\t\tif (i * i != n)  // Don't include a square root twice\n\t\t\t\tlarge.push(n / i);\n\t\t}\n\t}\n\tlarge.reverse();\n\treturn small.concat(large);\n}\n","language":"text/javascript","encrypted":false,"added":1565055893},{"paste_id":2,"description":"Decomposição em fatores primos","body":"/* \n * Calculate prime factorization\n * \n * Copyright (c) 2019 Project Nayuki\n * All rights reserved. Contact Nayuki for licensing.\n * https://www.nayuki.io/page/calculate-prime-factorization-javascript\n */\n\n\"use strict\";\n\n\nvar numberElem = document.getElementById(\"number\");\nvar factorization0Elem = document.getElementById(\"factorization0\");\nvar lastInput = \"\";\n\n\n/* \n * Handles the HTML input/output for factoring an integer.\n * This is the one and only entry point function called from the HTML code.\n */\nfunction factor() {\n\t// Don't factor if input text didn't change\n\tvar numberText = numberElem.value;\n\tif (numberText == lastInput)\n\t\treturn;\n\tlastInput = numberText;\n\t\n\t// Reset output line 0\n\tfactorization0Elem.textContent = \"\";\n\t\n\t// Reset output line 1 with blank filler to prevent the page layout from bobbing up and down\n\tvar outElem1 = document.getElementById(\"factorization1\");\n\tclearChildren(outElem1);\n\toutElem1.textContent = NBSP;\n\tvar temp = outElem1.appendChild(document.createElement(\"sup\"));\n\ttemp.textContent = NBSP;\n\t\n\tif (!/^-?\\d+$/.test(numberText)) {\n\t\tfactorization0Elem.textContent = \"Not an integer\";\n\t\treturn;\n\t}\n\t\n\tfunction appendText(str) {\n\t\toutElem1.appendChild(document.createTextNode(str));\n\t}\n\t\n\tvar n = parseInt(numberText, 10);\n\tif (n < 2) {\n\t\tfactorization0Elem.textContent = \"Number out of range (< 2)\";\n\t} else if (n >= 9007199254740992) {\n\t\tfactorization0Elem.textContent = \"Number too large\";\n\t} else {\n\t\t// Main case\n\t\tvar factors = primeFactorList(n);\n\t\tvar factorPowers = toFactorPowerList(factors);\n\t\t\n\t\t// Build prime factor list without powers\n\t\tfactorization0Elem.textContent = n + \" = \" + factors.join(\" \" + TIMES + \" \");\n\t\t\n\t\t// Build prime factor list with powers in superscripts\n\t\tif (factorPowers.length < factors.length) {\n\t\t\tclearChildren(outElem1);\n\t\t\t\n\t\t\tappendText(n + \" = \");\n\t\t\tfactorPowers.forEach(function(factPow, i) {\n\t\t\t\tif (i != 0)\n\t\t\t\t\tappendText(\" \" + TIMES + \" \");\n\t\t\t\t\n\t\t\t\tappendText(factPow[0].toString());\n\t\t\t\tif (factPow[1] > 1) {\n\t\t\t\t\tvar temp = outElem1.appendChild(document.createElement(\"sup\"));\n\t\t\t\t\ttemp.textContent = factPow[1].toString();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n/* \n * Returns the list of prime factors (in ascending order) of the given integer.\n * Examples:\n * - primeFactorList(1) = [].\n * - primeFactorList(7) = [7].\n * - primeFactorList(60) = [2, 2, 3, 5].\n */\nfunction primeFactorList(n) {\n\tif (n < 1)\n\t\tthrow \"Argument error\";\n\tvar result = [];\n\twhile (n != 1) {\n\t\tvar factor = smallestFactor(n);\n\t\tresult.push(factor);\n\t\tn /= factor;\n\t}\n\treturn result;\n}\n\n\n/* \n * Returns the smallest prime factor of the given integer.\n * Examples:\n * - smallestFactor(2) = 2.\n * - smallestFactor(15) = 3.\n */\nfunction smallestFactor(n) {\n\tif (n < 2)\n\t\tthrow \"Argument error\";\n\tif (n % 2 == 0)\n\t\treturn 2;\n\tvar end = Math.floor(Math.sqrt(n));\n\tfor (var i = 3; i <= end; i += 2) {\n\t\tif (n % i == 0)\n\t\t\treturn i;\n\t}\n\treturn n;\n}\n\n\n/* \n * Returns the prime factorization as a list of factor-power pairs, from the\n * given factor list. The given list must be in ascending order. Examples:\n * - toFactorPowerList([2, 2, 2]) = [[2, 3]].\n * - toFactorPowerList([3, 5]) = [[3, 1], [5, 1]].\n */\nfunction toFactorPowerList(factors) {\n\tvar result = [];\n\tvar prevFactor = factors[0];\n\tvar count = 1;\n\tfor (var i = 1; i < factors.length; i++) {\n\t\tif (factors[i] == prevFactor) {\n\t\t\tcount++;\n\t\t} else {\n\t\t\tresult.push([prevFactor, count]);\n\t\t\tprevFactor = factors[i];\n\t\t\tcount = 1;\n\t\t}\n\t}\n\tresult.push([prevFactor, count]);\n\treturn result;\n}\n\n\nfunction clearChildren(node) {\n\twhile (node.firstChild != null)\n\t\tnode.removeChild(node.firstChild);\n}\n\n\nvar TIMES = \"\\u00D7\";  // Times sign\nvar NBSP  = \"\\u00A0\";  // No-break space\n","language":"text/javascript","encrypted":false,"added":1565055982},{"paste_id":3,"description":" Cifra de Vigenère (JavaScript)","body":"/* \n * Vigenère cipher\n * \n * Copyright (c) 2017 Project Nayuki\n * All rights reserved. Contact Nayuki for licensing.\n * https://www.nayuki.io/page/vigenere-cipher-javascript\n */\n\n\"use strict\";\n\n\n/* \n * Handles the HTML input/output for Vigenère cipher encryption/decription.\n * This is the one and only entry point function called from the HTML code.\n */\nfunction doCrypt(isDecrypt) {\n\tif (document.getElementById(\"key\").value.length == 0) {\n\t\talert(\"Key is empty\");\n\t\treturn;\n\t}\n\tvar key = filterKey(document.getElementById(\"key\").value);\n\tif (key.length == 0) {\n\t\talert(\"Key has no letters\");\n\t\treturn;\n\t}\n\tif (isDecrypt) {\n\t\tfor (var i = 0; i < key.length; i++)\n\t\t\tkey[i] = (26 - key[i]) % 26;\n\t}\n\tvar textElem = document.getElementById(\"text\");\n\ttextElem.value = crypt(textElem.value, key);\n}\n\n\n/* \n * Returns the result the Vigenère encryption on the given text with the given key.\n */\nfunction crypt(input, key) {\n\tvar output = \"\";\n\tfor (var i = 0, j = 0; i < input.length; i++) {\n\t\tvar c = input.charCodeAt(i);\n\t\tif (isUppercase(c)) {\n\t\t\toutput += String.fromCharCode((c - 65 + key[j % key.length]) % 26 + 65);\n\t\t\tj++;\n\t\t} else if (isLowercase(c)) {\n\t\t\toutput += String.fromCharCode((c - 97 + key[j % key.length]) % 26 + 97);\n\t\t\tj++;\n\t\t} else {\n\t\t\toutput += input.charAt(i);\n\t\t}\n\t}\n\treturn output;\n}\n\n\n/* \n * Returns an array of numbers, each in the range [0, 26), representing the given key.\n * The key is case-insensitive, and non-letters are ignored.\n * Examples:\n * - filterKey(\"AAA\") = [0, 0, 0].\n * - filterKey(\"abc\") = [0, 1, 2].\n * - filterKey(\"the $123# EHT\") = [19, 7, 4, 4, 7, 19].\n */\nfunction filterKey(key) {\n\tvar result = [];\n\tfor (var i = 0; i < key.length; i++) {\n\t\tvar c = key.charCodeAt(i);\n\t\tif (isLetter(c))\n\t\t\tresult.push((c - 65) % 32);\n\t}\n\treturn result;\n}\n\n\n// Tests whether the specified character code is a letter.\nfunction isLetter(c) {\n\treturn isUppercase(c) || isLowercase(c);\n}\n\n// Tests whether the specified character code is an uppercase letter.\nfunction isUppercase(c) {\n\treturn 65 <= c && c <= 90;  // 65 is character code for 'A'. 90 is 'Z'.\n}\n\n// Tests whether the specified character code is a lowercase letter.\nfunction isLowercase(c) {\n\treturn 97 <= c && c <= 122;  // 97 is character code for 'a'. 122 is 'z'.\n}\n","language":"text/javascript","encrypted":false,"added":1565056079},{"paste_id":4,"description":"Triangle solver (JavaScript)","body":"<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title>Triangle solver (JavaScript)</title>\n\t\t<!-- Copyright (c) 2019 Project Nayuki - https://www.nayuki.io/page/triangle-solver-javascript -->\n\t\t<style type=\"text/css\">\n\t\thtml {\n\t\t\tbackground-color: #FFFFFF;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 120%;\n\t\t\tcolor: #000000;\n\t\t}\n\t\tbody {\n\t\t\tmax-width: 50em;\n\t\t\tmargin-left: auto;\n\t\t\tmargin-right: auto;\n\t\t}\n\t\th1 {\n\t\t\ttext-align: center;\n\t\t\tfont-size: 160%;\n\t\t}\n\t\th2 {\n\t\t\ttext-align: left;\n\t\t\tfont-size: 125%;\n\t\t}\n\t\tp {\n\t\t\tmargin: 0.5em 0em;\n\t\t\tline-height: 1.35;\n\t\t}\n\t\tp.small {\n\t\t\tmargin-top: 1.0em;\n\t\t\ttext-align: center;\n\t\t\tfont-size: 85%;\n\t\t\tline-height: 1.25;\n\t\t}\n\t\ttd, th {\n\t\t\tpadding: 0.25em 0.5em;\n\t\t}\n\t\tth {\n\t\t\tfont-weight: bold;\n\t\t}\n\t\tul {\n\t\t\tmargin-top: 0em;\n\t\t\tmargin-bottom: 0em;\n\t\t\tpadding-top: 0em;\n\t\t\tpadding-bottom: 0em;\n\t\t}\n\t\tli {\n\t\t\tmargin-top: 0.2em;\n\t\t\tmargin-bottom: 0.2em;\n\t\t\tpadding-top: 0em;\n\t\t\tpadding-bottom: 0em;\n\t\t}\n\t\thr {\n\t\t\tmargin: 1.5em 0em;\n\t\t\tborder: none;\n\t\t\tborder-top: 0.1em solid #808080;\n\t\t}\n\t\tinput {\n\t\t\tfont-size: inherit;\n\t\t}\n\t\tvar {\n\t\t\tfont-family: serif;\n\t\t\tfont-style: italic;\n\t\t}\n\t\t#footer {\n\t\t\ttext-align: center;\n\t\t\tcolor: #808080;\n\t\t}\n\t\t#footer a {\n\t\t\ttext-decoration: none;\n\t\t}\n\t\t#footer a:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t\t.onesoln td:nth-child(4),\n\t\t.onesoln th:nth-child(4) span {\n\t\t\tdisplay: none;\n\t\t}\n\t\t.letterhover {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\tborder-radius: 4px;\n\t\t}\n\t\t.letterhover:hover {\n\t\t\tbackground-color: #808080;\n\t\t\topacity: 0.25;\n\t\t\tfilter: alpha(opacity=25);\n\t\t}\n\t\t</style>\n\t</head>\n\t\n\t<body>\n\t\t<h1>Triangle solver (JavaScript)</h1>\n\t\t\n\t\t<h2 style=\"display:none\">Program</h2>\n\t\t<div style=\"position:relative\">\n\t\t\t<div id=\"diagramcontainer\" style=\"width:500px; margin:0em auto; position:relative\">\n\t\t\t\t<img src=\"data:image/png;base64,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\" width=\"500\" height=\"250\" alt=\"Triangle diagram with sides and angles labelled\" style=\"display:block\"/>\n\t\t\t</div>\n\t\t\t<div id=\"hoveroutput\" style=\"display:none; position:absolute; padding:0.5em; background-color:#FFFFFF; border:1px solid #A0A0A0; border-radius:3px\"></div>\n\t\t</div>\n\t\t\n\t\t<form action=\"#\" method=\"get\" onsubmit=\"solve(); return false\">\n\t\t\t<table class=\"noborder onesoln\" id=\"formtable\" style=\"display:table; margin-left:auto; margin-right:auto\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Variable</th>\n\t\t\t\t\t\t<th>Input</th>\n\t\t\t\t\t\t<th style=\"min-width:8em\">Solution</th>\n\t\t\t\t\t\t<th style=\"min-width:8em\"><span>Solution 2</span></th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><label for=\"sideAin\">Side <var>a</var> (units):</label></td>\n\t\t\t\t\t\t<td><input type=\"number\" id=\"sideAin\" autocomplete=\"off\" step=\"any\" style=\"width:8em\" oninput=\"solve()\"/></td>\n\t\t\t\t\t\t<td id=\"sideAout\"></td>\n\t\t\t\t\t\t<td id=\"sideAout2\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><label for=\"sideBin\">Side <var>b</var> (units):</label></td>\n\t\t\t\t\t\t<td><input type=\"number\" id=\"sideBin\" autocomplete=\"off\" step=\"any\" style=\"width:8em\" oninput=\"solve()\"/></td>\n\t\t\t\t\t\t<td id=\"sideBout\"></td>\n\t\t\t\t\t\t<td id=\"sideBout2\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><label for=\"sideCin\">Side <var>c</var> (units):</label></td>\n\t\t\t\t\t\t<td><input type=\"number\" id=\"sideCin\" autocomplete=\"off\" step=\"any\" style=\"width:8em\" oninput=\"solve()\"/></td>\n\t\t\t\t\t\t<td id=\"sideCout\"></td>\n\t\t\t\t\t\t<td id=\"sideCout2\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><label for=\"angleAin\">Angle <var>A</var> (degrees):</label></td>\n\t\t\t\t\t\t<td><input type=\"number\" id=\"angleAin\" autocomplete=\"off\" step=\"any\" style=\"width:8em\" oninput=\"solve()\"/></td>\n\t\t\t\t\t\t<td id=\"angleAout\"></td>\n\t\t\t\t\t\t<td id=\"angleAout2\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><label for=\"angleBin\">Angle <var>B</var> (degrees):</label></td>\n\t\t\t\t\t\t<td><input type=\"number\" id=\"angleBin\" autocomplete=\"off\" step=\"any\" style=\"width:8em\" oninput=\"solve()\"/></td>\n\t\t\t\t\t\t<td id=\"angleBout\"></td>\n\t\t\t\t\t\t<td id=\"angleBout2\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><label for=\"angleCin\">Angle <var>C</var> (degrees):</label></td>\n\t\t\t\t\t\t<td><input type=\"number\" id=\"angleCin\" autocomplete=\"off\" step=\"any\" style=\"width:8em\" oninput=\"solve()\"/></td>\n\t\t\t\t\t\t<td id=\"angleCout\"></td>\n\t\t\t\t\t\t<td id=\"angleCout2\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Area (square units):</td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td id=\"areaout\"></td>\n\t\t\t\t\t\t<td id=\"areaout2\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>Status:</td>\n\t\t\t\t\t\t<td colspan=\"3\" id=\"status\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td colspan=\"3\"><input value=\"Solve\" type=\"submit\"/> <input value=\"Clear\" type=\"reset\" onclick=\"clearOutputs()\"/></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</form>\n\t\t<p class=\"small\">Tips: In the triangle diagram, click on a letter to jump to that input.<br/>\n\t\tWhen solved, hover over a letter to read its value.</p>\n\t\t\n\t\t<hr/>\n\t\t<h2>Description</h2>\n\t\t<p>This JavaScript program calculates the missing sides and angles of a triangle. Give exactly 3 pieces of information, including at least one side.</p>\n\t\t<p>Notes:</p>\n\t\t<ul>\n\t\t\t<li><p>All sides are measured in the same unit. For example, you cannot directly solve a triangle with the sides 3 metres, 5 feet, and 2 yards; you must convert the side lengths to a common unit first.</p></li>\n\t\t\t<li><p>In a valid solution, all side lengths are positive, and all angles are greater than 0° and less than 180°.</p></li>\n\t\t\t<li><p>3 sides (<abbr title=\"side side side\">SSS</abbr>) yields a unique solution, or no solution if the longest side is longer than the sum of the other sides.</p></li>\n\t\t\t<li><p>2 angles and a side (<abbr title=\"angle side angle\">ASA</abbr>) always yields a unique solution, provided that the two given angles add up to less than 180°.</p></li>\n\t\t\t<li><p>2 sides and an enclosed angle (<abbr title=\"side angle side\">SAS</abbr>) always yields a unique solution.</p></li>\n\t\t\t<li><p>2 sides and a non-enclosed angle (<abbr title=\"side side angle\">SSA</abbr>) yields 0, 1, or 2 solutions.</p></li>\n\t\t</ul>\n\t\t<p>More info:</p>\n\t\t<ul>\n\t\t\t<li><a href=\"http://en.wikipedia.org/wiki/Law_of_cosines\">Wikipedia: Law of cosines</a></li>\n\t\t\t<li><a href=\"http://en.wikipedia.org/wiki/Law_of_sines\">Wikipedia: Law of sines</a></li>\n\t\t</ul>\n\t\t<hr>\n\t\t<p id=\"footer\">Copyright © 2018 Project Nayuki – <a href=\"https://www.nayuki.io/page/triangle-solver-javascript\">https://www.nayuki.io/page/triangle-solver-javascript</a></p>\n\t\t\n\t\t\n\t\t<script type=\"text/javascript\">\n\t\t\t\"use strict\";\n\t\t\t\n\t\t\t\n\t\t\t// The main function, which handles the HTML input/output for solving a triangle.\n\t\t\tfunction solve() {\n\t\t\t\tfunction doOutput(nodeId, val, suffix) {\n\t\t\t\t\tif (and(typeof val == \"object\", val.length == 2)) {  // Array\n\t\t\t\t\t\tsetElementText(nodeId, formatNumber(val[0]) + suffix);\n\t\t\t\t\t\tsetElementText(nodeId + \"2\", formatNumber(val[1]) + suffix);\n\t\t\t\t\t\ttwosoln = true;\n\t\t\t\t\t} else if (typeof val == \"number\") {\n\t\t\t\t\t\tsetElementText(nodeId, formatNumber(val) + suffix);\n\t\t\t\t\t\tsetElementText(nodeId + \"2\", formatNumber(val) + suffix);\n\t\t\t\t\t} else\n\t\t\t\t\t\tthrow \"Assertion error\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\t// Get input and solve\n\t\t\t\t\tvar a = getInputNumber(\"sideAin\");\n\t\t\t\t\tvar b = getInputNumber(\"sideBin\");\n\t\t\t\t\tvar c = getInputNumber(\"sideCin\");\n\t\t\t\t\tvar A = getInputNumber(\"angleAin\");\n\t\t\t\t\tvar B = getInputNumber(\"angleBin\");\n\t\t\t\t\tvar C = getInputNumber(\"angleCin\");\n\t\t\t\t\tvar answer = solveTriangle(a, b, c, A, B, C);\n\t\t\t\t\tsolution = answer.slice(0, 6);  // Global variable for mouse hover\n\t\t\t\t\t\n\t\t\t\t\t// Set outputs\n\t\t\t\t\tsetElementText(\"status\", answer[7]);\n\t\t\t\t\tvar twosoln = false;  // Is set to true by doOutput() if any answer item is a length-2 array\n\t\t\t\t\tdoOutput(\"sideAout\" , answer[0], \"\");\n\t\t\t\t\tdoOutput(\"sideBout\" , answer[1], \"\");\n\t\t\t\t\tdoOutput(\"sideCout\" , answer[2], \"\");\n\t\t\t\t\tdoOutput(\"angleAout\", answer[3], DEGREE);\n\t\t\t\t\tdoOutput(\"angleBout\", answer[4], DEGREE);\n\t\t\t\t\tdoOutput(\"angleCout\", answer[5], DEGREE);\n\t\t\t\t\tdoOutput(\"areaout\"  , answer[6], \"\");\n\t\t\t\t\tif (twosoln)\n\t\t\t\t\t\tdocument.getElementById(\"formtable\").classList.remove(\"onesoln\");\n\t\t\t\t\telse\n\t\t\t\t\t\tdocument.getElementById(\"formtable\").classList.add(\"onesoln\");\n\t\t\t\t\t\n\t\t\t\t} catch (e) {\n\t\t\t\t\tclearOutputs();\n\t\t\t\t\tsetElementText(\"status\", e);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t/*---- Solver functions ----*/\n\t\t\t\n\t\t\t// Given some sides and angles, this returns a tuple of 8 number/string values.\n\t\t\tfunction solveTriangle(a, b, c, A, B, C) {\n\t\t\t\tvar sides  = (a != null) + (b != null) + (c != null);  // Boolean to integer conversion\n\t\t\t\tvar angles = (A != null) + (B != null) + (C != null);  // Boolean to integer conversion\n\t\t\t\tvar area, status;\n\t\t\t\t\n\t\t\t\tif (sides + angles != 3)\n\t\t\t\t\tthrow \"Give exactly 3 pieces of information\";\n\t\t\t\telse if (sides == 0)\n\t\t\t\t\tthrow \"Give at least one side length\";\n\t\t\t\t\n\t\t\t\telse if (sides == 3) {\n\t\t\t\t\tstatus = \"Side side side (SSS) case\";\n\t\t\t\t\tif (c >= a + b || a >= b + c || b >= c + a)\n\t\t\t\t\t\tthrow status + \" - No solution\";\n\t\t\t\t\tA = solveAngle(b, c, a);\n\t\t\t\t\tB = solveAngle(c, a, b);\n\t\t\t\t\tC = solveAngle(a, b, c);\n\t\t\t\t\t// Heron's formula\n\t\t\t\t\tvar s = (a + b + c) / 2;\n\t\t\t\t\tarea = Math.sqrt(s * (s - a) * (s - b) * (s - c));\n\t\t\t\t\t\n\t\t\t\t} else if (angles == 2) {\n\t\t\t\t\tstatus = \"Angle side angle (ASA) case\";\n\t\t\t\t\t// Find missing angle\n\t\t\t\t\tif (A == null) A = 180 - B - C;\n\t\t\t\t\tif (B == null) B = 180 - C - A;\n\t\t\t\t\tif (C == null) C = 180 - A - B;\n\t\t\t\t\tif (0 >= A || 0 >= B || 0 >= C)\n\t\t\t\t\t\tthrow status + \" - No solution\";\n\t\t\t\t\tvar sinA = Math.sin(degToRad(A));\n\t\t\t\t\tvar sinB = Math.sin(degToRad(B));\n\t\t\t\t\tvar sinC = Math.sin(degToRad(C));\n\t\t\t\t\t// Use law of sines to find sides\n\t\t\t\t\tvar ratio;  // side / sin(angle)\n\t\t\t\t\tif (a != null) { ratio = a / sinA; area = a * ratio * sinB * sinC / 2; }\n\t\t\t\t\tif (b != null) { ratio = b / sinB; area = b * ratio * sinC * sinA / 2; }\n\t\t\t\t\tif (c != null) { ratio = c / sinC; area = c * ratio * sinA * sinB / 2; }\n\t\t\t\t\tif (a == null) a = ratio * sinA;\n\t\t\t\t\tif (b == null) b = ratio * sinB;\n\t\t\t\t\tif (c == null) c = ratio * sinC;\n\t\t\t\t\t\n\t\t\t\t} else if (and(A != null, a == null) || and(B != null, b == null) || and(C != null, c == null)) {\n\t\t\t\t\tstatus = \"Side angle side (SAS) case\";\n\t\t\t\t\tif (and(A != null, A >= 180) || and(B != null, B >= 180) || and(C != null, C >= 180))\n\t\t\t\t\t\tthrow status + \" - No solution\";\n\t\t\t\t\tif (a == null) a = solveSide(b, c, A);\n\t\t\t\t\tif (b == null) b = solveSide(c, a, B);\n\t\t\t\t\tif (c == null) c = solveSide(a, b, C);\n\t\t\t\t\tif (A == null) A = solveAngle(b, c, a);\n\t\t\t\t\tif (B == null) B = solveAngle(c, a, b);\n\t\t\t\t\tif (C == null) C = solveAngle(a, b, c);\n\t\t\t\t\tif (A != null) area = b * c * Math.sin(degToRad(A)) / 2;\n\t\t\t\t\tif (B != null) area = c * a * Math.sin(degToRad(B)) / 2;\n\t\t\t\t\tif (C != null) area = a * b * Math.sin(degToRad(C)) / 2;\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tstatus = \"Side side angle (SSA) case - \";\n\t\t\t\t\tvar knownSide, knownAngle, partialSide;\n\t\t\t\t\tif (and(a != null, A != null)) { knownSide = a; knownAngle = A; }\n\t\t\t\t\tif (and(b != null, B != null)) { knownSide = b; knownAngle = B; }\n\t\t\t\t\tif (and(c != null, C != null)) { knownSide = c; knownAngle = C; }\n\t\t\t\t\tif (and(a != null, A == null)) partialSide = a;\n\t\t\t\t\tif (and(b != null, B == null)) partialSide = b;\n\t\t\t\t\tif (and(c != null, C == null)) partialSide = c;\n\t\t\t\t\tif (knownAngle >= 180)\n\t\t\t\t\t\tthrow status + \"No solution\";\n\t\t\t\t\tvar ratio = knownSide / Math.sin(degToRad(knownAngle));\n\t\t\t\t\tvar temp = partialSide / ratio;  // sin(partialAngle)\n\t\t\t\t\tvar partialAngle, unknownSide, unknownAngle;\n\t\t\t\t\tif (temp > 1 || and(knownAngle >= 90, partialSide >= knownSide))\n\t\t\t\t\t\tthrow status + \"No solution\";\n\t\t\t\t\telse if (temp == 1 || knownSide >= partialSide) {\n\t\t\t\t\t\tstatus += \"Unique solution\";\n\t\t\t\t\t\tpartialAngle = radToDeg(Math.asin(temp));\n\t\t\t\t\t\tunknownAngle = 180 - knownAngle - partialAngle;\n\t\t\t\t\t\tunknownSide = ratio * Math.sin(degToRad(unknownAngle));  // Law of sines\n\t\t\t\t\t\tarea = knownSide * partialSide * Math.sin(degToRad(unknownAngle)) / 2;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstatus += \"Two solutions\";\n\t\t\t\t\t\tvar partialAngle0 = radToDeg(Math.asin(temp));\n\t\t\t\t\t\tvar partialAngle1 = 180 - partialAngle0;\n\t\t\t\t\t\tvar unknownAngle0 = 180 - knownAngle - partialAngle0;\n\t\t\t\t\t\tvar unknownAngle1 = 180 - knownAngle - partialAngle1;\n\t\t\t\t\t\tvar unknownSide0 = ratio * Math.sin(degToRad(unknownAngle0));  // Law of sines\n\t\t\t\t\t\tvar unknownSide1 = ratio * Math.sin(degToRad(unknownAngle1));  // Law of sines\n\t\t\t\t\t\tpartialAngle = [partialAngle0, partialAngle1];\n\t\t\t\t\t\tunknownAngle = [unknownAngle0, unknownAngle1];\n\t\t\t\t\t\tunknownSide = [unknownSide0, unknownSide1];\n\t\t\t\t\t\tarea = [knownSide * partialSide * Math.sin(degToRad(unknownAngle0)) / 2,\n\t\t\t\t\t\t        knownSide * partialSide * Math.sin(degToRad(unknownAngle1)) / 2];\n\t\t\t\t\t}\n\t\t\t\t\tif (and(a != null, A == null)) A = partialAngle;\n\t\t\t\t\tif (and(b != null, B == null)) B = partialAngle;\n\t\t\t\t\tif (and(c != null, C == null)) C = partialAngle;\n\t\t\t\t\tif (and(a == null, A == null)) { a = unknownSide; A = unknownAngle; }\n\t\t\t\t\tif (and(b == null, B == null)) { b = unknownSide; B = unknownAngle; }\n\t\t\t\t\tif (and(c == null, C == null)) { c = unknownSide; C = unknownAngle; }\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn [a, b, c, A, B, C, area, status];\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t// Returns side c using law of cosines.\n\t\t\tfunction solveSide(a, b, C) {\n\t\t\t\tC = degToRad(C);\n\t\t\t\tif (C > 0.001)\n\t\t\t\t\treturn Math.sqrt(a * a + b * b - 2 * a * b * Math.cos(C));\n\t\t\t\telse  // Explained in https://www.nayuki.io/page/numerically-stable-law-of-cosines\n\t\t\t\t\treturn Math.sqrt((a - b) * (a - b) + a * b * C * C * (1 - C * C / 12));\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t// Returns angle C using law of cosines.\n\t\t\tfunction solveAngle(a, b, c) {\n\t\t\t\tvar temp = (a * a + b * b - c * c) / (2 * a * b);\n\t\t\t\tif (and(temp >= -1, 0.9999999 >= temp))\n\t\t\t\t\treturn radToDeg(Math.acos(temp));\n\t\t\t\telse if (1 >= temp)  // Explained in https://www.nayuki.io/page/numerically-stable-law-of-cosines\n\t\t\t\t\treturn radToDeg(Math.sqrt((c * c - (a - b) * (a - b)) / (a * b)));\n\t\t\t\telse\n\t\t\t\t\tthrow \"No solution\";\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t/*---- Input/output/GUI handling ----*/\n\t\t\t\n\t\t\t// e.g. sideA is associated with sideAin, sideAout, and sideAout2. But area does not have an input.\n\t\t\tvar ioNames = [\"sideA\", \"sideB\", \"sideC\", \"angleA\", \"angleB\", \"angleC\", \"area\"];\n\t\t\t\n\t\t\t// Either null, or an array of 6 items: [sideA, sideB, sideC, angleA, angleB, angleC].\n\t\t\t// Each item is either a number or an array of 2 numbers.\n\t\t\tvar solution = null;\n\t\t\t\n\t\t\t\n\t\t\t// Parses the number from the HTML form field with the given ID.\n\t\t\t// Returns the number if it's positive and finite. Throws an exception if it's zero, negative, infinite, or NaN.\n\t\t\t// Returns null if the field is blank.\n\t\t\tfunction getInputNumber(elemId) {\n\t\t\t\tvar str = document.getElementById(elemId).value;\n\t\t\t\tif (str == \"\")\n\t\t\t\t\treturn null;\n\t\t\t\tvar result = parseFloat(str);\n\t\t\t\tif (!isFinite(result))\n\t\t\t\t\tthrow \"Invalid number\";\n\t\t\t\tif (0 >= result)\n\t\t\t\t\tthrow \"All inputs must be positive\";\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfunction clearOutputs() {\n\t\t\t\tsolution = null;\n\t\t\t\tdocument.getElementById(\"formtable\").classList.add(\"onesoln\");\n\t\t\t\tioNames.forEach(function(name) {\n\t\t\t\t\tsetElementText(name + \"out\" , \"\");\n\t\t\t\t\tsetElementText(name + \"out2\", \"\");\n\t\t\t\t});\n\t\t\t\tsetElementText(\"status\", \"\");\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tvar RECT_PADDED_SIZE = 36;\n\t\t\t\n\t\t\t// List of tuples (left, top, width, height). Values will be modified by initImageMap() to include padding.\n\t\t\tvar rectangles = [\n\t\t\t\t[246, 221, 12, 12],\n\t\t\t\t[ 89,  89, 12, 18],\n\t\t\t\t[321,  87, 11, 13],\n\t\t\t\t[177,  48, 15, 17],  // Tweaked for better aesthetics. True dimensions are [175,48,15,17]\n\t\t\t\t[391, 176, 16, 17],\n\t\t\t\t[ 69, 175, 17, 18],\n\t\t\t];\n\t\t\t\n\t\t\tfunction initImageMap() {\n\t\t\t\tvar container = document.getElementById(\"diagramcontainer\");\n\t\t\t\trectangles.forEach(function(rect, i) {\n\t\t\t\t\tvar elem = container.appendChild(document.createElement(\"a\"));\n\t\t\t\t\telem.href = \"#\";\n\t\t\t\t\telem.classList.add(\"letterhover\");\n\t\t\t\t\trect[0] -= Math.round((RECT_PADDED_SIZE - rect[2]) / 2);\n\t\t\t\t\trect[1] -= Math.round((RECT_PADDED_SIZE - rect[3]) / 2);\n\t\t\t\t\telem.style.left   = rect[0] + \"px\";\n\t\t\t\t\telem.style.top    = rect[1]  + \"px\";\n\t\t\t\t\telem.style.width  = RECT_PADDED_SIZE + \"px\";\n\t\t\t\t\telem.style.height = RECT_PADDED_SIZE + \"px\";\n\t\t\t\t\t\n\t\t\t\t\telem.onmouseover = function() {\n\t\t\t\t\t\tif (solution == null)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar suffix = and(i >= 3, 6 > i) ? DEGREE : \"\";\n\t\t\t\t\t\tvar text;\n\t\t\t\t\t\tif (typeof solution[i] == \"object\")\n\t\t\t\t\t\t\ttext = formatNumber(solution[i][0]) + suffix + \" or \" + formatNumber(solution[i][1]) + suffix;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttext = formatNumber(solution[i]) + suffix;\n\t\t\t\t\t\tsetElementText(\"hoveroutput\", text);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Set hover element style\n\t\t\t\t\t\tvar hovelem = document.getElementById(\"hoveroutput\");\n\t\t\t\t\t\thovelem.style.display = \"block\";\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar compStyle = window.getComputedStyle(hovelem, null);\n\t\t\t\t\t\t\tvar height = parsePixels(compStyle.getPropertyValue(\"height\"));\n\t\t\t\t\t\t\theight    += parsePixels(compStyle.getPropertyValue(\"padding-top\"));\n\t\t\t\t\t\t\theight    += parsePixels(compStyle.getPropertyValue(\"padding-bottom\"));\n\t\t\t\t\t\t\thovelem.style.top = rect[1] - height - 8 + \"px\";\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar temp = document.getElementById(\"diagramcontainer\");\n\t\t\t\t\t\t\tvar containerWidth = parsePixels(window.getComputedStyle(temp, null).getPropertyValue(\"width\"));\n\t\t\t\t\t\t\tvar bodyWidth = parsePixels(window.getComputedStyle(temp.parentNode, null).getPropertyValue(\"width\"));\n\t\t\t\t\t\t\thovelem.style.left = Math.round((bodyWidth - containerWidth) / 2) + rect[0] + \"px\";\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\thovelem.style.left = \"0px\";\n\t\t\t\t\t\t\thovelem.style.top = \"0px\";\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\telem.onmouseout = function() {\n\t\t\t\t\t\tsetElementText(\"hoveroutput\", \"\");\n\t\t\t\t\t\tdocument.getElementById(\"hoveroutput\").style.display = \"none\";\n\t\t\t\t\t};\n\t\t\t\t\telem.onclick = function() {\n\t\t\t\t\t\tdocument.getElementById(ioNames[i] + \"in\").select();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\t/*---- Simple functions ----*/\n\t\t\t\n\t\t\tfunction setElementText(nodeId, str) {\n\t\t\t\tdocument.getElementById(nodeId).textContent = str;\n\t\t\t}\n\t\t\t\n\t\t\tfunction parsePixels(str) {\n\t\t\t\tvar match = /^(\\d+(?:\\.\\d*)?)px$/.exec(str);\n\t\t\t\tif (match != null)\n\t\t\t\t\treturn parseFloat(match[1]);\n\t\t\t\telse\n\t\t\t\t\tthrow \"Invalid unit\";\n\t\t\t}\n\t\t\t\n\t\t\tfunction formatNumber(x) {\n\t\t\t\treturn x.toPrecision(9);\n\t\t\t}\n\t\t\t\n\t\t\tfunction degToRad(x) {\n\t\t\t\treturn x / 180 * Math.PI;\n\t\t\t}\n\t\t\t\n\t\t\tfunction radToDeg(x) {\n\t\t\t\treturn x / Math.PI * 180;\n\t\t\t}\n\t\t\t\n\t\t\t// Workaround to avoid HTML parsing issues\n\t\t\tfunction and(x, y) {\n\t\t\t\treturn x ? y : false;\n\t\t\t}\n\t\t\t\n\t\t\tvar DEGREE = \"\\u00B0\";\n\t\t\t\n\t\t\tinitImageMap();\n\t\t</script>\n\t</body>\n</html>\n","language":"text/javascript","encrypted":false,"added":1565056405},{"paste_id":5,"description":"Gerador de senhas aleatórias (JavaScript)","body":"<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<!-- Copyright (c) 2019 Project Nayuki - https://www.nayuki.io/page/random-password-generator-javascript -->\n\t\t<title>Random password generator (JavaScript)</title>\n\t\t\n\t\t<!--==== Style code ====-->\n\t\t<style type=\"text/css\">\n\t\thtml {\n\t\t\tbackground-color: #FFFFFF;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 130%;\n\t\t\tcolor: #000000;\n\t\t}\n\t\tbody {\n\t\t\tmax-width: 40em;\n\t\t\tmargin-left: auto;\n\t\t\tmargin-right: auto;\n\t\t}\n\t\th1 {\n\t\t\ttext-align: center;\n\t\t\tfont-size: 160%;\n\t\t}\n\t\tform .section {\n\t\t\tpadding: 0.3em 0.5em;\n\t\t\tbackground-color: #FCFCFC;\n\t\t\tborder: 0.05em solid #E0E0E0;\n\t\t\tborder-radius: 0.5em;\n\t\t}\n\t\tform table {\n\t\t\tborder-collapse: collapse;\n\t\t}\n\t\tform input {\n\t\t\tfont-family: inherit;\n\t\t\tfont-size: inherit;\n\t\t}\n\t\tform #charset label:hover {\n\t\t\tbackground-color: #F0F0F0;\n\t\t}\n\t\tform #charset td {\n\t\t\tpadding: 0em;\n\t\t}\n\t\tform #charset input[type=checkbox] {\n\t\t\tmargin: 0em;\n\t\t}\n\t\tform #charset label {\n\t\t\tmargin-left: 0.2em;\n\t\t\tpadding: 0.1em 0.3em 0.1em 0.3em;\n\t\t\tborder-radius: 0.2em;\n\t\t}\n\t\tform #charset small {\n\t\t\tfont-size: 70%;\n\t\t\tcolor: #A0A0A0;\n\t\t}\n\t\tform #type td {\n\t\t\tpadding: 0.2em 0em;\n\t\t}\n\t\tform #type input[type=number] {\n\t\t\ttext-align: right;\n\t\t}\n\t\tform input[type=submit], form input[type=button] {\n\t\t\tpadding: 0.2em 0.6em;\n\t\t}\n\t\tform #password {\n\t\t\tmargin-left: 0.3em;\n\t\t\tpadding: 0.1em 0.3em;\n\t\t\tbackground-color: #F8F8F8;\n\t\t\tborder-radius: 0.2em;\n\t\t\tfont-family: \"Consolas\", monospace;\n\t\t\tfont-size: 140%;\n\t\t}\n\t\tp.lowlight {\n\t\t\tcolor: #A0A0A0;\n\t\t}\n\t\thr {\n\t\t\tborder: none;\n\t\t\tborder-top: 0.05em solid #B0B0B0;\n\t\t}\n\t\ta {\n\t\t\tcolor: inherit;\n\t\t\ttext-decoration: none;\n\t\t}\n\t\ta:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t\t</style>\n\t</head>\n\t\n\t\n\t<!--==== HTML body code ====-->\n\t\n\t<body>\n\t\t<h1>Random password generator (JavaScript)</h1>\n\t\t<form action=\"#\" method=\"get\" onsubmit=\"doGenerate(event);\">\n\t\t\t<div id=\"charset\" class=\"section\" style=\"margin:0.8em 0em\">\n\t\t\t\t<p style=\"margin:0.3em 0em\">Character set:</p>\n\t\t\t\t<table style=\"line-height:1.5\">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td><input type=\"checkbox\" id=\"custom\"></td>\n\t\t\t\t\t\t\t<td><label for=\"custom\"> Custom:</label> <input type=\"text\" id=\"customchars\" value=\"\" size=\"15\" style=\"width:10em; font-size:80%\" oninput=\"document.getElementById('custom').checked=true;\"></td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class=\"section\">\n\t\t\t\t<table id=\"type\">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td><input type=\"radio\" name=\"type\" id=\"by-length\" checked=\"checked\"> <label for=\"by-length\">Length:&#xA0;</label></td>\n\t\t\t\t\t\t\t<td><input type=\"number\" min=\"0\" value=\"10\" step=\"1\" id=\"length\" style=\"width:4em\" oninput=\"document.getElementById('by-length').checked=true;\"> characters</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td><input type=\"radio\" name=\"type\" id=\"by-entropy\"> <label for=\"by-entropy\">Entropy:</label>&#xA0;</td>\n\t\t\t\t\t\t\t<td><input type=\"number\" min=\"0\" value=\"128\" step=\"any\" id=\"entropy\" style=\"width:4em\" oninput=\"document.getElementById('by-entropy').checked=true;\"> bits</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<p style=\"max-width:unset; line-height:1.35; word-break:break-all\">\n\t\t\t\t<input type=\"submit\" value=\"Generate\">\n\t\t\t\t<input type=\"button\" value=\"Copy\" id=\"copy-button\" onclick=\"doCopy();\" disabled=\"disabled\">\n\t\t\t\tPassword: <span id=\"password\"></span>\n\t\t\t</p>\n\t\t\t<p id=\"statistics\" class=\"lowlight\">&#xA0;</p>\n\t\t\t<p class=\"lowlight\" style=\"max-width:unset\">Entropy sources:<br>\n\t\t\t\t✓ <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random\"><code>Math.random()</code></a> (low security)<br>\n\t\t\t\t<span id=\"crypto-getrandomvalues-entropy\"></span> <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/RandomSource/getRandomValues\"><code>crypto.getRandomValues()</code></a> (high security)</p>\n\t\t</form>\n\t\t<hr>\n\t\t<p class=\"lowlight\" style=\"font-size:80%\">Copyright © 2018 Project Nayuki – <a href=\"https://www.nayuki.io/page/random-password-generator-javascript\">https://www.nayuki.io/page/random-password-generator-javascript</a></p>\n\t\t\n\t\t\n\t\t<!--==== JavaScript code ====-->\n\t\t\n\t\t<script type=\"text/javascript\">\n\t\t\"use strict\";\n\t\t\n\t\t\n\t\t/*-- Configuration --*/\n\t\t\n\t\tvar CHARACTER_SETS = [\n\t\t\t[true, \"Numbers\", \"0123456789\"],\n\t\t\t[true, \"Lowercase\", \"abcdefghijklmnopqrstuvwxyz\"],\n\t\t\t[false, \"Uppercase\", \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"],\n\t\t\t[false, \"ASCII symbols\", \"!\\\"#$%\" + String.fromCharCode(38) + \"'()*+,-./:;\" + String.fromCharCode(60) + \"=>?@[\\\\]^_`{|}~\"],\n\t\t\t[false, \"Space\", \" \"],\n\t\t];\n\t\t\n\t\t\n\t\t\n\t\t/*-- Global variables --*/\n\t\t\n\t\tvar passwordElem   = document.getElementById(\"password\"   );\n\t\tvar statisticsElem = document.getElementById(\"statistics\" );\n\t\tvar copyElem       = document.getElementById(\"copy-button\")\n\t\tvar cryptoObject    = null;\n\t\tvar currentPassword = null;\n\t\t\n\t\t\n\t\t\n\t\t/*-- Initialization --*/\n\t\t\n\t\tfunction initCharsets() {\n\t\t\tfunction createElem(tagName, attribs) {\n\t\t\t\tvar result = document.createElement(tagName);\n\t\t\t\tif (attribs !== undefined) {\n\t\t\t\t\tfor (var key in attribs)\n\t\t\t\t\t\tresult[key] = attribs[key];\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\t\n\t\t\tvar container = document.querySelector(\"#charset tbody\");\n\t\t\tvar endElem = document.querySelector(\"#charset tbody > tr:last-child\");\n\t\t\tCHARACTER_SETS.forEach(function(entry, i) {\n\t\t\t\tvar tr = createElem(\"tr\");\n\t\t\t\tvar td = tr.appendChild(createElem(\"td\"));\n\t\t\t\tvar input = td.appendChild(createElem(\"input\", {\n\t\t\t\t\ttype: \"checkbox\",\n\t\t\t\t\tchecked: entry[0],\n\t\t\t\t\tid: \"charset-\" + i}));\n\t\t\t\tvar td = tr.appendChild(createElem(\"td\"));\n\t\t\t\tvar label = td.appendChild(createElem(\"label\", {\n\t\t\t\t\thtmlFor: \"charset-\" + i,\n\t\t\t\t\ttextContent: \" \" + entry[1] + \" \"}));\n\t\t\t\tvar small = label.appendChild(createElem(\"small\", {\n\t\t\t\t\ttextContent: \"(\" + entry[2] + \")\"}));\n\t\t\t\tcontainer.insertBefore(tr, endElem);\n\t\t\t});\n\t\t}\n\t\t\n\t\t\n\t\tfunction initCrypto() {\n\t\t\tvar elem = document.getElementById(\"crypto-getrandomvalues-entropy\");\n\t\t\telem.textContent = \"\\u2717\";  // X mark\n\t\t\t\n\t\t\tif (\"crypto\" in window)\n\t\t\t\tcryptoObject = crypto;\n\t\t\telse if (\"msCrypto\" in window)\n\t\t\t\tcryptoObject = msCrypto;\n\t\t\telse\n\t\t\t\treturn;\n\t\t\t\n\t\t\tif (!(\"getRandomValues\" in cryptoObject) || !(\"Uint32Array\" in window) || typeof Uint32Array != \"function\")\n\t\t\t\tcryptoObject = null;\n\t\t\telse\n\t\t\t\telem.textContent = \"\\u2713\";\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/*-- Entry points from HTML code --*/\n\t\t\n\t\tfunction doGenerate(ev) {\n\t\t\tev.preventDefault();\n\t\t\t\n\t\t\t// Get and check character set\n\t\t\tvar charset = getPasswordCharacterSet();\n\t\t\tif (charset.length == 0) {\n\t\t\t\talert(\"Error: Character set is empty\");\n\t\t\t\treturn;\n\t\t\t} else if (document.getElementById(\"by-entropy\").checked ? charset.length == 1 : false) {\n\t\t\t\talert(\"Error: Need at least 2 distinct characters in set\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// Calculate desired length\n\t\t\tvar length;\n\t\t\tif (document.getElementById(\"by-length\").checked)\n\t\t\t\tlength = parseInt(document.getElementById(\"length\").value, 10);\n\t\t\telse if (document.getElementById(\"by-entropy\").checked)\n\t\t\t\tlength = Math.ceil(parseFloat(document.getElementById(\"entropy\").value) * Math.log(2) / Math.log(charset.length));\n\t\t\telse\n\t\t\t\tthrow \"Assertion error\";\n\t\t\t\n\t\t\t// Check length\n\t\t\tif (0 > length) {\n\t\t\t\talert(\"Negative password length\");\n\t\t\t\treturn;\n\t\t\t} else if (length > 10000) {\n\t\t\t\talert(\"Password length too large\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// Generate password\n\t\t\tcurrentPassword = generatePassword(charset, length);\n\t\t\t\n\t\t\t// Calculate and format entropy\n\t\t\tvar entropy = Math.log(charset.length) * length / Math.log(2);\n\t\t\tvar entropystr;\n\t\t\tif (70 > entropy)\n\t\t\t\tentropystr = entropy.toFixed(2);\n\t\t\telse if (200 > entropy)\n\t\t\t\tentropystr = entropy.toFixed(1);\n\t\t\telse\n\t\t\t\tentropystr = entropy.toFixed(0);\n\t\t\t\n\t\t\t// Set output elements\n\t\t\tpasswordElem.textContent = currentPassword;\n\t\t\tstatisticsElem.textContent = \"Length = \" + length + \" chars, \\u00A0\\u00A0Charset size = \" +\n\t\t\t\tcharset.length + \" symbols, \\u00A0\\u00A0Entropy = \" + entropystr + \" bits\";\n\t\t\tcopyElem.disabled = false;\n\t\t}\n\t\t\n\t\t\n\t\tfunction doCopy() {\n\t\t\tvar container = document.querySelector(\"body\");\n\t\t\tvar textarea = document.createElement(\"textarea\");\n\t\t\ttextarea.style.position = \"fixed\";\n\t\t\ttextarea.style.opacity = \"0\";\n\t\t\tcontainer.insertBefore(textarea, container.firstChild);\n\t\t\ttextarea.value = currentPassword;\n\t\t\ttextarea.focus();\n\t\t\ttextarea.select();\n\t\t\tdocument.execCommand(\"copy\");\n\t\t\tcontainer.removeChild(textarea);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/*-- Low-level functions --*/\n\t\t\n\t\tfunction getPasswordCharacterSet() {\n\t\t\t// Concatenate characters from every checked entry\n\t\t\tvar rawCharset = \"\";\n\t\t\tCHARACTER_SETS.forEach(function(entry, i) {\n\t\t\t\tif (document.getElementById(\"charset-\" + i).checked)\n\t\t\t\t\trawCharset += entry[2];\n\t\t\t});\n\t\t\tif (document.getElementById(\"custom\").checked)\n\t\t\t\trawCharset += document.getElementById(\"customchars\").value;\n\t\t\trawCharset = rawCharset.replace(/ /g, \"\\u00A0\");  // Replace space with non-breaking space\n\t\t\t\n\t\t\t// Parse UTF-16, remove duplicates, convert to array of strings\n\t\t\tvar charset = [];\n\t\t\tfor (var i = 0; rawCharset.length > i; i++) {\n\t\t\t\tvar c = rawCharset.charCodeAt(i);\n\t\t\t\tif (0xD800 > c || c >= 0xE000) {  // Regular UTF-16 character\n\t\t\t\t\tvar s = rawCharset.charAt(i);\n\t\t\t\t\tif (charset.indexOf(s) == -1)\n\t\t\t\t\t\tcharset.push(s);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (0xDC00 > c ? rawCharset.length > i + 1 : false) {  // High surrogate\n\t\t\t\t\tvar d = rawCharset.charCodeAt(i + 1);\n\t\t\t\t\tif (d >= 0xDC00 ? 0xE000 > d : false) {  // Low surrogate\n\t\t\t\t\t\tvar s = rawCharset.substring(i, i + 2);\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\tif (charset.indexOf(s) == -1)\n\t\t\t\t\t\t\tcharset.push(s);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthrow \"Invalid UTF-16\";\n\t\t\t}\n\t\t\treturn charset;\n\t\t}\n\t\t\n\t\t\n\t\tfunction generatePassword(charset, len) {\n\t\t\tvar result = \"\";\n\t\t\tfor (var i = 0; len > i; i++)\n\t\t\t\tresult += charset[randomInt(charset.length)];\n\t\t\treturn result;\n\t\t}\n\t\t\n\t\t\n\t\t// Returns a random integer in the range [0, n) using a variety of methods.\n\t\tfunction randomInt(n) {\n\t\t\tvar x = randomIntMathRandom(n);\n\t\t\tx = (x + randomIntBrowserCrypto(n)) % n;\n\t\t\treturn x;\n\t\t}\n\t\t\n\t\t\n\t\t// Not secure or high quality, but always available.\n\t\tfunction randomIntMathRandom(n) {\n\t\t\tvar x = Math.floor(Math.random() * n);\n\t\t\tif (0 > x || x >= n)\n\t\t\t\tthrow \"Arithmetic exception\";\n\t\t\treturn x;\n\t\t}\n\t\t\n\t\t\n\t\t// Uses a secure, unpredictable random number generator if available; otherwise returns 0.\n\t\tfunction randomIntBrowserCrypto(n) {\n\t\t\tif (cryptoObject == null)\n\t\t\t\treturn 0;\n\t\t\t// Generate an unbiased sample\n\t\t\tvar x = new Uint32Array(1);\n\t\t\tdo cryptoObject.getRandomValues(x);\n\t\t\twhile (x[0] - x[0] % n > 4294967296 - n);\n\t\t\treturn x[0] % n;\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/*-- Initialization --*/\n\t\t\n\t\tinitCharsets();\n\t\tinitCrypto();\n\t\tcopyElem.disabled = true;\n\t\t</script>\n\t</body>\n</html>\n","language":"text/javascript","encrypted":false,"added":1565056585}],"comment":[]}