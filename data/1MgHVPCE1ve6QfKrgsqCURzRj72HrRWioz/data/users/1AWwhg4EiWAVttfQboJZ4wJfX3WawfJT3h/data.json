{"next_paste_id":72,"next_comment_id":0,"paste":[{"paste_id":56,"description":"zerome-mastodon-bridge.py","body":"#! /usr/bin/env python\n\n# Test with Mastodon.py-1.0.7\n\nfrom mastodon import Mastodon\nfrom html2text import html2text\n\nimport os\nimport subprocess\nimport inspect\nfrom datetime import datetime\nimport time\nimport json\n\ndef initGlobalName():  # http://stackoverflow.com/questions/1977362/how-to-create-module-wide-variables-in-python\n    global SITE_ADDRESS, AUTH_ADDRESS, AUTH_KEY, MASTODON_SITE, DATA_JSON, OFFSET\n    # Set working dir\n    getdir = os.path.dirname(os.path.abspath(inspect.stack()[0][1]))  # http://stackoverflow.com/questions/918154/relative-paths-in-python\n    os.chdir(getdir)\n\n    if not os.path.isfile('key.json') or 'mastodon' not in json.load(open('key.json')):\n        key_data = {'mastodon': \n                {'site_address': input('Your bot site address: '),\n                'auth_address': input('Your bot id auth address: '),\n                'auth_key': input('You bot id auth key: '),\n                'mastodon_site': input('Your mastodon site address: ')\n                }}\n        if not os.path.isfile('key.json'):\n            json.dump(key_data, open('key.json', \"w\"), indent=2)\n        else:  # 'mastodon' not in json\n            existed_key_data = json.loads(open('key.json').read().replace(\"\\\\u0000\", \"\"))\n            existed_key_data['mastodon'] = key_data['mastodon']\n            json.dump(existed_key_data, open('key.json', \"w\"), indent=2)\n\n    key_data = json.loads(open('key.json').read().replace(\"\\\\u0000\", \"\"))\n    key_data = key_data['mastodon']\n    SITE_ADDRESS = key_data['site_address']\n    AUTH_ADDRESS = key_data['auth_address']\n    AUTH_KEY = bytes(key_data['auth_key'], 'utf-8')\n    MASTODON_SITE = key_data['mastodon_site']\n\n    DATA_JSON = '../data/' + SITE_ADDRESS + '/data/users/' + AUTH_ADDRESS + '/data.json'\n    # Timezone offset\n    if time.localtime().tm_isdst and time.daylight:  # https://blogs.gnome.org/jamesh/2006/12/31/python-timetimezone-timealtzone-edge-case/\n        OFFSET = -time.altzone\n    else:\n        OFFSET = -time.timezone\n\ndef returnLastTimestamp(mastodon):\n    account_id = mastodon.account_verify_credentials()['id']\n    status_data = mastodon.account_statuses(account_id)\n    timestamp = status_data[0]['created_at']\n    timestamp = datetime.strptime(timestamp, \"%Y-%m-%dT%H:%M:%S.%fZ\").timestamp()\n    timestamp += OFFSET\n    return timestamp\n\n# Set last timestamps without cross-posting anything.\ndef setLastTimestamp():\n    mastodon = Mastodon(\n            client_id = 'pytooter_clientcred.txt',\n            access_token = 'pytooter_usercred.txt',\n            api_base_url = MASTODON_SITE\n            )\n\n    zerome_data = json.loads(open(DATA_JSON).read().replace(\"\\\\u0000\", \"\"))\n    timestamp0 = zerome_data['post'][-1]['date_added']\n    timestamp1 = returnLastTimestamp(mastodon)\n\n    with open('last_timestamps.txt', 'w') as file:\n        file.write(str(timestamp0) + '\\n' + str(timestamp1) + '\\n')\n    print('Set last timestamp done!')\n\ndef accessToMastodon():\n    if not os.path.isfile('pytooter_clientcred.txt'):  # just need to run one time\n        new_masto_app = Mastodon.create_app(\n                client_name = 'ZeroMe Bridge',\n                api_base_url = MASTODON_SITE,\n                to_file = 'pytooter_clientcred.txt'\n                )\n        mastodon_client = Mastodon(\n                client_id = 'pytooter_clientcred.txt',\n                api_base_url = MASTODON_SITE\n                )\n        mastodon_client.log_in(\n                username = input('please input your username (email) of Mastodon account: '),\n                password = input('please input your password of Mastodon account: '),\n                to_file = 'pytooter_usercred.txt'\n                )\n\n        # Also create a file last_timestamps.txt\n        setLastTimestamp()\n\ndef ZeroMeToMastodon(zerome_data, mastodon):\n    with open('last_timestamps.txt') as file:\n        last_timestamps = []\n        for line in file:\n            last_timestamps.append(line)\n    last_timestamp = int(last_timestamps[0])  # first line timestamp for ZeroMe posts\n    reversed_post_data = zerome_data['post'][::-1]\n    new_last_timestamp = reversed_post_data[0]['date_added']\n\n    if new_last_timestamp > last_timestamp:\n        posts = []\n        for item in reversed_post_data:\n            if item['date_added'] > last_timestamp:\n                if len(item['body']) <= 500:\n                    posts.append(item['body'])\n                else:\n                    posts.append(item['body'][0:497] + '...')\n            else:\n                break\n        # push post to Mastodon chronologically\n        for post in posts[::-1]:\n            mastodon.toot(post) # waiting for markdown support ...\n\n        # update last_timestamps.txt\n        last_timestamps[0] = str(new_last_timestamp) + '\\n'\n        last_timestamps[1] = str(returnLastTimestamp(mastodon)) + '\\n'\n        with open('last_timestamps.txt', 'w') as file:\n            for timestamp in last_timestamps:\n                file.write(timestamp)\n    else:\n        print('Nothing changed on ZeroMe.')\n\ndef MastodonToZeroMe(mastodon, zerome_data):\n    with open('last_timestamps.txt') as file:\n        last_timestamps = []\n        for line in file:\n            last_timestamps.append(line)\n    last_timestamp = float(last_timestamps[1])  # second line timestamp for Mastodon posts\n    account_id = mastodon.account_verify_credentials()['id']\n    status_data = mastodon.account_statuses(account_id)\n    date_time = status_data[0]['created_at']  # not calling returnLastTimestamp to save time\n    new_last_timestamp = datetime.strptime(date_time, \"%Y-%m-%dT%H:%M:%S.%fZ\").timestamp()\n    new_last_timestamp += OFFSET\n    if new_last_timestamp > last_timestamp:\n        statuses = []\n        for item in status_data:\n            timestamp = datetime.strptime(item['created_at'], \"%Y-%m-%dT%H:%M:%S.%fZ\").timestamp()\n            timestamp += OFFSET\n            if timestamp > last_timestamp:\n                statuses += [{\n                        'post_id': int(timestamp),\n                        'body': html2text(item['content']),\n                        'date_added': int(timestamp)\n                        }]\n            else:\n                break\n        # push post to ZeroMe chronologically\n        zerome_data['post'] += statuses[::-1]\n        zerome_data['next_post_id'] = len(zerome_data['post']) + 1\n        json.dump(zerome_data, open(DATA_JSON, \"w\"), indent=2)\n        sign_command_path = SITE_ADDRESS + ' ' + '--inner_path' + ' ' + 'data/users/' + \\\n                AUTH_ADDRESS + '/content.json'\n        # Sign and publish content\n        siteSign = subprocess.Popen(\"python2 ../zeronet.py siteSign\" + \" \" + sign_command_path,\n                shell=True, stdin=subprocess.PIPE)  # http://stackoverflow.com/questions/163542/python-how-do-i-pass-a-string-into-subprocess-popen-using-the-stdin-argument\n        siteSign.communicate(input=AUTH_KEY)[0]\n        subprocess.Popen(\"python2 ../zeronet.py sitePublish\" + \" \" + sign_command_path,\n                shell=True).stdout\n\n        # update last_timestamps.txt\n        last_timestamps[0] = str(int(new_last_timestamp)) + '\\n'\n        last_timestamps[1] = str(new_last_timestamp) + '\\n'\n        with open('last_timestamps.txt', 'w') as file:\n            for timestamp in last_timestamps:\n                file.write(timestamp)\n    else:\n        print('Nothing changed on Mastodon.')\n\n\nif __name__ == '__main__':\n    initGlobalName()\n    accessToMastodon()\n\n    mastodon = Mastodon(\n            client_id = 'pytooter_clientcred.txt',\n            access_token = 'pytooter_usercred.txt',\n            api_base_url = MASTODON_SITE\n            )\n\n    zerome_data = json.loads(open(DATA_JSON).read().replace(\"\\\\u0000\", \"\"))\n\n    ZeroMeToMastodon(zerome_data, mastodon)\n    MastodonToZeroMe(mastodon, zerome_data)","language":"text/x-python","encrypted":false,"added":1495383539},{"paste_id":63,"description":"ZeroNet Dark Theme","body":"/* Check http://127.0.0.1:43110/1EiMAqhd6sMjPG2tznkkGXxhdwFBDdeqT9/shared/zeronet-dark-theme.userstyle.css\n * or https://git.gnu.io/chbinnc/Userscripts/raw/master/Userstyles/zeronet-dark-theme.userstyle.css\n * for quick update.\n */\n\n\n@-moz-document regexp(\"^https?://.*:43110/.*\") {\n\n\n/* general */\n\n* {\nborder-color: #333 !important;\ntext-shadow: none !important;\n}\n\na {\nborder-bottom: none;\ncolor: #8899A6 !important;\n}\n.link-url {\ncolor: #8899A6 !important;\n}\na:hover {\ncolor: #ccc !important;\n}\n.link-url:hover {\ncolor: #ccc !important;\n}\ntextarea {\noutline: 1px solid #333 !important;\nbackground-color: #161616 !important;\n}\nbody {\nbackground-color: #1b1b1b !important;\ncolor: #ccc;\n}\n\nh1, h2, h3, h4, h5, h6 {\ncolor: #ccc;\n}\nhr {\nbackground-color: #333;\nborder-bottom: 1px solid #333;\nborder-right: 1px solid #333;\n}\n:root {\nbackground-color: transparent;\n}\n.menu {\nbackground-color: #161616 !important;\n}\n.menu-item:hover {\nbackground-color: #242424 !important;\n}\n.menu-radio a {\nbackground-color: #333;\n}\nli:nth-child(2n+1) {\nbackground-color: transparent !important;\n}\n.button {\nbackground-color: #333;\n}\n.box {\nbackground: #242424 !important;\nbox-shadow: none !important;\n}\n.content {\nbackground: #242424;\n}\n.left {\nbackground-color: transparent;\n}\n.right {\nbackground-color: #1b1b1b;\n}\n.popup {\nbackground-color: #242424;\n}\n\n/* notification */\n\n.notification > .body > .message > div {\nbackground-color: #444 !important;\n}\n.notification .body {\nbackground-color: #333;\n}\n.notification {\ncolor: #ccc;\n}\n.notification .input {\nbackground-color: #161616 !important;\n}\n.notification .select:hover, .notification .select.active {\nbackground-color: #444;\n}\n\n/* code theme */\n\n.hljs-tag, .hljs-name, .hljs-attribute {\ncolor: #F0E68C;\n}\n.hljs-keyword, .hljs-selector-tag, .hljs-subst {\ncolor: #F0E68C;\n}\n.hljs-built_in, .hljs-builtin-name {\ncolor: #98FB98;\n}\npre {\ncolor: #ddd;\nbackground-color: #333; /* '!important' affects NullPaste selected text color */\nborder: 0px solid #060606 !important;\n}\npre code {\ncolor: #ddd;\nbackground-color: #333 !important;\nborder: 0px solid #060606 !important;\n}\n.hljs {\ncolor: #ddd;\nbackground-color: #333 !important;\nborder: 0px solid #060606 !important;\n}\ncode {\ncolor: #FFA0A0;\nbackground-color: #333 !important;\n}\n.hljs-title, .hljs-section, .hljs-selector-id {\ncolor: #98FB98;\n}\n.hljs-meta {\ncolor: #98FB98;\n}\n.hljs-number, .hljs-literal, .hljs-variable, .hljs-template-variable, .hljs-tag .hljs-attr {\ncolor: #FFA0A0;\n}\n.hljs-string, .hljs-doctag {\ncolor: #FFA0A0;\n}\n.hljs-comment, .hljs-quote {\ncolor: #87CEEB;\n}\n.hljs-symbol, .hljs-bullet {\ncolor: #FFA858;\n}\n.hljs-tag .hljs-title, .hljs-rules .hljs-property, .django .hljs-tag .hljs-keyword {\ncolor: #FFA0A0;\n}\n.hljs-string, .hljs-tag .hljs-value, .hljs-phpdoc, .hljs-dartdoc, .tex .hljs-formula {\ncolor: #ddd;\n}\n.hljs-title, .hljs-id, .scss .hljs-preprocessor {\ncolor: #F0E68C;\n}\n.hljs-number, .hljs-hexcolor, .ruby .hljs-constant {\ncolor: #FFA0A0;\n}\n.hljs-deletion {\nbackground: #380000;\n}\n.hljs-addition {\nbackground: #002800;\n}\n.hljs-winutils, .nginx .hljs-title, .hljs-subst, .hljs-request, .hljs-status {\ncolor: #ddd;\n}\n\n/* Debug console */\ndiv.debugger {\n    background-color: #242424;\n}  \ndiv.traceback pre {\n    background-color: #333;\n    color: #ccc;\n}\ndiv.traceback pre:hover {\n    background-color: #444;\n    color: #ccc;\n}\n  div.explanation {\n    color: #ccc;\n}\ndiv.pin-prompt .inner {\n    background: #242424;\n  }\ndiv.pin-prompt {\n    background: rgba(30, 30, 30, 0.8);\n}  \npre.console {\n    background: #333 !important;\n  }\npre.console form, pre.console input {\n    color: #ccc;\n}\n\n\n/* ZeroHello | ZeroTalk | ZeroBlog */\n\n.head .more .links {\nbackground-color: #161616;\n}\n.head .settings:hover {\nbackground-color: #333;\n}\n.FeedList .feed .title {\ncolor: #8899A6;\n}\n.feeds-line {\nborder-right: 1px solid #333;\n}\n.feeds-search input {\nborder: 1px solid #333;\n}\n#Dashboard .dashboard-item {\ncolor: rgba(224, 224, 224, 0.72);\nbackground-color: #333;\n}\n.loadingscreen {\nbackground-color: #1a1b1f;\n}\n\n.SiteList .site .inner {\npadding-left: 20px;\n}\n.SiteList .site .circle {\nmargin-left: 10px;\n}  \n\n.lastcomments {\nbackground-color: #1b1b1b;\n}\n\n.post .details .comments-num .num {\nborder-bottom: 0px solid #eee;\ncolor: #8899A6;\n}    \n\n.lastcomments .lastcomment .details .postlink {\nborder-bottom: 0px solid #BBB;\n}    \n\n.bottombar {\nbackground-color: rgba(255,255,255,0.2);\n}\n\n.button.publish {\nbackground-color: #333;\ncolor: #bbb;\n}    \n.button.publish:hover {\nbackground-color: #222;\n}\n.head-container {\nbackground-color: #242424;\n}\n\n.card {\nbox-shadow: 0px 1px 11px #888;\nbackground-color: #242424;\n}\n.FeedList .feed .body {\ncolor: #ccc;\n}\n.FeedList .feed .circle {\nbackground-color: #333;\n}\n.FeedList .feed .site {\ncolor: #8899A6;\n}\n#FileList .files .td {\nbackground-color: #242424;\n}\n#FileList .files .tr.selected .td {\nbackground-color: #333;\n}\n#FileList .files {\ncolor: #999;\n}\n.selectbar {\nbackground-color: #242424;\ncolor: #ccc;\n}\n.dots {\ncolor: #999;\n}\n#MuteList {\nbackground-color: #161616;\n}\n.mute .cert_user_id {\ncolor: #ccc;\n}\n.FeedList .feed.mention .type {\nbackground-color: #242424;\noutline: 2px solid #242424;\n}\n.feeds-search input {\ncolor: #bbb;\n}\n#FileList .pinned {\nbackground-color: #333;\n}\n.FeedList .feed .more {\nbackground: none transparent;\n}\n.highlight {\nbackground-color: #333;\noutline: 2px solid #333;\n}\n.masterseed {\nbackground-color: #161616;\n}  \n\n\n/* ZeroBlog */\n\n.comment-new .button-submit {\nbackground-color: #333;\n}\n.post {\nbackground-color: transparent;\n}\n.main a {\ncolor: #8899a6;\n}\n.feed-follow {\nbackground-color: #333;\ncolor: #ccc !important;\n}    \n.feed-follow:hover {\nbackground-color: #444;\n}\n.feed-follow.following .text-following {\ncolor: #ccc;\n}\n.icon-feed {\nbackground-color: #999 !important;\n}\n.icon-feed::before {\nborder-top: 2px solid #999 !important;\nborder-right: 2px solid #999 !important;\n}\n.icon-feed::after {\nborder-top: 2px solid #999 !important;\nborder-right: 2px solid #999 !important;\n}\n.feed-follow .text-follow, .feed-follow .text-following {\nfont-family: Roboto, Helvetica, Arial;\n}\n.post .body h1::before {\nborder-top: 1px solid #333;\n}\n.ae-ui .ae-container-input input, .ae-ui .ae-container-input .ae-input {\ncolor: #ccc;\n}\n.ae-ui .ae-container-input {\nbackground-color: #242424;\n}\n.ae-ui .ae-toolbar, .ae-ui [class^=\"ae-toolbar-\"] {\nbackground-color: #333;\ncolor: #ccc;\n}\n.post .body {\nfont-size: 15px;\ncolor: #ccc;\nfont-family: Helvetica,Arial,sans-serif;\n}    \nh3  {\nfont-size: 21.5px;\n}\n.post table th {\nbackground-color: #242424;\n}\n\n/* ZeroMe */\nh5 {\ncolor: #ccc;\n}\n.post-create .select-user-container {\nbackground-color: #242424;\n}    \n.users.gray .name {\ncolor: #8899A6;\n}\n.post-create.editing {\nbox-shadow: none;\n}   \n.activity:last-child {\nbackground-color: #1b1b1b;\n}\n.comment-list {\nbackground-color: #242424;\n}\n.post .reply-name {\ncolor: #ccc;\n}\ninput.text:disabled, textarea:disabled {\nbackground-color: #333;\n}\n.activity-list .bg-line {\nbackground-color: #333;\n}\n.activity-list .circle {\nbackground-color: #333;\n}\n.maxheight-limited::before {\nbackground: linear-gradient(rgba(0,0,0,0), #242424 70%);\ncolor: #8899a6;\n}\n.post .img .fullsize {\nbackground-color: #242424;\n}\n\n\n\n/* ZeroTalk */\n.topic {\nbackground-color: #242424;\n}\n.topmenu {\nbackground-color: #333;\ncolor: #ccc;\n}\n.topic-new-link {\nbackground-color: #333;\n}\n\n.topic.visit-none .dot {\ncolor: #999;\n}\n.topic .comment-num {\ncolor: #8899A6;\nborder-bottom: 0px solid #AAA;\n}\n.topics-more:hover, .comments-more:hover {\nborder: 0px solid #999;\nbackground-color: #444;\n}\n.topics-more, .comments-more {\nborder: 0px solid #999;\nbackground-color: #333;\n}\n.topic-sticky .sticky-title {\nbackground-color: #333;\n}\n.topic-sticky::before {\nbackground-color: #333;\n}\n.comment {\nbackground-color: transparent;\n}\n.user_name {\ncolor: #ccc;\n}\n.button-submit {\nbackground-color: #333;\ncolor: #ccc;\n}\n.button:hover, .button:active {\nbackground-color: #444;\n}\ninput.text, textarea {\nbackground-color: #1b1b1b;\n}\ninput.text:focus, textarea:focus {\nbackground-color: #1b1b1b;\n}\n.editbg {\nbackground-color: transparent;\n}\n.button-outline {\nbackground-color: #333;\n}\n.feed-follow .text-follow, .feed-follow .text-following {\ncolor: #ccc;\n}\n.score.active {\nbackground-color: #444;\n}\n.topic blockquote {\nbackground-color: #242424;\n}\n\n\n/* ZeroBoard */\n.message .body {\nbackground-color: #242424;\n}\ninput:focus {\nbackground-color: #161616;\n}\n.submit {\n  background-color: #333;\n}\n.submit:hover {\nbackground-color: #444;\n}\n.description {\nbackground-color: #242424;\ncolor: #ccc;\n}\n\n\n\n/* ZeroMail */\n.StartScreen .term {\ncolor: #ccc;\n}\n.MessageCreate.empty.minimized .titlebar {\nbackground-color: #333;\n}\n.MessageCreate {\nbox-shadow: 0px 0px 10px 0px #888;\nbackground-color: #242424;\n}\n.MessageCreate textarea {\ncolor: #ccc;\n}\n.button-submit.disabled {\nbackground-color: #333;\n}\n.button-submit {\nbackground-color: #333;\n}\n.MessageShow .body {\ncolor: #ccc;\n}\n.MessageShow .from, .MessageShow .to {\ncolor: #8899A6;\n}\n.MessageList .Message.active, .MessageList .Message.selected {\nbackground-color: #303030;\n}\n.MessageList .Message:hover {\nbackground-color: #303030;\n}\n.MessageList .Message {\nbackground-color: #242424;\n}\n.MessageList .Message .subject {\ncolor: #ccc;\n}\n.MessageList .Message .preview {\ncolor: #ccc;\n}\n.MessageList .Message .from, .MessageList .Message .to {\ncolor: #8899A6;\n}\n.Leftbar .logo {\nbackground-color: #242424;\ncolor: #ccc;\n}\n.Leftbar {\nbackground-color: #1b1b1b;\n}\n.MessageCreate .titlebar {\nbackground-color: #242424;\n}\n  .MessageShow .body blockquote {\nbackground-color: #333;\n}\n.MessageShow .body pre, .MessageShow .body code {\nbackground-color: #333;\n}\n\n\n/* ZeroWiki */\n#messages {\nbackground-color: #242424;\n}\n.mod-tools {\nbackground-color: #242424;\n}\n#history {\nbackground-color: #242424;\n}\n#history_list li:nth-child(2n+1) {\nbackground-color: #1b1b1b;\n}\n.button-success {\ncolor: #ddd;\nbackground: #333;\n}\n.pure-button {\ncolor: #ddd;\nbackground-color: #333;\n}\n.pure-button svg {\nfill: #ddd;\n}\n\n\n\n/* ZeroFind */\ntr {\n  background-color: #1b1b1b;\n}\n#footer {\nbackground-color: #242424;\ncolor: #ccc;\n}\n\n\n\n/* Kaffiene Search */\n.entry {\nbackground-color: #242424;\n}\nbutton {\n  background: #333;\n}\n\n\n\n/* Null Paste */\ndiv#menu {\nbox-shadow: #555 0 1px 1px 1px;\nbackground: #555;\n}\ndiv.box {\nbackground-color: #242424;\nbox-shadow: #555 0 1px 2px 1px;\n}\ninput[type=\"text\"] {\nbackground-color: #161616;\n}\n.CodeMirror {\nbackground: #333;\ncolor: #DDDDDD;\n}\n.CodeMirror-gutters {\nbackground-color: #444;\n}\n.CodeMirror-selected {\nbackground: none repeat scroll 0% 0% #101010;\n}\n.CodeMirror-cursor {\nborder-left: 1px solid #AAAAAA !important;\n}\ndiv.CodeMirror span.CodeMirror-matchingbracket {\ncolor: #DDDDDD !important;\nbackground-color: #008B8B;\n}\n#size_current {\ncolor: #ccc !important;\n}\n.cm-s-default .cm-qualifier {\ncolor: #ddd;\n}\n.cm-s-default .cm-atom {\ncolor: #FFA0A0;\n}\n  .cm-s-default .cm-keyword {\ncolor: #F0E68C !important;\n}\n.cm-s-default .cm-variable {\ncolor: #DDDDDD !important;\n}\n.cm-s-default .cm-variable-2 {\ncolor: #DDDDDD;\n}\n.cm-s-default .cm-variable-3 {\ncolor: #DDDDDD;\n}\n.cm-s-default .cm-string {\ncolor: #FFA0A0 !important;\n}\n.cm-s-default .cm-link {\ncolor: #FFA0A0;\n}\n.cm-s-default .cm-comment {\ncolor: #87CEEB !important;\n}\n.cm-s-default .cm-header {\ncolor: #87CEEB;\n}\n.cm-s-default .cm-builtin {\ncolor: #98FB98 !important;\n}\n.cm-s-default .cm-def {\ncolor: #98FB98;\n}\n.cm-s-default .cm-number {\ncolor: #FFA0A0 !important;\n}\n.cm-s-default .cm-operator {\ncolor: #FFA858 !important;\n}\n.cm-s-default .cm-error {\ncolor: #FF5555 !important;\n}\n.cm-s-default .cm-tag {\ncolor: #F0E68C;\n}\nspan.line-num {\nbackground: #333;\n}\n.cm-s-default .cm-attribute {\ncolor: #F0E68C;\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\nbackground-color: #333;\n}\n\n\n/* ZeroNet Docs */\n.wy-nav-content-wrap {\nbackground: #1b1b1b;\n}\n.section a {\nborder-bottom: 0px solid #BBB;\ncolor: #8899a6 !important;\n}\n.wy-menu-vertical li.on a, .wy-menu-vertical li.current > a {\ncolor: #ddd;\nbackground: #3c3a3a;\n}\n.wy-menu-vertical li.current {\nbackground: #272525;\n}\n.wy-menu-vertical li.current a:hover {\nbackground: #4e4a4a;\n}\n.btn-neutral {\nbackground-color: #333 !important;\ncolor: #ccc !important;\n}\n.btn-neutral:hover {\nbackground-color: #444 !important;\n}\n.section table td, .section table tr:nth-child(2n) td {\n    background-color: #242424;\n}\n.wy-side-nav-search {\n    background-color: #242424;\n}\n\n/* New ZeroNet Sites */\n#add-site {\nbackground-color: #242424;\n}\n#seeder {\nbackground-color: #242424;\n}\n\n\n/* ZeroMux Dropbox */\n.left-button:hover, .left-button-selected {\nbackground-color: #333;\n}\n.right-buttons {\nbackground-color: #242424;\n}\n.folder-item:hover {\nbackground-color: #333;\n}\n.white-bg {\nbackground-color: #242424;\n}\n.progress-bar {\nbackground-color: #333;\n}\n\n\n/* Zeronet Central (ZeroVoat) */\nheader nav.navbar-default {\nbackground-color: #242424;\n}\nmain .main-content {\nbackground-color: #242424;\n}\n.topic-item:nth-child(2n) {\nbackground: #1b1b1b;\n}\nmain aside {\nbackground-color: #242424;\n}\nheader nav.navbar-default .user-menu {\nbackground-color: #333;\n}\n.btn {\nbackground: #333;\n}\nheader nav.navbar-default ul li a .btn {\ncolor: #ccc;\n}\n#comment-list .comment .comment, #comment-list .comment .comment .comment .comment, #comment-list .comment .comment .comment .comment .comment .comment, #comment-list .comment .comment .comment .comment .comment .comment .comment .comment {\nbackground-color: #242424;\n}\n#comment-list .comment .comment .comment, #comment-list .comment .comment .comment .comment .comment, #comment-list .comment .comment .comment .comment .comment .comment .comment, #comment-list .comment .comment .comment .comment .comment .comment .comment .comment .comment {\nbackground-color: #1b1b1b;\n}\n.pagination > .disabled > a, .pagination > .disabled > a:focus, .pagination > .disabled > a:hover, .pagination > .disabled > span, .pagination > .disabled > span:focus, .pagination > .disabled > span:hover {\nbackground-color: #222;\n}\n.pagination > li > a, .pagination > li > span {\nbackground-color: #333;\n}\n.pagination > li > a:focus, .pagination > li > a:hover, .pagination > li > span:focus, .pagination > li > span:hover {\nbackground-color: #222;\n}\n.pagination > .active > a, .pagination > .active > a:focus, .pagination > .active > a:hover, .pagination > .active > span, .pagination > .active > span:focus, .pagination > .active > span:hover {\nbackground-color: #444;\n}\n#channels .channel-list .channel-item .channel-item-wrap {\nbackground-color: #242424;\n}\n#channels .channel-list .channel-item .channel-item-top h3 {\nbackground-color: #333;\n}\n.form-control {\nbackground-color: #161616;\n}\nul.pagination li.pagination-prev, ul.pagination li.pagination-next {\nbackground: #333 !important;\n}\n.form {\nbackground: #242424;\n}\n.form .well {\nbackground-color: #1b1b1b;\n}\n.form .btn {\ncolor: #ccc;\n}\n.btn.focus, .btn:focus, .btn:hover {\ncolor: #ccc;\nbackground-color: #444;\n}\n.btn {\nbackground: #333;\ncolor: #ccc;\n}\ntextarea {\ncolor: #ccc;\n}\n.form-control {\ncolor: #ccc;\n}\n#comment-list .comments-sort-menu span.sort-label {\nbackground: #333;\ncolor: #ccc;\n}\n.well {\nbackground-color: #242424;\n}\nul.topic-list-navigation li {\nbackground: #333 !important;\n}\n.nav-tabs > li.active > a, .nav-tabs > li.active > a:focus, .nav-tabs > li.active > a:hover {\nbackground-color: #333;\n}\n.nav > li > a:focus, .nav > li > a:hover {\nbackground-color: #444;\n}\nheader .meta-header {\nbackground-color: #242424;\n}\n  .fg-color-secondary {\n    background-color: #333;\n}\n    .popover, .popover .ng-scope {\n        background-color: #1b1b1b;\n    }\n    .popover .arrow::after {\n    border-left-color: transparent !important;\n    border-right-color: transparent !important;\n    border-top-color: #333 !important;\n}\n    .popover .arrow {\n    border-color: transparent !important;\n}\n.tooltip-arrow {\n    border-left-color: transparent !important;\n    border-right-color: transparent !important;\n}\n\n\n/*ninjabeats */\n.full-content-card {\nbackground-color: #242424;\nbox-shadow: 0px 0px 10px 1px #ccc;\n}\n\n\n/* bootstrap */\n.jumbotron {\nbackground-color: #242424;\n}\n.btn-default {\ncolor: #999;\nbackground-color: #333;\n}\n  .btn-default:hover {\ncolor: #999;\nbackground-color: #444;\n}\n  .btn-primary {\ncolor: #999;\nbackground-color: #333;\n}\n  .btn-primary:hover {\ncolor: #999;\nbackground-color: #444;\n}\n\n/* ZeroQuotes */\n#quote-box {\nbackground: transparent none repeat scroll 0% 0%;\n}\n#quote-box p {\nbackground: #242424 none repeat scroll 0% 0%;\n}\n#header {\nbackground: #333 none repeat scroll 0% 0%;\n}\n#dev-info {\nbackground: #333;\n}\n\n/* RVRE */\n.popup {\n    background-color: #242424;\n}\n\n/* misc. website css I visited */\ndiv.desc {\ncolor: #ccc;\nbackground-color: #161616;\n}\n.adir {\nbackground-color: #1b1b1b;\ncolor: #ccc;\n}\n.adir table > tbody > tr:nth-child(2n) {\nbackground-color: #242424;\n}\n\n.img-fluid {\nbackground-color: #242424;\n}\n.navbar .form-inline {\nbackground-color: #161616;\n}\n.bg-faded {\nbackground-color: #242424;\n}\n.vcard {\nbackground: #242424;\n}\nheader .content {\nbackground: #333;\n}\n#container {\nbackground-color: #1b1b1b;\n}\n.box.features .features-row section:nth-child(2n)::before {\nbackground: #333 !important;\n}\n\n.code-info {\nbackground-color: #242424;\n}\n.left h2 {\nbackground-color: transparent;\n}\n.panel-body {\nbackground-color: #242424;\n}    \n\n.panel-heading {\nbackground-color: #333 !important;\nbackground-image: none !important;\n}    \n\n.alert-warning, .alert {\nbackground-color: #333;\nbackground-image: none !important;\n}\n    .navbar-inner {\n    background: #242424;\n    }\n\n/* noscript page */\n.unsupported {\nbackground-color: #242424;\nbox-shadow: 0px 0px 5px #888;\n}\n\n}\n\n\n\n/* --- special zites --- */\n\n\n@-moz-document regexp(\"^https?://.*/Mail.ZeroNetwork.bit/.*\") {\n.center {\nbackground-color: #242424;\n}\n}\n\n\n/* Kaffiene Search */\n\n@-moz-document regexp(\"^https?://.*/kaffiene.bit/.*\") {\n.tags {\nfont-size: 14px;\ncolor: #999 !important;\n}\n}\n\n/* ZeroTalk */\n\n@-moz-document regexp(\"^https?://.*/Talk.ZeroNetwork.bit/.*\"),\nregexp(\"^https?://.*/0list.bit/.*\"),\nregexp(\"^https?://.*/1CLQ81TNixktJ67YFkZtbtsESy3MwZqLEG/.*\"),\nregexp(\"^https?://.*/17YUF4geTD7gBDPeMtQtnV7uhhNcjrYi9u/.*\"),\nregexp(\"^https?://.*/17P4SJ1AsARbrj6naYbmAa7eSYCyr4UyJv/.*\")\n{\n.comment {\nbackground-color: #242424 !important;\n}\n}\n\n\n/* ZeroHello */\n\n@-moz-document regexp(\"^https?://.*/1HeLLo4uzjaLetFx6NH3PMwFP3qbRbTf3D/.*\") {\n.right {\nborder-top: 94px solid #1e2429 !important;\nborder-left: 370px solid #322641 !important;\n}\n.topic {\nbackground-color: transparent !important;\n}\n.left, .SiteList .site {\nwidth: 370px;\n}\n}\n\n\n\n\n/* ZeroMe */\n\n@-moz-document regexp(\"^https?://.*/Me.ZeroNetwork.bit/.*\"),\nregexp(\"^https?://.*/1Lj1oPcN7oZQL8HkS5KbkzQuKqs42zQWY6/.*\"),\nregexp(\"^https?://.*/me.mkg20001.bit/.*\"),\nregexp(\"^https?://.*/Me.Mkg20001.bit/.*\")\n{\n.right {\nbackground-color: #242424 !important;\n}    \n.post {\nbackground-color: #242424 !important;\nopacity: 0.95 !important;\n}\n.comment-list {\nbackground-color: transparent;\n}\n.post .img .details {\ncolor: #ccc !important;\n}\n#Overlay.visible {\nbackground-color: rgba(30,30,30,0.9) !important; /* opacity method will also make image tranparent */\n}\n.users .user.followed .button-follow-big {\nbackground-color: #444 !important;\nborder-color: #444 !important;\n}\n.users .user.followed .button-follow, .users .user.followed .button-follow:hover {\nbackground-color: #444 !important;\nborder-color: #444 !important;\n}\n.light-bg {\nbackground-color: #242424 !important;\nopacity: 0.95 !important;\nborder: 1px solid #333;\npadding: 10px 10px;\nborder-radius: 4px;\n}\n.user.card.profile {\nbackground-color: #242424 !important;\nopacity: 0.95 !important;\n}\n.activity {\nbackground-color: transparent !important;\ncolor: #bbb;\n}\n.head ul li:hover, .head ul li a:hover {\nbackground-color: #333;\ncolor: #ccc;\n}\n.post .reply-name {\ncolor: #ccc;\nbackground: #333;\n}\n.checkbox.setting .title {\ncolor: #ccc;\n}\n.checkbox.setting .desc {\n   background-color: transparent !important;\n}\n.loaded {\n   background-size: cover !important;\n}\n.settings .sep {\ncolor: #ccc;\n}\n.no-transparent .comment-list,\n.no-transparent .user.card.profile,\n.no-transparent .post {\nbackground-color: #242424;\n}\n.no-transparent .post-list-type,\n.post-list-type {\nbackground-color: transparent;\nborder-color: transparent !important;\n}\n\n}\n\n\n/* ZeroChat */\n\n@-moz-document regexp(\"^https?://.*/1AvF5TpcaamRNtqvN1cnDEWzNmUtD47Npg/.*\"),\nregexp(\"^https?://.*/zeromedia.bit/.*\"),\nregexp(\"^https?://.*/12qKywomfW5Hj5sQPYTH9wFQVrWzgaJj66/.*\"),\nregexp(\"^https?://.*/1CjR14fofbRJ54oj8A7rAfWpzpLawdP5uc/.*\"),\nregexp(\"^https?://.*/1HvQcL6Gn8PhX1KzLmQyy6u55QyL1tWh5N/.*\"),\nregexp(\"^https?://.*/1KzDGFWuVgniDVaKBdS1cY91FZBQeKbZMn/.*\"),\nregexp(\"^https?://.*/18nQPR4TCM4tQ8L7fm6dX6SGXLsj7wa8sv/.*\"),\nregexp(\"^https?://.*/12H3pDVBSYtvPgBPZERtWvVwg8b7RLKTyx/.*\")\n{\nli {\n  background-color: #1b1b1b !important;\n}\nli:nth-child(2n+1) {\nbackground-color: #242424 !important;\n}\n\n}\n\n\n/* 0chan */\n\n@-moz-document regexp(\"^https?://.*/0chan.bit/.*\") {\n\nhr {\nbackground-color: transparent !important;\n}\n.post {\nbackground-color: #282828;\n}\n.post .body {\nfont-size: 13px !important;\n}\n.post.op {\n    border-color: transparent !important;\n}\n}\n\n/* ZeroQuote */\n\n@-moz-document regexp(\"^https?://.*/1NJyPoPpL8At17T6G7A1qHVQdqZDBmXcLT/.*\") {\nh2 {\nbackground: #242424;\n}\n.order-button {\nbackground: #333;\n}\n.active {\nbackground: #444;\n}\nli {\nbackground: #242424 none repeat scroll 0% 0%;\n}\nli:nth-child(2n+1) {\nbackground-color: #242424 !important;\n}\n.votes {\nbackground: #333;\n}\n}\n\n/* Antilibrary */\n\n@-moz-document regexp(\"^https?://.*/Antilibrary.bit/.*\") {\n.row {\nbackground-color: #1b1b1b !important;\n}\ninput#search-string.form-control {\nbackground-color: #161616 !important;\ncolor: #bbb !important;\n}\n.form-inline .input-group {\nbackground-color: #242424 !important;\n}\n.modal-content {\nbackground-color: #242424;\n}\n\n}\n\n\n/* Important Zites */\n\n@-moz-document regexp(\"^https?://.*/15Pf9VVuDT8NSWj1qUBh4V89yPmrmzRw6a/.*\") {\nhtml, body, section {\n    background: #1b1b1b !important;\n}\n.nav {\n    background-color: #242424;\n    }\n    .table.is-striped tbody tr:nth-child(2n) {\n    background-color: #242424;\n}\n.table {\n    color: #999;\n}\n.tag.is-light {\n    color: #999;\n}\n.input, .textarea {\n    background-color: #161616;\n    color: #ccc;\n    }\n.menu-list a.is-active, .menu-list a:hover {\n    background-color: #333;\n    color: #ccc;\n}\n    .menu {\n    background-color: #1b1b1b !important;\n}\n.button.is-info {\n    background-color: #333;\n    color: #ccc;\n}\n    tr:hover {\n        background-color: #1b1b1b !important;\n    }\n    .cat-info:hover {\n        background-color: #242424 !important;\n    }\n    .footer {\n    background-color: #1b1b1b;\n}\n}\n\n/* ZeroSites */\n\n@-moz-document regexp(\"^https?://.*/1SiTEs2D3rCBxeMoLHXei2UYqFcxctdwB/.*\"),\n  regexp(\"^https?://.*/Sites.ZeroNetwork.bit/.*\") {\n.sitelist {\nbackground-color: #242424;\n}\n#SiteLists {\npadding: 40px;\n}\n.site:hover {\nbackground-color: #333;\n}\n.site .right, .site .description {\nbackground-color: transparent !important;\n}\n.sitelists-right .siteadd .symbol {\nbackground-color: transparent;\n}\n.icon-profile, .icon-profile::before {\nborder-color: #ccc !important;\n}\n.site .title {\nborder-bottom: none !important;\n}\n#Head .order-item.active, #Head .order-item.new.active {\nbox-shadow: none;\n}\n.sitelist .more {\n  box-shadow: 0px -20px 75px 17px #242424;\n}\n.sitelist .more:hover {\nbox-shadow: 0px 0px 75px 17px #333;\n}\n.site .description {\ncolor: #999;\n}\n.form.form-takeover {\n    background-color: #1b1b1b;\n    }\n.form-takeover-container {\n    background: rgba(30,30,30, 0.75);\n    }\n    .form-siteadd {\n    box-shadow: 0px 0px 15px #666;\n}\n  .site.my:hover .tag-my {\n    background-color: #242424;\n}\n}\n\n\n/* ZeroMaps */\n@-moz-document regexp(\"^https?://.*/1yUji4qPD7GAog8XkP3EDMEfrL995S4Xd/.*\") {\n.html5-dialog dialog {\n    display: none;\n}\n}\n\n/* The Verse (ZeroNet Central) */\n@-moz-document regexp(\"^https?://.*/1J1c7eML6uMwDU4uiKbKRxoqxGP6WMFMvb/.*\") {\n    .section {\n    background-color: #242424;\n}\n#topic-view .topic-item .topic-body article {\nbackground: #242424;\nborder-color: transparent !important;\n}\n#file-browser .top-file-browser-menu li a, #file-browser .clusters-file-browser-menu li a,\n#file-browser .browser-main .left-file-browser-menu li a {\nbackground-color: #333;\n}\n#file-browser .browser-main .file-list .file-item .inner-wrap {\nbackground-color: #242424;\n}\n.well {\nbackground-color: #333;\n}\n.user-name {\ncolor: #8899a6;\n}\n.topic-item .topic-item-left .votes-bar span.up-vote-bar {\n    background-color: #333;\n}\nheader {\nbackground-color: #242424;\n}\n\n}\n\n/* IFS - Intergalactic File Server */\n\n@-moz-document regexp(\"^https?://.*/12MVkvYGcRW6u2NYbpfwVad1oQeyG4s9Er/.*\") {\n\n  .video-list > div,\n  .main-content,\n  .md-whiteframe-1dp,\n  md-dialog.md-default-theme,\n  md-dialog,\n  .table-striped > tbody > tr:nth-of-type(2n+1),\n  #file-list .channel-file-list > div:hover {\n    background-color: #1b1b1b;\n    opacity: 0.9 !important;\n}\n  body {\n    background-color: #101010 !important;\n  }\n  .ng-scope .itemNotLoaded {\n    background-color: #242424 !important;\n    opacity: 0.9 !important;\n  }\n  #file-list .channel-file-list > div:nth-child(2n) {\n    background-color: #161616;\n}\n  md-content.md-default-theme, md-content {\n    color: #ccc;\n}\n\n  .table-striped > tbody > tr:hover {\n    background-color: #333;\n}\n\n#items ul.items-category-menu li a,\n  #items .moderations-switch-container {\n    background: #333;\n  }\n  .item-clusters a.selected,\n  #items ul.items-category-menu li a.selected,\n  #items ul.item-list-sort-options li.selected a,\n  .wrap-section item-list .item-list-section .item-list-categories li a.selected {\n    color: #ccc !important;\n}\n  .edit-item-view .md-whiteframe-1dp {\n    background-color: #1b1b1b;\n}\n   .game-list > div {\n    background-color: #1b1b1b;\n}\n    .nes-pause, .nes-restart, .nes-enablesound, .nes-zoom, .howToPlay  {\n    background-color: #333 !important;\n}\n    md-content section {\n    background-color: #242424;\n}\n    #cpc-emulator-container .nfo {\n    background: #242424;\n}\n    #cpc-emulator-container .button {\n    background: #333;\n}\n    #cpc-emulator-container .button:hover {\n    background: #444;\n}\n    #snapshot {\n            background: #333;\n    }\n\n}\n","language":"text/css","encrypted":false,"added":1498485505},{"paste_id":64,"description":"feedbot.py","body":"#! /usr/bin/env python\n\n# Check http://127.0.0.1:43110/1EiMAqhd6sMjPG2tznkkGXxhdwFBDdeqT9/?Post:22:ZeroMe+Feed+Bot for details\n\nimport feedparser\nfrom html2text import html2text\n\nimport os\nimport subprocess\nimport inspect\nfrom datetime import datetime\nimport time\nimport json\n\ntry:\n    import htmlparser\nexcept:\n    pass\n\ndef initGlobalName():  # http://stackoverflow.com/questions/1977362/how-to-create-module-wide-variables-in-python\n    global SITE_ADDRESS, AUTH_ADDRESS, AUTH_KEY, \\\n            HOUR_MAX_ENTRIES, SIGN_COMMAND_PATH, DATA_JSON, OFFSET\n    # Set working dir to ZeroNet/Feedbot\n    getdir = os.path.dirname(os.path.abspath(inspect.stack()[0][1]))  # http://stackoverflow.com/questions/918154/relative-paths-in-python\n    os.chdir(getdir)\n\n    if not os.path.isfile('key.json'):\n        key_data = {'site_address': input('Your bot site address: '),\n                'auth_address': input('Your bot id auth address: '),\n                'auth_key': input('You bot id auth key: ')}\n        json.dump(key_data, open('key.json', \"w\"), indent=2)\n    key_data = json.loads(open('key.json').read().replace(\"\\\\u0000\", \"\"))\n    SITE_ADDRESS = key_data['site_address']\n    AUTH_ADDRESS = key_data['auth_address']\n    AUTH_KEY = bytes(key_data['auth_key'], 'utf-8')\n    HOUR_MAX_ENTRIES = 5\n    SIGN_COMMAND_PATH = SITE_ADDRESS + ' ' + '--inner_path' + ' ' + 'data/users/' + \\\n            AUTH_ADDRESS + '/content.json'\n    DATA_JSON = '../data/' + SITE_ADDRESS + '/data/users/' + AUTH_ADDRESS + '/data.json'\n    # Timezone offset\n    if time.localtime().tm_isdst and time.daylight:  # https://blogs.gnome.org/jamesh/2006/12/31/python-timetimezone-timealtzone-edge-case/\n        OFFSET = -time.altzone\n    else:\n        OFFSET = -time.timezone\n\n# Update rssAddresses if there are new ones in last posts,\n# Then store address and etag/header to dict.\ndef getAddressAndEtag(bot_data, file_name):\n    address_and_etag = {}\n    address_and_etag_rest = []\n    counter = 0\n    with open(file_name) as file:\n        for line in file:\n            if counter < 50:  # parse only 50 feeds every time\n                line = line.split(None, 1)\n                if len(line) == 2:\n                    address_and_etag[line[0]] = line[1].rstrip() # remove trailing whitespace\n                elif len(line) == 1:  # avoid empty line\n                    address_and_etag[line[0]] = ''\n                counter += 1\n            else:\n                address_and_etag_rest += [line]\n\n    for item in bot_data['post'][::-1]:\n        item_body = item['body'].split()\n        if len(item_body) != 2:\n            break\n        if item_body[0] == 'add-feed':\n            address_and_etag[item_body[1]] = ''\n        elif item_body[0] == 'del-feed':\n            if item_body[1] in address_and_etag:\n                del(address_and_etag[item_body[1]])\n            else:\n                for line in address_and_etag_rest:\n                    if item_body[1] == line.split()[0]:\n                        address_and_etag_rest.remove(line)\n                        break\n        else:\n            break\n\n    with open(file_name, 'w') as file:\n        for line in address_and_etag_rest:\n            file.write(line)\n\n    return address_and_etag\n\ndef getRssfeeds(addr, address_and_etag):\n    last_entry_date = 0\n    date_and_etag = address_and_etag[addr]\n    date_and_etag = date_and_etag.split(None, 1)  # Split to last_entry_date and etag\n    if len(date_and_etag) == 2:\n        last_entry_date = int(date_and_etag[0])\n        etag = date_and_etag[1]\n        if etag[0:4] == 'lmod':  # last-modified\n            rssfeeds = feedparser.parse(addr, modified = etag[4:])\n        elif etag[0:4] == 'etag':\n            rssfeeds = feedparser.parse(addr, etag = etag[4:])\n        else:  # etag[0:4] == 'elen', length of entries\n            rssfeeds = feedparser.parse(addr)\n            entries_length = str(len(str(rssfeeds.entries)))\n            if entries_length == etag[4:]:\n                rssfeeds = feedparser.parse('')\n    else:  # date_and_etag == []\n        rssfeeds = feedparser.parse(addr)\n        if len(date_and_etag) == 1:  # support backwards older version\n            last_entry_date = int(date_and_etag[0])\n    return rssfeeds, last_entry_date\n\ndef parseEntry(entry, addr, rssfeeds, timestamp, feed_output):\n    if entry.get('summary') != None:\n        entry_summary = html2text(entry.summary)\n        if len(entry_summary) > 300:\n            entry_summary = entry_summary[0:300] + '...'\n        entry_summary = entry_summary.replace('![', ' [IMG ')  # Change Image to url\n        entry_summary = entry_summary.replace('-\\n', '-').\\\n                replace(')', ') ').\\\n                replace('\\n\\n', '\\t\\t').\\\n                replace('\\n', ' ').\\\n                replace('\\t\\t', '\\n\\n')  # Solve some link parsing issues.\n    else:\n        entry_summary = ''\n\n    entry_title = entry.title\n    feed_title = rssfeeds.feed.title\n    if feed_title == '':\n        if rssfeeds.feed.get('subtitle') != None:\n            feed_title = rssfeeds.feed.subtitle\n        elif rssfeeds.feed.get('rights') != None:\n            feed_title = rssfeeds.feed.rights\n    if entry.get('published') != None:\n        entry_date = entry.published\n    elif entry.get('updated') != None:\n        entry_date = entry.updated\n    else:\n        entry_date = ''\n    feed_output += [{'timestamp': timestamp,\n            'summary': entry_summary,\n            'title': entry_title,\n            'link': entry.link,\n            'date': entry_date,\n            'feed_title': feed_title,\n            'feed_link': addr\n            }]\n    if addr == 'https://planet.archlinux.de/rss20.xml':  # Replace encode error\n        for key in feed_output[-1]:\n            if key == 'summary' or key == 'title':\n                feed_output[-1][key] = feed_output[-1][key].\\\n                        replace('\\u0102\\u017a', '\\u00fc').\\\n                        replace('\\u0102\\u00a4', '\\u00e4').\\\n                        replace('\\u0102\\u015b', '\\u00f6').\\\n                        replace('\\u0102\\u0178', '\\u00df')\n    elif addr == 'https://discourse.diasporafoundation.org/latest.rss':  # Parsed Text is too ugly\n        feed_output[-1]['summary'] = ''\n    return feed_output\n\n# Fetch Feeds and Renew rssAddresses.txt\ndef getFeedAndRenewAddr(address_and_etag):\n    feed_output = []\n    no_marker_feeds = {}\n    if os.path.isfile('no_marker_feeds.json'):\n        no_marker_feeds = json.loads(open('no_marker_feeds.json').read().replace(\"\\\\u0000\", \"\"))\n    for addr in address_and_etag:\n        try:\n            rssfeeds, last_entry_date = getRssfeeds(addr, address_and_etag)\n            timestamp_list = []\n            # Only fetch last n entries or less\n            if len(rssfeeds.entries) > HOUR_MAX_ENTRIES:\n                rssfeeds_entries = rssfeeds.entries[0:HOUR_MAX_ENTRIES]\n            else:\n                rssfeeds_entries = rssfeeds.entries\n            for entry in rssfeeds_entries:\n                if entry.get('published_parsed') != None:\n                    timestamp = int(time.mktime(entry.published_parsed)) + OFFSET\n                elif entry.get('updated_parsed') != None:\n                    timestamp = int(time.mktime(entry.updated_parsed)) + OFFSET\n                elif rssfeeds.get('modified') != None or rssfeeds.get('etag') != None:\n                    timestamp = int(time.time())\n                else:  # Use title of the feed to check if it's new or old.\n                    if addr in no_marker_feeds:\n                        if entry.title in no_marker_feeds[addr]:\n                            timestamp = 0\n                        else:\n                            no_marker_feeds[addr].append(entry.title)\n                            if len(no_marker_feeds[addr]) > HOUR_MAX_ENTRIES:\n                                no_marker_feeds[addr] = no_marker_feeds[addr][-HOUR_MAX_ENTRIES:]\n                            timestamp = int(time.time())\n                    else:\n                        no_marker_feeds[addr] = [entry.title]\n                        timestamp = int(time.time())\n                if timestamp > last_entry_date and timestamp < time.time() + 1:  # Avoid entry with future timestamp...\n                    timestamp_list.append(timestamp)\n                    feed_output = parseEntry(entry, addr, rssfeeds, timestamp, feed_output)\n\n            if timestamp_list != []:\n                last_entry_date = max(timestamp_list)\n\n                # Update last_entry_date and etag\n                if rssfeeds.get('modified') != None:\n                    address_and_etag[addr] = str(last_entry_date) + ' ' + 'lmod' + rssfeeds.modified\n                elif rssfeeds.get('etag') != None:  # Etag ended with \"gzip\" failed to work.\n                    address_and_etag[addr] = str(last_entry_date) + ' ' + 'etag' + rssfeeds.etag\n                else:  # etag[0:4] == 'elen'\n                    entries_length = str(len(str(rssfeeds.entries)))\n                    address_and_etag[addr] = str(last_entry_date) + ' ' + 'elen' + entries_length\n        except Exception as error:\n            print('Error when parsing', addr, error)\n            pass\n\n    # Renew rssAddresses.txt\n    #os.rename('rssAddresses.txt','rssAddresses.txt.backup')  # backup rssAddresses.txt\n    with open(\"rssAddresses.txt\", \"a\") as file:\n        for addr in address_and_etag:\n            file.write(addr + ' ' + address_and_etag[addr] + '\\n')\n    # Renew no_marker_feeds.json\n    json.dump(no_marker_feeds, open('no_marker_feeds.json', \"w\"), indent=2)\n\n    return feed_output\n\ndef startFeedbot():\n    bot_data = json.loads(open(DATA_JSON).read().replace(\"\\\\u0000\", \"\"))\n    address_and_etag = getAddressAndEtag(bot_data, 'rssAddresses.txt')\n    feed_output = getFeedAndRenewAddr(address_and_etag)\n    if os.path.isfile('htmlAddresses.txt'):\n        address_and_etag = getAddressAndEtag(bot_data, 'htmlAddresses.txt')\n        feed_output = htmlparser.htmlParser(feed_output, address_and_etag)\n    if feed_output != []:\n        feed_output = sorted(feed_output, key=lambda entry: entry['timestamp'])\n\n        # Renew data.json\n        for entry in feed_output:\n            bot_data['post'] += [{\n                    'post_id': len(bot_data['post']) + 1,\n                    'body': '## [' + entry['title'] + '](' + entry['link'] +')' + '\\n\\n | ' + \\\n                            entry['summary'] + '\\n\\n-- [' + entry['feed_title'] + '](' + \\\n                            entry['feed_link'] + ')' + ' ' + entry['date'],\n                    'date_added': int(time.time())\n                    }]\n        bot_data['next_post_id'] = len(bot_data['post']) + 1\n        json.dump(bot_data, open(DATA_JSON, \"w\"), indent=2)\n\n        # Sign and publish content\n        sitesign = subprocess.Popen(\"python2 ../zeronet.py siteSign\" + \" \" + SIGN_COMMAND_PATH,\n                shell=True, stdin=subprocess.PIPE)  # http://stackoverflow.com/questions/163542/python-how-do-i-pass-a-string-into-subprocess-popen-using-the-stdin-argument\n        sitesign.communicate(input=AUTH_KEY)[0]\n        subprocess.Popen(\"python2 ../zeronet.py sitePublish\" + \" \" + SIGN_COMMAND_PATH,\n                shell=True).stdout\n    else:\n        print(\"No new Feed.\", str(datetime.now()))\n\n\nif __name__ == '__main__':\n    initGlobalName()\n    startFeedbot()\n","language":"text/x-python","encrypted":false,"added":1498619741},{"paste_id":65,"description":"ZeroMusic UI Improvement","body":"@-moz-document regexp(\"^https?://.*/1MusicXkuN2pk5hRdmroeyaCLDJtzTicpB/.*\") {\nhtml, body {\nheight: calc(100% - 20px) !important;\n}\n#container {\nheight: calc(100% - 60px);\n}\n.removeButton {\nposition: absolute;\nfloat: right;\nright: 15px;\n}\n.playButton {\nposition: absolute;\nmargin-left: -30px;\n}\n#songs ul li {\npadding: 5px 5px;\nwidth: calc(100% - 20px);\n}\n#artists ul li span {\ncursor: pointer;\nwidth: 100%;\nheight: 100%;\ndisplay: block;\n}\n#artists ul li {\npadding: 5px 40px 5px 10px;\n}\n#songs ul li:hover, #artists ul li:hover {\nbackground-color: #333;\n\n}\ndiv#songs {\nbackground-color: #303030;\nposition: absolute;\nright: 0px;\ntop: 40px;\npadding: 30px 20px 0px 20px;\nwidth: 65%;\nheight: calc(100% - 40px);\noverflow: auto;\n}\ndiv#artists ul, div#songs ul {\npadding-bottom: 30px;\n}\ndiv#top {\nz-index: 10;\npadding-top: 10px;\npadding-bottom: 10px;\nheight: 50px;\nposition: fixed;\nbox-shadow: #444 0 0 10px 5px;\n}\nlabel {\npadding: 0 5px;\n}\n#select_user {\npadding-left: 5px;\n}\ndiv#artists {\nposition: absolute;\npadding: 30px 0px;\nwidth:38%;\nmax-height: calc(100% - 40px);\noverflow: auto;\ndirection: rtl;\n}\ndiv#artists h2 {\nmargin-right: 80px;\n}\ndiv#songs h2 {\nmargin-left: 45px;\n}\naudio#player {\nposition: fixed;\nright: 30px;\nbottom: 10px;\nbox-shadow: #999 0px 0px 20px -5px;\n}\n#top input:nth-child(8) {\nbackground-color: #333;\nborder: none;\ncursor: pointer;\n}\n#fileField, #artists h2 {\ncursor: pointer;\n}\n@media screen and (max-width: 1199px) {\n#artistField, #titleField {\nwidth: 130px;\n}\n}\n@media screen and (max-width: 999px) {\ndiv#top {\nheight: 80px;\n}\ndiv#artists, div#songs {\npadding-top: 50px;\n}\n#fileField {\nposition: absolute;\nmargin-top: 30px;\n\n}\n#select_user {\nposition: absolute;\ntop: 45px;\nleft: 340px;\n}\n\n}\n@media screen and (max-width: 800px) {\n#artists ul {\npadding: 0px;\n}\n#artists ul li {\npadding: 5px 35px 5px 10px;\n}\n#songs ul {\npadding: 0px;\npadding-bottom: 30px;\nmargin-left: 15px;\n}\ndiv#artists h2 {\nmargin-right: 45px;\n}\n}\n@media screen and (max-width: 500px) {\ndiv#top {\nheight: 100px;\n}\n#fileField {\nmargin-top: 55px;\nleft: 0px;\n}\n#top input:nth-child(8) {\nposition: absolute;\ntop: 43px;\nleft: 180px;\n}\n#select_user {\ntop: 43px;\nleft: 0px;\n}\ndiv#artists, div#songs {\npadding-top: 70px;\n}\n}\n}\n","language":"text/css","encrypted":false,"added":1504929267},{"paste_id":69,"description":"ZeroMusic UI Improvement","body":"@-moz-document regexp(\"^https?://.*/1MusicXkuN2pk5hRdmroeyaCLDJtzTicpB/.*\") {\nhtml, body {\nheight: calc(100% - 20px) !important;\n}\n#container {\nheight: calc(100% - 60px);\n}\n.removeButton {\nposition: absolute;\nfloat: right;\nright: 35px;\n}\n.playButton {\nposition: absolute;\nmargin-left: -20px;\n}\naudio#player {\nposition: fixed;\nright: 30px;\nbottom: 10px;\nbox-shadow: #999 0px 0px 20px -5px;\nmax-height: 30px;\n}\nlabel {\npadding: 0 5px;\n}\n#select_user {\npadding-left: 5px;\nmax-width: 180px;\noverflow: hidden;\n}\n#fileField {\nbackground-color: #242424;\ncolor: #ccc;\nborder: none !important;\nmax-width: 350px;\noverflow: hidden;\n}\ndiv#top {\nz-index: 10;\npadding-top: 10px;\npadding-bottom: 10px;\nheight: 50px;\nposition: fixed;\nbox-shadow: #444 0 0 10px 5px;\n}\n#top input:nth-child(8) {\nbackground-color: #333;\ncolor: #ddd;\nborder: none;\ncursor: pointer;\n}\n#fileField, #artists h2 {\ncursor: pointer;\n}\ndiv#artists ul, div#songs ul {\npadding-bottom: 30px;\n}\ndiv#artists {\nposition: absolute;\npadding: 30px 0px;\nwidth:35%;\nmax-height: calc(100% - 40px);\noverflow: auto;\ndirection: rtl;\nbackground-color: #242424;\n}\ndiv#artists h2 {\nmargin-right: 40px;\n}\n#artists ul {\npadding: 0;\n}\n#artists ul li {\npadding: 5px 40px 5px 10px;\n}\n#artists ul li:hover {\nbackground-color: #333 !important;   \n}\n#artists ul li span {\ncursor: pointer;\nwidth: 100%;\nheight: 100%;\ndisplay: block;\n}\ndiv#songs {\nbackground-color: #303030;\nposition: absolute;\nright: 0px;\ntop: 40px;\npadding: 30px 20px 0px 20px;\nwidth: 65%;\nheight: calc(100% - 40px);\noverflow: auto;\n}\ndiv#songs h2 {\nmargin-left: 35px;\n}\n#songs ul {\nwidth: 100%;\npadding: 0px;\n}\n#songs ul li {\npadding: 5px 35px;\nwidth: calc(100% - 0px);\n}\n#songs ul li:hover {\nbackground-color: #444 !important;   \n}\nli.remote, li.remote svg > path {\ncolor: #999;\nfill: #999;\nstroke: #999;\n}\n@media screen and (max-width: 1199px) {\n#artistField, #titleField {\nwidth: 130px;\n}\n}\n@media screen and (max-width: 999px) {\ndiv#top {\nheight: 80px;\n}\ndiv#artists, div#songs {\n  padding-top: 50px;\n}\n#fileField {\n  position: absolute;\n  margin-top: 30px;\n      left: 180px;\n}\n#select_user {\n  position: absolute;\n  top: 45px;\n}\n}\n@media screen and (max-width: 500px) {\ndiv#top {\nheight: 100px;\n}\n#fileField {\n  margin-top: 55px;\n  left: 0px;\n}\n#top input:nth-child(8) {\nposition: absolute;\ntop: 43px;\nleft: 180px;\n}\n#select_user {\n  top: 43px;\n  left: 0px;\n}\ndiv#artists, div#songs {\n  padding-top: 70px;\n}\n}\n\n}","language":"text/css","encrypted":false,"added":1504950311},{"paste_id":70,"description":"ZeroMedium db diff","body":"zeromedium2.db before delete the zite\nzeromedium.db after re-add the zite\nzeromedium3.db after re-add the zite and rebuild the database\n\n$ sqldiff zeromedium.db zeromedium2.db --summary\nclaps: 0 changes, 0 inserts, 0 deletes, 0 unchanged\njson: 6 changes, 0 inserts, 2 deletes, 0 unchanged\nkeyvalue: 0 changes, 30 inserts, 0 deletes, 6 unchanged\nresponses: 0 changes, 0 inserts, 0 deletes, 0 unchanged\nsqlite_sequence: 2 changes, 0 inserts, 0 deletes, 0 unchanged\nstories: 0 changes, 8 inserts, 0 deletes, 0 unchanged\ntopics: 52 changes, 0 inserts, 0 deletes, 0 unchanged\n\n$ sqldiff zeromedium.db zeromedium3.db --summary\nclaps: 0 changes, 0 inserts, 0 deletes, 0 unchanged\njson: 8 changes, 0 inserts, 0 deletes, 0 unchanged\nkeyvalue: 0 changes, 42 inserts, 0 deletes, 6 unchanged\nresponses: 0 changes, 2 inserts, 0 deletes, 0 unchanged\nsqlite_sequence: 1 changes, 0 inserts, 0 deletes, 1 unchanged\nstories: 0 changes, 9 inserts, 0 deletes, 0 unchanged\ntopics: 52 changes, 0 inserts, 0 deletes, 0 unchanged\n\n$ sqldiff zeromedium.db zeromedium2.db \nUPDATE json SET directory='users/16NS3rBdW9zpLmLSQoD8nLTtNVsRFtVBhd', file_name='data.json', cert_user_id='styromaniac@zeroid.bit' WHERE json_id=1;\nUPDATE json SET directory='users/1GVM7nNzmYJ3ppPCmDTPLozrJF2Z9mgFpF', cert_user_id='nekox@zeroid.bit' WHERE json_id=2;\nUPDATE json SET directory='', file_name='topics.json', cert_user_id=NULL WHERE json_id=3;\nUPDATE json SET directory='users/17BhLxj4noABqeWGdH2X6WRvEjnW8uiVaP', cert_user_id='styromaniac@kaffie.bit' WHERE json_id=4;\nUPDATE json SET directory='users/12gAes6NzDS9E2q6Q1UXrpUdbPS6nvuBPu', cert_user_id='krixano@zeroid.bit' WHERE json_id=5;\nUPDATE json SET directory='users/1AWwhg4EiWAVttfQboJZ4wJfX3WawfJT3h', cert_user_id='binchan2@zeroid.bit' WHERE json_id=6;\nDELETE FROM json WHERE json_id=7;\nDELETE FROM json WHERE json_id=8;\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(8,'next_story_id',NULL,1);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(9,'next_response_id',NULL,1);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(10,'next_clap_id',NULL,1);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(11,'name','Styromaniac',1);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(12,'about','',1);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(13,'interests','',1);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(14,'next_story_id',NULL,2);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(15,'next_response_id',NULL,2);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(16,'next_clap_id',NULL,2);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(17,'name','NekoX',2);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(18,'about','Crossdresser, Military fan, Aviation fan',2);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(19,'interests','Staff Picks,Programming,Technology,Politics,Creativity,Humor,Science,Software engineering',2);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(20,'next_story_id',2,4);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(21,'next_response_id',NULL,4);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(22,'next_clap_id',NULL,4);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(23,'name','Styro',4);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(24,'about','',4);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(25,'interests','Politics',4);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(26,'next_story_id',7,5);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(27,'next_response_id',NULL,5);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(28,'next_clap_id',NULL,5);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(29,'name','Krixano',5);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(30,'about','About Me! EDITED',5);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(31,'interests','Programming,Technology,Python,Math,Javascript,Software engineering',5);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(32,'next_story_id',2,6);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(33,'next_response_id',NULL,6);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(34,'next_clap_id',NULL,6);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(35,'name','BinChan',6);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(36,'about','Test',6);\nINSERT INTO keyvalue(keyvalue_id,\"key\",value,json_id) VALUES(37,'interests','Staff Picks',6);\nUPDATE sqlite_sequence SET seq=37 WHERE rowid=1;\nUPDATE sqlite_sequence SET seq=6 WHERE rowid=2;\nINSERT INTO stories(rowid,story_id,title,slug,description,body,tags,date_updated,date_added,json_id) VALUES(1,1,'Rebuilding and Reloading Works for Me Too','rebuilding-and-reloading-works-for-me-too','Test','<p>Sjfjxjamsjxjxjjsjxjhxhxjsjsjxhxbdn</p><p><br /></p><p>Blah blah blah</p><p><br /></p><p>Test test test</p>','Test',NULL,1509505491014,4);\nINSERT INTO stories(rowid,story_id,title,slug,description,body,tags,date_updated,date_added,json_id) VALUES(2,1,'Testin Somethin','testin-somethin','Testin Somethin','<p>Testin Something<br /></p>','test',NULL,1507799080568,5);\nINSERT INTO stories(rowid,story_id,title,slug,description,body,tags,date_updated,date_added,json_id) VALUES(3,2,'Images!!!','images','Testing Images!','<img src=\"/18GAQeWN4B7Uum6rvJL2zh9oe4VfcnTM18/data/users/12gAes6NzDS9E2q6Q1UXrpUdbPS6nvuBPu/ZeroDB_Database.png\" />','image,images,test',1508810568226,1508809859626,5);\nINSERT INTO stories(rowid,story_id,title,slug,description,body,tags,date_updated,date_added,json_id) VALUES(4,3,'Testing Another Image!','testing-another-image','testing','<div><p>With text above<br /></p><p><img src=\"/18GAQeWN4B7Uum6rvJL2zh9oe4VfcnTM18/data/users/12gAes6NzDS9E2q6Q1UXrpUdbPS6nvuBPu/LydrigeAND_OR.png\" /></p><p>and text below!<br /></p></div>','test',NULL,1508810379685,5);\nINSERT INTO stories(rowid,story_id,title,slug,description,body,tags,date_updated,date_added,json_id) VALUES(5,4,'Test2Image','test2image','test2','<p>Test2</p><img src=\"/18GAQeWN4B7Uum6rvJL2zh9oe4VfcnTM18/data/users/12gAes6NzDS9E2q6Q1UXrpUdbPS6nvuBPu/Landscape-wallpaper-16.jpg\" width=\"433\" height=\"243\" />','test',1508811002343,1508810816917,5);\nINSERT INTO stories(rowid,story_id,title,slug,description,body,tags,date_updated,date_added,json_id) VALUES(6,5,'Test A SOmething','test-a-something','Test A Something','<p>Testing</p>','test',NULL,1508811717022,5);\nINSERT INTO stories(rowid,story_id,title,slug,description,body,tags,date_updated,date_added,json_id) VALUES(7,6,'Multiple Images And Resizing','multiple-images-and-resizing','Multiple images and Resizing!','<div><p><img src=\"/18GAQeWN4B7Uum6rvJL2zh9oe4VfcnTM18/data/users/12gAes6NzDS9E2q6Q1UXrpUdbPS6nvuBPu/AeneronGrammar.png\" width=\"285\" height=\"205\" /><img src=\"/18GAQeWN4B7Uum6rvJL2zh9oe4VfcnTM18/data/users/12gAes6NzDS9E2q6Q1UXrpUdbPS6nvuBPu/francisInNature.jpg\" width=\"436\" height=\"221\" /></p></div><div><br /></div><div><p>Testing!<br /></p></div>','multiple,image,images',NULL,1508817123391,5);\nINSERT INTO stories(rowid,story_id,title,slug,description,body,tags,date_updated,date_added,json_id) VALUES(8,1,'Test a pic','test-a-pic','test','<img src=\"/18GAQeWN4B7Uum6rvJL2zh9oe4VfcnTM18/data/users/1AWwhg4EiWAVttfQboJZ4wJfX3WawfJT3h/ZeroMe_meme.png\" />','test',NULL,1509504551657,6);\nUPDATE topics SET json_id=3 WHERE topic_id=1;\nUPDATE topics SET json_id=3 WHERE topic_id=2;\nUPDATE topics SET json_id=3 WHERE topic_id=3;\nUPDATE topics SET json_id=3 WHERE topic_id=4;\nUPDATE topics SET json_id=3 WHERE topic_id=5;\nUPDATE topics SET json_id=3 WHERE topic_id=6;\nUPDATE topics SET json_id=3 WHERE topic_id=7;\nUPDATE topics SET json_id=3 WHERE topic_id=8;\nUPDATE topics SET json_id=3 WHERE topic_id=9;\nUPDATE topics SET json_id=3 WHERE topic_id=10;\nUPDATE topics SET json_id=3 WHERE topic_id=11;\nUPDATE topics SET json_id=3 WHERE topic_id=12;\nUPDATE topics SET json_id=3 WHERE topic_id=13;\nUPDATE topics SET json_id=3 WHERE topic_id=14;\nUPDATE topics SET json_id=3 WHERE topic_id=15;\nUPDATE topics SET json_id=3 WHERE topic_id=16;\nUPDATE topics SET json_id=3 WHERE topic_id=17;\nUPDATE topics SET json_id=3 WHERE topic_id=18;\nUPDATE topics SET json_id=3 WHERE topic_id=19;\nUPDATE topics SET json_id=3 WHERE topic_id=20;\nUPDATE topics SET json_id=3 WHERE topic_id=21;\nUPDATE topics SET json_id=3 WHERE topic_id=22;\nUPDATE topics SET json_id=3 WHERE topic_id=23;\nUPDATE topics SET json_id=3 WHERE topic_id=24;\nUPDATE topics SET json_id=3 WHERE topic_id=25;\nUPDATE topics SET json_id=3 WHERE topic_id=26;\nUPDATE topics SET json_id=3 WHERE topic_id=27;\nUPDATE topics SET json_id=3 WHERE topic_id=28;\nUPDATE topics SET json_id=3 WHERE topic_id=29;\nUPDATE topics SET json_id=3 WHERE topic_id=30;\nUPDATE topics SET json_id=3 WHERE topic_id=31;\nUPDATE topics SET json_id=3 WHERE topic_id=32;\nUPDATE topics SET json_id=3 WHERE topic_id=33;\nUPDATE topics SET json_id=3 WHERE topic_id=34;\nUPDATE topics SET json_id=3 WHERE topic_id=35;\nUPDATE topics SET json_id=3 WHERE topic_id=36;\nUPDATE topics SET json_id=3 WHERE topic_id=37;\nUPDATE topics SET json_id=3 WHERE topic_id=38;\nUPDATE topics SET json_id=3 WHERE topic_id=39;\nUPDATE topics SET json_id=3 WHERE topic_id=40;\nUPDATE topics SET json_id=3 WHERE topic_id=41;\nUPDATE topics SET json_id=3 WHERE topic_id=42;\nUPDATE topics SET json_id=3 WHERE topic_id=43;\nUPDATE topics SET json_id=3 WHERE topic_id=44;\nUPDATE topics SET json_id=3 WHERE topic_id=45;\nUPDATE topics SET json_id=3 WHERE topic_id=46;\nUPDATE topics SET json_id=3 WHERE topic_id=47;\nUPDATE topics SET json_id=3 WHERE topic_id=48;\nUPDATE topics SET json_id=3 WHERE topic_id=49;\nUPDATE topics SET json_id=3 WHERE topic_id=50;\nUPDATE topics SET json_id=3 WHERE topic_id=51;\nUPDATE topics SET json_id=3 WHERE topic_id=52;\n","language":"text/x-sh","encrypted":false,"added":1509506845},{"paste_id":71,"description":"Sakana mobile UI tweak","body":"@media screen and (max-width: 800px) {\n.sanma .pane-user > .user > .action-bar, .maguro .pane-user > .user > .action-bar {\nmax-width: calc(100% - 60px);\n}\n#container .pane.static, #container .pane.navigation {\nposition: absolute;\nwidth: calc(100% - 10px);\npadding: 0 5px;\n}\n#container .pane:nth-child(2) {\nz-index: 1;\n}\n#container .pane.static:hover {\nz-index: 2;\n}\n#container .pane.navigation:hover {\nz-index: 2;\n}\n#container .pane .pane-header {\nz-index: 99;\n}\n#container .pane.navigation .pane-header, #container .pane.static .pane-header {\nwidth: 26%;\nmargin-top: -50px;\n}\n#container .pane:nth-child(3) .pane-header:nth-child(1) {\nmargin-left: 30%;\n}\n#container .pane:nth-child(4) .pane-header:nth-child(1) {\nmargin-left: 60%;\n}\n#container .pane.static:nth-child(2), #container .pane.navigation {\ntop: 92px;\n}\n.pane > .pane-header {\npadding: 5px 12px;\nbackground-color: #27272a;\nmargin-bottom: 2px !important;\n}\n.sanma .new-post > .post-body, .maguro .new-post > .post-body {\nheight: 100px;\nmin-height: 100px;\n}\n}\n","language":"text/css","encrypted":false,"added":1522986784}],"comment":[]}