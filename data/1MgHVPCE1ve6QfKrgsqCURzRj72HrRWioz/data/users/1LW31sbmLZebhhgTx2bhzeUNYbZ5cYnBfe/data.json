{"next_paste_id":2,"next_comment_id":0,"paste":[{"paste_id":0,"description":"","body":"// ==UserScript==\n// @name         DropBox Link Converter\n// @namespace    http://tampermonkey.net/\n// @version      0.1\n// @description  #1 Change  dl=0 to dl=1 #2 Add Textarea with the list of links and wget preppended (so just cut and paste into the command line)\n// @author       havesuccess\n// @match        *://*.dropbox.com/*\n// @-match        *://*.dropbox.com/sm/share_link/*\n// @grant        none\n// @icon         https://cf.dropboxstatic.com/static/images/icons/blue_dropbox_glyph-vflJ8-C5d.png\n\n// ==/UserScript==\n\n(function() {\n    'use strict';\n    function applyDirectLink () {\n        var mycopy = document.querySelector(\"#mycopy\");\n        if (mycopy == null) {\n            mycopy=document.createElement(\"textarea\");\n            mycopy.name=\"mycopy\"\n            mycopy.id=\"mycopy\"\n            mycopy.maxLength = \"5000\";\n            mycopy.cols = \"180\";\n            mycopy.rows = \"40\";\n            document.querySelector('.sl-page-container').append(mycopy);\n        }\n        var oldurls= new Object();\n        for (var line in mycopy.value.split(\"\\n\")) {\n            oldurls[\"wget \" + line]=1;\n        }\n        var urls= new Object();\n\n        var l=document.querySelectorAll('a');\n        var re=/(http)s?(:\\/\\/)www\\.(.*dl=)0/;\n        for(var i=0; i < l.length;i++) {\n            if (re.exec(l[i].href)) {\n                l[i].href=l[i].href.replace(re,\"$1$2$31\")\n                urls[\"wget \" + l[i].href]=1;\n            }\n        }\n        for (var line2 in urls) {\n            if (! oldurls.hasOwnProperty(line2)) {\n                mycopy.append(line2);\n                mycopy.append(\"\\n\");\n            }\n        }\n\n    }\n        setInterval (applyDirectLink, 9000);\n})();","language":"text/javascript","encrypted":false,"added":1567967625},{"paste_id":1,"description":"","body":"// ==UserScript==\n// @name         DropBox Link Converter and Mass Downloader WIth Button\n// @namespace    http://tampermonkey.net/\n// @version      0.1\n// @description  #1 Change  dl=0 to dl=1 #2 Add Textarea with the list of links and wget preppended (so just cut and paste into the command line)\n// @author       wodemimi <havesuccess@protonmail.com>\n// @match        *://*.dropbox.com/*\n// @-match        *://*.dropbox.com/sm/share_link/*\n// @grant        none\n// @icon         https://cf.dropboxstatic.com/static/images/icons/blue_dropbox_glyph-vflJ8-C5d.png\n\n// ==/UserScript==\n\n(function() {\n    'use strict';\n    function applyDirectLink () {\n        var mycopy = document.querySelector(\"#mycopy\");\n        if (mycopy == null) {\n            mycopy=document.createElement(\"textarea\");\n            mycopy.name=\"mycopy\"\n            mycopy.id=\"mycopy\"\n            mycopy.maxLength = \"5000\";\n            mycopy.cols = \"180\";\n            mycopy.rows = \"40\";\n            document.querySelector('.sl-page-body').append(mycopy);\n        }\n        var oldurls= new Object();\n        for (var line in mycopy.value.split(\"\\n\")) {\n            oldurls[\"wget \" + line]=1;\n        }\n        var urls= new Object();\n\n        var l=document.querySelectorAll('a');\n        var re=/(http)s?(:\\/\\/)www\\.(.*dl=)0/;\n        for(var i=0; i < l.length;i++) {\n            if (re.exec(l[i].href)) {\n                l[i].href=l[i].href.replace(re,\"$1$2$31\")\n                urls[\"wget \" + l[i].href]=1;\n            }\n        }\n        for (var line2 in urls) {\n            if (! oldurls.hasOwnProperty(line2)) {\n                mycopy.append(line2);\n                mycopy.append(\"\\n\");\n            }\n        }\n\n    }\n    function bootstrap() {\n        var mylink=document.getElementById (\"wodemimis_link\");\n        if (mylink==null) {\n            mylink=document.createElement(\"a\");\n            mylink.setAttribute(\"id\", \"wodemimis_link\");\n        }\n        mylink.addEventListener(\"click\",applyDirectLink,false);\n        var header=document.querySelector(\".react-title-bar__controls\");\n        mylink.text=\"Change Links to Direct\";\n        header.appendChild(mylink);\n    }\n        setInterval (bootstrap, 1000);\n\n})();","language":"text/plain","encrypted":false,"added":1567970363}],"comment":[]}