{
	"next_topic_id": 6,
	"topic": [
		{
			"topic_id": 1528776970,
			"title": "Music I upload and maintain (industrial/alternative/symphonic metal, gothic, darkwave, folk etc)",
			"body": "(See also: [mp4@ZeroMe](http://127.0.0.1:43110/Me.ZeroNetwork.bit/?Profile/1oranGeS2xsKZ4jVsu9SVttzgkYXu4k9v/1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2/mp4@zeroid.bit))\n\n## Uploaded Albums:\n\n* **Ruoska** — \\[industrial metal, alternative metal\\]\n  * [2002 - Kuori](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Ruoska/Kuori)\n  * [2003 - Riisu](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Ruoska/Riisu)\n  * [2005 - Radium](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Ruoska/Radium)\n  * [2006 - Amortem](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Ruoska/Amortem)\n  * [2008 - Rabies](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Ruoska/Rabies)\n\n* **Unheilig** — \\[Neue Deutsche Härte, gothic rock, electronic rock\\]\n  * [2001 - Phosphor](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Unheilig/Phosphor)\n  * [2004 - Frohes Fest](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Unheilig/Frohes%20Fest)\n  * [2004 - Frohes Fest [Tannenbaum EP]](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Unheilig/Frohes%20Fest%20%5BTannenbaum%20EP%5D)\n\n* **Nightwish** — \\[symphonic metal, power metal, folk metal, gothic metal\\]\n  * [1998 - Oceanborn](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Nightwish/Oceanborn) (Tarja Turunen)\n  * [2005 - Wishsides](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Nightwish/Wishsides) (Tarja Turunen)\n  * [2007 - Dark Passion Play](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Nightwish/Dark%20Passion%20Play) (Anette Olzon)\n\n* **Tarja Turunen** — \\[symphonic metal, symphonic rock, gothic metal\\]\n  * [2007 - My Winter Storm](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Tarja%20Turunen/My%20Winter%20Storm)\n\n* **Katra** — \\[symphonic metal, gothic metal\\]\n  * [2007 - Katra](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Katra/Katra)\n  * [2008 - Beast Within](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Katra/Beast%20Within)\n  * [2010 - Out Of The Ashes](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Katra/Out%20Of%20The%20Ashes%20%28Japanese%20Edition%29)\n\n* **Within Temptation** — \\[symphonic metal, gothic metal, folk metal, doom metal\\]\n  * [2004 - The Silent Force](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Within%20Temptation/The%20Silent%20Force)\n\n* **L'Âme Immortelle** — \\[gothic metal, industrial metal, dark wave\\]\n  * [2004 - Gezeiten](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/L%27%C3%82me%20Immortelle/Gezeiten)\n\n* **Persephone (Sonja Kraushofer)** — \\[neoclassical dark wave\\]\n  * [2004 - Atma Gyan](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Persephone/Atma%20Gyan)\n\n* **Scorpions** — \\[hard rock, heavy metal\\]\n  * [1990 - Crazy World](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Scorpions/Crazy%20World)\n\n* **Indica** — \\[pop rock, alternative rock, symphonic metal\\]\n  * [2004 - Ikuinen Virta](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Indica/Ikuinen%20Virta)\n  * [2005 - Tuuliset Tienoot](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Indica/Tuuliset%20Tienoot)\n  * [2007 - Kadonnut Puutarha](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Indica/Kadonnut%20Puutarha)\n\n* **Urban Trad** — \\[folk\\]\n  * [2003 — Kerua](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Urban%20Trad/Kerua)\n\n*  **Meiko Kaji** — \\[enka, j-pop\\]\n  * [2005 - Zenkyoku Shu](http://127.0.0.1:43110/ZeroLSTN.bit/?/album/Meiko%20Kaji/Zenkyoku%20Shu)\n\n(more to come...)\n\n\n## Notes:\n\nI check and correct the following tags before upload:\n\n* Artist\n* Year\n* Album\n* Track Number\n* Track Title\n\n(Errors and typos are still possible, of course.)\n\nI'm not very good at classification, so I usually don't check the Genre tag.\n\n## WARNING\n\n**If you see no songs in an album, press the *Rebuild Database* button in the ZeroNet sidebar and reload the page. Sometimes ZeroLSTN doesn't update the database automatically for some reason.**\n\n",
			"added": 1528776969
		},
		{
			"topic_id": 1528948559,
			"title": "ZeroLSTN @ Git Center is unavailable",
			"body": "I cannot download http://127.0.0.1:43110/1Code5125iycoEFCMi9a4XVejFwauoyGqj/ for several days. I tried from different devices, located in different locations. Both from my actual ZeroNet installation or from a clean one, both running under Windows or Linux. No luck.\n\nThe following message is displayed forever in the browser (with minor variations, such as peer count):\n```no-highlight\nConnecting...\nTrackers announcing: 0, error: 1, done: 4\nPeers found: 14\nPeers found: 13\nPeers found: 18\nPeers found: 21\nPeers found: 25\ncontent.json download failed\n```\n\nHere is the full log from a clean ZeroNet installation: http://127.0.0.1:43110/1CiXRY9ATZSoZqBzwMfXEMsKtPRt2aQoF2/data/users/1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2/1Code5125iycoEFCMi9a4XVejFwauoyGqj-connection-error-log.txt\n\nMaybe the problem is this, I'm not sure what it actually means:\n\n```no-highlight\n[03:21:04] Site:1Code5..yGqj content.json: verify sign error: VerifyError: Valid signs: 0/1 in ContentManager.py line 888\n[03:21:04] WorkerManager:1Code5..yGqj c7utmigvqefitdht.onion:23684: Verify failed: content.json, error: Valid signs: 0/1, failed peers: 7, workers: 1\n```",
			"added": 1528948557
		},
		{
			"topic_id": 1529061463,
			"title": "Russian translation fixes",
			"body": "Some fixes to ZeroLSTN's Russian translation.\n\nAfter manual patching the ZeroNet engine, I got access to the repo, but I still have some troubles accessing user data (the Issues tab, in particular) for some reason. So I cannot post this translation issue to the Git Center.\n\n1. \"Playlists\": Плейлист -> Плейлисты (plural)\n\n2. Revert the incorrect fix in the previous translation update: Uploads should be Загрузка, not Загруженное (\"thing that was uploaded\"), since the page actually does not display the uploaded content.\n\n3. Capitalization fixes according to the Russian spelling.\n\n4. \"Queue Artist/Album/Song\", \"Play Artist/Album/Song\": rewrite in more readable way.\n\nAnd others.\n\nThe patch:\n\n```\ndiff --git a/languages/ru.json b/languages/ru.json\nindex fed074a..27465a2 100644\n--- a/languages/ru.json\n+++ b/languages/ru.json\n@@ -6,14 +6,14 @@\n   \"Album\": \"Альбом\",\n   \"Years\": \"Годы\",\n   \"Year\": \"Год\",\n-  \"Play Queue\": \"Проиграть очередь\",\n+  \"Play Queue\": \"Очередь воспроизведения\",\n   \"Home\": \"Домой\",\n   \"Search\": \"Поиск\",\n-  \"Now Playing\": \"В проигрыше\",\n-  \"Playlists\": \"Плейлист\",\n-  \"Uploads\": \"Загруженное\",\n+  \"Now Playing\": \"Сейчас играет\",\n+  \"Playlists\": \"Плейлисты\",\n+  \"Uploads\": \"Загрузка\",\n   \"Login\": \"Войти\",\n-  \"Browse by Decade\": \"Просмотр по Десятилетию\",\n+  \"Browse by Decade\": \"Просмотр по десятилетию\",\n \n   \"Nothing here yet...\": \"Тут ничего нет...\",\n   \"Press the Upload button to get started.\": \"Нажмите кнопку Загрузить, чтобы начать.\",\n@@ -30,21 +30,21 @@\n   \"seed\": \"Сид\",\n   \"seeds\": \"Сиды\",\n \n-  \"Queue Artist\": \"В очередь по Исполнителю\",\n-  \"Queue Album\": \"В очередь по Альбому\",\n-  \"Queue Song\": \"В очередь по Иесне\",\n-  \"Play Artist\": \"Проиграть исполнителя\",\n-  \"Play Album\": \"Проиграть Aльбом\",\n-  \"Play Song\": \"Проиграть Песню\",\n-  \"Download Artist\": \"Загрузить Исполнителя\",\n-  \"Download Album\": \"Загрузить Альбом\",\n-  \"Download Song\": \"Загрузить Песню\",\n-  \"Remove Artist\": \"Убрать Исполнителя\",\n-  \"Remove Album\": \"Убрать Альбом\",\n-  \"Remove Song\": \"Убрать Песню\",\n-  \"Remove Download\": \"Убрать Загрузку\",\n-  \"Clear Playlist\": \"Очистить Плейлист\",\n-  \"Edit Song\": \"Изменить Песню\",\n+  \"Queue Artist\": \"Добавить в очередь все песни исполнителя\",\n+  \"Queue Album\": \"Добавить в очередь все песни альбома\",\n+  \"Queue Song\": \"Добавить песню в очередь\",\n+  \"Play Artist\": \"Играть все песни исполнителя\",\n+  \"Play Album\": \"Играть все песни альбома\",\n+  \"Play Song\": \"Играть песню\",\n+  \"Download Artist\": \"Загрузить исполнителя\",\n+  \"Download Album\": \"Загрузить альбом\",\n+  \"Download Song\": \"Загрузить песню\",\n+  \"Remove Artist\": \"Убрать исполнителя\",\n+  \"Remove Album\": \"Убрать альбом\",\n+  \"Remove Song\": \"Убрать песню\",\n+  \"Remove Download\": \"Убрать загрузку\",\n+  \"Clear Playlist\": \"Очистить плейлист\",\n+  \"Edit Song\": \"Редактировать песню\",\n \n   \"Song Files That Already Exist\": \"У нас уже есть этот Музыкальный файл\",\n   \"Song Tags That Already Exist\": \"У нас уже есть этот Музыкальный Тэг\",\n```",
			"added": 1529061460
		},
		{
			"topic_id": 1529069215,
			"title": "The DB update bug: serialization issue in ZeroLSTN",
			"body": "Here are files, that cause the DB update error:\n\n```\n[12:52:39] Site:1MQveQ..kvJ3 Importing data...\n[12:52:40] Site:1MQveQ..kvJ3 Error importing merged-ZeroLSTN2/1HHBrQY2Duh7C9iREqrhKaXUsiVdvoTRG7/data/users/1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2/data.json: TypeError: 'unicode' object does not support item assignment in SiteStorage.py line 150 > MutePlugin.py line 126 > SiteStorage.py line 90 > Db.py line 363\n[12:52:40] Site:1MQveQ..kvJ3 Error importing merged-ZeroLSTN2/1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj/data.json: TypeError: 'unicode' object does not support item assignment in SiteStorage.py line 150 > MutePlugin.py line 126 > SiteStorage.py line 90 > Db.py line 363\n[12:52:40] Site:1MQveQ..kvJ3 Error importing merged-ZeroLSTN2/1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/1FKuNsExQML7APuNmkCV8uzB5pKupcmnck/data.json: TypeError: 'unicode' object does not support item assignment in SiteStorage.py line 150 > MutePlugin.py line 126 > SiteStorage.py line 90 > Db.py line 363\n[12:52:40] Site:1MQveQ..kvJ3 Error importing merged-ZeroLSTN2/1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/1N3zP3Mq2Bd5AE6JS8LEEUusSPdA7CH97D/data.json: TypeError: 'unicode' object does not support item assignment in SiteStorage.py line 150 > MutePlugin.py line 126 > SiteStorage.py line 90 > Db.py line 363\n[12:52:40] Site:1MQveQ..kvJ3 Error importing merged-ZeroLSTN2/1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/195oGGXB8AhwWSoXFHpbVT4TL4wLi1Af5e/data.json: TypeError: 'unicode' object does not support item assignment in SiteStorage.py line 150 > MutePlugin.py line 126 > SiteStorage.py line 90 > Db.py line 363\n```\n\nThose are the only files, that contain the \"artwork\" entries:\n\n```\n$ grep -r '\"artwork\":' */data/users\n1HHBrQY2Duh7C9iREqrhKaXUsiVdvoTRG7/data/users/1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2/data.json:\t\"artwork\": {\n1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/1FKuNsExQML7APuNmkCV8uzB5pKupcmnck/data.json:\t\"artwork\": {\n1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj/data.json:\t\"artwork\": {\n1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/195oGGXB8AhwWSoXFHpbVT4TL4wLi1Af5e/data.json:\t\"artwork\": {\n1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/1N3zP3Mq2Bd5AE6JS8LEEUusSPdA7CH97D/data.json:\t\"artwork\": {\n```\n\nThe artwork table is described in `dbschema.json` in the following way:\n\n```json\n        \"artwork\": {\n            \"cols\": [\n                [\"hash\", \"TEXT\"],\n                [\"image_path\", \"TEXT\"],\n                [\"date_added\", \"INTEGER\"],\n                [\"json_id\", \"INTEGER REFERENCES json (json_id)\"]\n            ],\n            \"indexes\": [\"CREATE UNIQUE INDEX artwork_hash ON artwork(json_id, hash)\"],\n            \"schema_changed\": 1\n        }\n```\n\n\nAnd here is how the artwork entries are written in the data.json:\n\n```json\n\t\"artwork\": {\n\t\t\"302689d4e5714a7960d23a0cf4ee2bb8690dc7599bfe1a220fce7e87010b9f55\": {\n\t\t\t\"image_path\": \"merged-ZeroLSTN2/1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj/artwork/legend-1528502681652.jpeg\",\n\t\t\t\"date_added\": 1528502681652\n\t\t},\n\t\t\"7ec05822b9a71c5e4778d3ca9b2741420483179bfde4f979f1c9431e8207183b\": {\n\t\t\t\"image_path\": \"merged-ZeroLSTN2/1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj/artwork/Sebastian_Stueker-1528832629755.jpg\",\n\t\t\t\"date_added\": 1528832629755\n\t\t}\n\t}\n```\n\nIt looks like the wrong serialization format. The entries probably should be written like this:\n\n```json\n\t\"artwork\": [\n\t\t{\n\t\t\t\"hash\": \"302689d4e5714a7960d23a0cf4ee2bb8690dc7599bfe1a220fce7e87010b9f55\",\n\t\t\t\"image_path\": \"merged-ZeroLSTN2/1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj/artwork/legend-1528502681652.jpeg\",\n\t\t\t\"date_added\": 1528502681652\n\t\t},\n\t\t{\n\t\t\t\"hash\": \"7ec05822b9a71c5e4778d3ca9b2741420483179bfde4f979f1c9431e8207183b\",\n\t\t\t\"image_path\": \"merged-ZeroLSTN2/1HLqL1eSZTRMpKLXjprjy7hFftuoAZEz1u/data/users/16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj/artwork/Sebastian_Stueker-1528832629755.jpg\",\n\t\t\t\"date_added\": 1528832629755\n\t\t}\n\t]\n```\n\nI manually edited and signed http://127.0.0.1:43110/1HHBrQY2Duh7C9iREqrhKaXUsiVdvoTRG7/data/users/1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2/data.json , and now albums that I uploaded are displayed correctly on my devices.\n\n",
			"added": 1529069211
		},
		{
			"topic_id": 1529084834,
			"title": "Multiple disks in album?",
			"body": "What is the best way to repesent metadata for multidisk albums? Many CD rips contains the disk number field in its metadata, and track numbers restart from 1 on each disk.\n\nFor example, the *Unheilig - Gipfelstürmer Limited Edition*:\n\nTrack 12, Disk 1:\n\n```\n*** Tag information for Disk 1/12 - Held Für Einen Tag.mp3\n=== TIT2 (Title/songname/content description): Held Für Einen Tag\n=== TALB (Album/Movie/Show title): Gipfelstürmer\n=== TYER (Year): 2014\n=== TRCK (Track number/Position in set): 12/16\n=== TPE1 (Lead performer(s)/Soloist(s)): Unheilig\n=== TXXX (User defined text information): (DISCID): DD0F4010\n=== TPE2 (Band/orchestra/accompaniment): Unheilig\n=== TCON (Content type): Gothic Metal\n=== TPOS (Part of a set): 1/2\n=== APIC (Attached picture): ()[, 3]: image/jpeg, 303457 bytes\n*** mp3 info\nMPEG1/layer III\nBitrate: 320KBps\nFrequency: 44KHz\n```\n\nTrack 2, Disk 2:\n\n```\n*** Tag information for Disk 2/02 - Zwischen Licht Und Schatten - Demoversion.mp3\n=== TIT2 (Title/songname/content description): Zwischen Licht Und Schatten - Demoversion\n=== TALB (Album/Movie/Show title): Gipfelstürmer\n=== TYER (Year): 2014\n=== TRCK (Track number/Position in set): 02/10\n=== TPE1 (Lead performer(s)/Soloist(s)): Unheilig\n=== TXXX (User defined text information): (DISCID): 8209090A\n=== TPE2 (Band/orchestra/accompaniment): Unheilig\n=== TCON (Content type): Gothic Metal\n=== TPOS (Part of a set): 2/2\n=== APIC (Attached picture): ()[, 3]: image/jpeg, 303457 bytes\n*** mp3 info\nMPEG1/layer III\nBitrate: 320KBps\nFrequency: 44KHz\n```\n\nAs far as I understand, ZeroLSTN does not support sorting by disk number, so after uploading the numeration'll become messy.\n\nShould I sequentially renumber all tracks and get rid of disk numbers? Or should I change the album tag to something like \"Gipfelstürmer Disk 1\", \"Gipfelstürmer Disk 2\"?",
			"added": 1529084829
		}
	],
	"topic_vote": {
		"1528776970_1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2": 1
	},
	"next_comment_id": 5,
	"comment": {
		"1528948559_1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2": [
			{
				"comment_id": 1,
				"body": "I added a couple of logging lines in `verifyFile()` to print the signers list:\n\n```python\n                if signs:  # New style signing\n                    valid_signers = self.getValidSigners(inner_path, new_content)\n                    signs_required = self.getSignsRequired(inner_path, new_content)\n                    self.log.debug(\"Signers from new_content: %s\" % \",\".join(new_content[\"signers\"][:]))\n                    self.log.debug(\"Signers from getValidSigners(): %s\" % \",\".join(valid_signers))\n```\n\nAnd now I get the following:\n\n```no-hightlight\n[09:16:21] Site:1Code5..yGqj Signers from new_content: 16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj\n[09:16:21] Site:1Code5..yGqj Signers from getValidSigners(): 1Code5125iycoEFCMi9a4XVejFwauoyGqj\n[09:16:21] Site:1Code5..yGqj content.json: verify sign error: VerifyError: Valid signs: 0/1 in ContentManager.py line 889\n```\n\nIt looks like `getValidSigners()` ignores the signers list in the content being verified and always tries to use the `content.json` from the data folder. Since we do not have any `content.json` saved yet, `getValidSigners()` returns the wrong list.",
				"added": 1528968472
			},
			{
				"comment_id": 3,
				"body": "Possible fix:\n\n```diff\ndiff --git a/src/Content/ContentManager.py b/src/Content/ContentManager.py\nindex 1d8617f..5b76492 100644\n--- a/src/Content/ContentManager.py\n+++ b/src/Content/ContentManager.py\n@@ -691,7 +691,10 @@ class ContentManager(object):\n     def getValidSigners(self, inner_path, content=None):\n         valid_signers = []\n         if inner_path == \"content.json\":  # Root content.json\n-            if \"content.json\" in self.contents and \"signers\" in self.contents[\"content.json\"]:\n+            if content is not None:\n+                if \"signers\" in content:\n+                    valid_signers += content[\"signers\"][:]\n+            elif \"content.json\" in self.contents and \"signers\" in self.contents[\"content.json\"]:\n                 valid_signers += self.contents[\"content.json\"][\"signers\"][:]\n         else:\n             rules = self.getRules(inner_path, content)\n\n```",
				"added": 1528972084
			},
			{
				"comment_id": 4,
				"body": "Reported the issue to [ZeroNet @ Git Center](\nhttp://127.0.0.1:43110/1GitLiXB6t5r8vuU2zC6a8GYj9ME6HMQ4t/repo/issues/view/?1P4w4Rvh4vS9r6G5xTiSh8qEW87EKZtnJB/0@1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2).",
				"added": 1528973820
			}
		],
		"1528776970_1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2": [
			{
				"comment_id": 2,
				"body": "> [zerolstn](#comment_15_16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj): Also seeing this post makes me think we should add some profile pages, hm?\n\nThat would be great.\n\n> [zerolstn](#comment_15_16HcyFK8526ZYJBKPpSDCbpJv6WWBNvENj): Can you make an issue on https://github.com/hellozeronet/zeronet/issues with a summary of the issue? \n\nYep, as soon as I'll deal with [another ZeroNet bug](http://127.0.0.1:43110/Talk.ZeroLSTN.bit/?Topic:1528948559_1Md6YJNZX5yrdSaL9mmrKZNMAfULoXzMX2/ZeroLSTN+Git+Center+is+unavailable).",
				"added": 1528971039
			}
		]
	},
	"comment_vote": {}
}