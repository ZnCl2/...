if(typeof window.Care2Widget!=="object"){(function(){if(!window.JSON){window.JSON=function(){function f(n){return n<10?'0'+n:n;}
Date.prototype.toJSON=function(){return this.getFullYear()+'-'+
f(this.getMonth()+1)+'-'+
f(this.getDate())+'T'+
f(this.getHours())+':'+
f(this.getMinutes())+':'+
f(this.getSeconds())+'Z';};var m={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};function stringify(value,whitelist){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case'string':return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c;}
c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+
(c%16).toString(16);})+'"':'"'+value+'"';case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
if(typeof value.toJSON==='function'){return stringify(value.toJSON());}
a=[];if(typeof value.length==='number'&&!(value.propertyIsEnumerable('length'))){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i],whitelist)||'null');}
return'['+a.join(',')+']';}
if(whitelist){l=whitelist.length;for(i=0;i<l;i+=1){k=whitelist[i];if(typeof k==='string'){v=stringify(value[k],whitelist);if(v){a.push(stringify(k)+':'+v);}}}}else{for(k in value){if(typeof k==='string'){v=stringify(value[k],whitelist);if(v){a.push(stringify(k)+':'+v);}}}}
return'{'+a.join(',')+'}';}}
return{stringify:stringify,parse:function(text,filter){var j;function walk(k,v){var i,n;if(v&&typeof v==='object'){for(i in v){if(Object.prototype.hasOwnProperty.apply(v,[i])){n=walk(i,v[i]);if(n!==undefined){v[i]=n;}}}}
return filter(k,v);}
if(/^[\],:{}\s]*$/.test(text.replace(/\\./g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof filter==='function'?walk('',j):j;}
throw new SyntaxError('parseJSON');}};}();}
var interval_id,last_hash,rm_callback,FALSE=!1,c2postMessage='postMessage',c2addEventListener='addEventListener',has_postMessage=window[c2postMessage]&&!(/opera/i.test(navigator.userAgent));var c2receiveMessage=function(callback,source_origin,delay){if(has_postMessage){if(callback){rm_callback&&c2receiveMessage();rm_callback=function(e){if((typeof source_origin==='string'&&e.origin!==source_origin)||(typeof source_origin==='function'&&source_origin(e.origin)===FALSE)){return FALSE;}
callback(e);};}
if(window[c2addEventListener]){window[callback?c2addEventListener:'removeEventListener']('message',rm_callback,FALSE);}else{window[callback?'attachEvent':'detachEvent']('onmessage',rm_callback);}}else{interval_id&&clearInterval(interval_id);interval_id=null;if(callback){delay=typeof source_origin==='number'?source_origin:typeof delay==='number'?delay:100;interval_id=setInterval(function(){var hash=document.location.hash,re=/^#?\d+&/;if(hash!==last_hash&&re.test(hash)){last_hash=hash;callback({data:hash.replace(re,'')});}},delay);}}};window.Care2Widgets={added:false,stage:false,widgets:{},idTotal:0,add:function(w){var id=this.idTotal++;var params={rssPath:w.getAttribute("rssPath"),adSize:w.getAttribute("adSize"),publisherId:w.getAttribute("publisherId")||w.getAttribute("publisherID"),flags:w.getAttribute("flags"),buttonColor:w.getAttribute("buttonColor"),pixel:w.getAttribute("pixel"),signPixel:w.getAttribute("signPixel"),optin:w.getAttribute("optin")}
if(this.mobile){params.adSize="mobile";}
var google_ad=window.name&&window.name.indexOf("google_ads_iframe")>=0;if(google_ad){var d=document.createElement("script");d.src="https://"+this.stage+"www.thepetitionsite.com/embed.js";parent.document.getElementsByTagName("head")[0].appendChild(d);var prdfArray=parent.document.getElementsByTagName("IFRAME");for(var z=0;z<prdfArray.length;z++){if(prdfArray[z].name==window.name){var b=prdfArray[z];break;}}
var i=b,j=b;var h=parent.document.createElement("div");h.className="prWrap";for(var z=0;z<2;z++){if(i.nextSibling){i=i.nextSibling;i.className=="prWrap"&&i.parentNode.removeChild(i);}
if(j.previousSibling){j=j.previousSibling;j.className=="prWrap"&&j.parentNode.removeChild(j);}}
b.style.cssText="width:0px;height:0px;border:0px;";h.className="care2PetitionEmbed";h.setAttribute("rssPath",params.rssPath);h.setAttribute("adSize",params.adSize);h.setAttribute("publisherId",params.publisherId);h.setAttribute("flags",params.flags);h.setAttribute("pixel",params.pixel);h.setAttribute("signPixel",params.signPixel);h.setAttribute("optin",params.optin);b.parentNode.insertBefore(h,b);var check_for_load=setInterval(function(){if(typeof parent.Care2Widgets!="undefined"){clearInterval(check_for_load);parent.Care2Widgets.parse();}},250);}else{try{var referrerDomain=document.referrer.split("//")[1].split("/")[0];}catch(e){var referrerDomain="";}
var adSizes=this.getSizes(params.adSize);if(!adSizes.noBreakOut&&parent.location!=window.location&&referrerDomain.indexOf("stumbleupon")<0&&w.getAttribute("breakout")!="false"){var helperpath=w.getAttribute("helperpath")||false;var helperfile="http://"+referrerDomain+(helperpath?"/"
+helperpath.replace(/^\/+|\/+$/g,''):"")+"/care2PetitionHelper.html";var d=document.createElement('iframe');d.setAttribute('frameBorder','0');d.style.display="none";d.src=helperfile+"?referrer="+encodeURIComponent(location.href)+"&params="
+encodeURIComponent(JSON.stringify(params));document.body.insertBefore(d,document.body.firstChild);}else{var newDivSize=adSizes.baseSize;w.className+=" care2PetitionEmbedded";w.style.width=newDivSize.width+'px';w.style.height=newDivSize.height+'px';w.innerHTML='<div class="care2PetitionWrapper" style="width:'+newDivSize.width
+'px;height:'
+newDivSize.height+'px;">'+'<div class="care2PetitionContainer"></div></div>';this.widgets[id]=new window.Care2Widget(id,params,w);}}},parse:function(){var d=document.getElementsByTagName("div");for(var i=0;i<d.length;i++){if(d[i].className==="care2PetitionEmbed"){this.add(d[i]);}}},makeCSS:function(){var css='.care2PetitionWrapper, .care2PetitionContainer { position:absolute; }',head=document.getElementsByTagName('head')[0],style=document.createElement('style');style.type='text/css';if(style.styleSheet){style.styleSheet.cssText=css;}else{style.appendChild(document.createTextNode(css));}
head.appendChild(style);},findByClass:function(c,w){var testClass=new RegExp("(^|\\s)"+c+"(\\s|$)");var elements=w.getElementsByTagName("div");var current;var length=elements.length;for(var i=0;i<length;i++){current=elements[i];if(testClass.test(current.className)){return current;}}
return false;},getBodyWidth:function(){return document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||document.body&&document.body.parentNode&&document.body.parentNode.clientWidth||0;},getXY:function(el){el=(typeof el=='string')?document.getElementById(el):el;var pos={top:0,left:0};if(el!=null&&el.offsetParent){do{pos.top+=el.offsetTop;pos.left+=el.offsetLeft;}while(el=el.offsetParent);}
return pos;},getSizes:function(s){var baseSize,expandedSize={width:460,height:375},noBreakOut=false;switch(s){case"wide":case"500x190":baseSize={width:500,height:190};break;case"large":case"460x375":baseSize={width:460,height:375};break;case"facebook":case"398x259":baseSize={width:398,height:259};expandedSize={width:398,height:259};break;case"180x250":baseSize={width:180,height:250};break;case"150x250":baseSize={width:150,height:250};break;case"180x150":baseSize={width:180,height:150};break;case"425x190":baseSize={width:425,height:190};break;case"615x275":baseSize={width:615,height:275};break;case"mobile":case"320x150":baseSize={width:320,height:150};expandedSize={width:320,height:480};noBreakOut=true;break;case"interstitial":case"600x650":baseSize={width:600,height:650};expandedSize={width:600,height:650};noBreakOut=true;break;case"small":case"305x255":case"300x250":default:baseSize={width:300,height:250};break;}
return{baseSize:baseSize,expandedSize:expandedSize,noBreakOut:noBreakOut}}}
window.Care2Widget=function(id,params,w){this.id=id;this.params={};this.element=w;for(var i in params){var key=(i=="publisherId")?"publisherID":i;this.params[key]=params[i];}
for(var i in this.defaults){if(typeof this.params[i]=="undefined"||!this.params[i]){this.params[i]=this.defaults[i];}}
this.embedPetition();};window.Care2Widget.prototype={defaults:{rssPath:"https://www.thepetitionsite.com/feeds/publisher/887/545/204/feed.swf",adSize:"small",publisherID:"1007",buttonColor:"#eb6924",optionalOptinPath:"",wsdlUri:"//dingo.care2.com/xml/wsdl/petitions.wsdl",webserviceUri:"https://www.thepetitionsite.com/metal_web_service",debug:"false"},getURL:function(type){var url="//dingo.care2.com/petitions/widget/common/"
switch(type){case"swf":url+="petition.swf";break;case"base":break;}
return url;},check_align:function(body_width){var elem=window.Care2Widgets.getXY(this.element);this.align=(elem.left+this.expandedSize.width>body_width)?"right":"left";},force_align:function(){if(this.expanded&&this.align=="right"){this.flashContainer.style.left=-(this.expandedSize.width-this.baseSize.width)+"px";}else{this.flashContainer.style.left=0;}},resizeHTML:function(expand){this.expanded=expand;var size=this.expanded?this.expandedSize:this.baseSize;this.flashContainer.style.zIndex=this.expanded?100:1;this.flashContainer.style.width=size.width+"px";this.flashContainer.style.height=size.height+"px";this.force_align();},staticPosition:function(){var wrapper=window.Care2Widgets.findByClass("care2PetitionWrapper",this.element);wrapper.style.position="static";wrapper.style.height="auto";this.element.style.height="auto";this.flashContainer.style.position="static";},embedPetition:function(){this.expanded=false;this.align="left";var sizes=window.Care2Widgets.getSizes(this.params.adSize);this.baseSize=sizes.baseSize;this.expandedSize=sizes.expandedSize;this.params.adSize=this.baseSize.width+"x"+this.baseSize.height;this.flashContainer=window.Care2Widgets.findByClass("care2PetitionContainer",this.element);this.flashContainer.style.width=this.baseSize.width+'px';this.flashContainer.style.height=this.baseSize.height+'px';this.params.baseUrl=this.getURL("base");this.params.curDomain=window.location.hostname.toString();this.params.pageUrl=document.URL;this.params.id=this.id;var pixel=this.params.pixel;delete this.params.pixel;this.check_align(window.Care2Widgets.getBodyWidth());delete this.params.wsdlUri;delete this.params.webserviceUri;delete this.params.baseUrl;delete this.params.pageUrl;this.params.rssPath=this.params.rssPath.replace("feed.swf","feed.rss");var doc_domain=((window.Care2Widgets.stage)?window.Care2Widgets.stage:'')
+"www.thepetitionsite.com";var iframe_url="https://"+doc_domain+'/widget.html?cb='+Date.now()+'&params='
+encodeURIComponent(JSON.stringify(this.params));if(window.care2_user_info){iframe_url+="&user_info="+encodeURIComponent(JSON.stringify(window.care2_user_info));}
this.flashContainer.innerHTML='<iframe src="'+iframe_url
+'" width="100%" height="100%" frameborder="0" border="0" scrolling="no"></iframe>';if(!window.Care2Widgets.added){window.Care2Widgets.makeCSS();c2receiveMessage(function(e){var data={},e_data=e.data.split("&");for(var l=e_data.length,i=0;i<l;i++){var spl=e_data[i].split("=");data[spl[0]]=spl[1];}
if(typeof window.Care2Widgets.widgets[data.id]==="undefined"){return;}
var w=window.Care2Widgets.widgets[data.id];switch(data.action){case"trigger_event":if(typeof window.jQuery==="function"){window.jQuery(document).trigger(data.data);window.jQuery(document).trigger(data.data+"_"+data.id);}
break;case"expand_widget":w.resizeHTML(true);break;case"collapse_widget":w.resizeHTML(false);break;case"static_position":w.staticPosition();break;}},"https://"+doc_domain);}
if(pixel){this.flashContainer.innerHTML+='<IMG SRC="'+pixel+'" WIDTH=1 HEIGHT=1 BORDER=0>';}}};(function(a){window.Care2Widgets.mobile=/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);window.Care2Widgets_r=function(f){/in/.test(document.readyState)?setTimeout('window.Care2Widgets_r('+f+')',9):f()}
window.Care2Widgets_r(function(){window.Care2Widgets.parse();});window.onresize=function(){var body_width=window.Care2Widgets.getBodyWidth();for(var i in window.Care2Widgets.widgets){window.Care2Widgets.widgets[i].check_align(body_width);window.Care2Widgets.widgets[i].force_align();}}})();}