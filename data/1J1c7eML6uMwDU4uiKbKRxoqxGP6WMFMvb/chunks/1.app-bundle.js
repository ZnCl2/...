(window.webpackJsonp=window.webpackJsonp||[]).push([[1,10],{27:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return l}));var a=function(e){return"SELECT * FROM file_to_item AS fti WHERE fti.file_to_item_id='"+e+"'"},i=function(e){var t="SELECT f.*, j.* ";return t+="FROM file f ",t+="LEFT JOIN json AS j ON f.json_id=j.json_id ",t+="WHERE f.file_id='"+e+"'"},o=function(e){var t;return"jpg"===e||"png"===e||"jpeg"===e||"gif"===e?t="image":"avi"===e||"mpeg"===e||"webm"===e||"ogg"===e||"mp4"===e?t="video":"mp3"!==e&&"wav"!==e||(t="audio"),t},r=function(e){return e.replace(/[^\x20-\x7E]+/g,c()).replace(/ /g,"_").replace(/[&\/\\#,+()$~%'":*?!<>|{}\[\]]/g,c())},c=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<1;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},l=function(e){for(var t=[],n=0;n<e.pieces;n++){var a={};a.index=n,a.start=1048576*a.index,a.end=1048576*(a.index+1),n<e.pieces_downloaded?a.state="complete":n===e.pieces_downloaded&&(a.state="downloading"),t.push(a)}return t}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var a=n(0),i=n.n(a),o=n(1),r=n(27),c=n(2);function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){d(e,t,n[t])}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,i=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var m=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,31))})),f=function(e){var t,n=Object(a.useContext)(o.a),d=n.appState,u=n.zeroNetState;e.topic?t=e.topic:e.comment?t=e.comment:e.profile&&(t=e.profile);var f=s(Object(a.useState)(t),2),p=f[0],_=(f[1],s(Object(a.useState)(!0),2)),b=_[0],g=_[1],E=s(Object(a.useState)(""),2),O=(E[0],E[1]),h=s(Object(a.useState)(""),2),w=h[0],y=h[1],j=s(Object(a.useState)(""),2),S=j[0],N=j[1],P=s(Object(a.useState)(""),2),x=P[0],I=P[1],C=s(Object(a.useState)(""),2),L=C[0],A=C[1],D=s(Object(a.useState)(""),2),T=D[0],k=D[1],F=s(Object(a.useState)(""),2),R=F[0],M=F[1],W=s(Object(a.useState)(!1),2),H=W[0],U=W[1],z=s(Object(a.useState)(""),2),Q=z[0],G=z[1],J=s(Object(a.useState)(""),2),B=J[0],q=J[1],$=s(Object(a.useState)(""),2),V=$[0],K=$[1],X=s(Object(a.useState)(!1),2),Y=X[0],Z=X[1];function ee(){if(p.file_to_item_id){O(!0);var e=Object(r.d)(p.file_to_item_id);Page.cmd("dbQuery",[e],(function(e){e.length>0?te(e[0].file_id):console.log("no file to item")}))}else te()}function te(e){var t;t=e?Object(r.c)(e):"SELECT * FROM file WHERE item_id='"+p.topic_id+"'",Page.cmd("dbQuery",[t],(function(e){if(e.length>0){var t=e[0],n=Object(r.a)(t.file_type),a=d.config,i=t.directory;t.directory||(i=a.cluster+"/data/users/"+t.user_id),ne("merged-"+a.merger_name+"/"+i+"/"+t.file_name,n,t.file_type)}else console.log("no file")}))}function ne(e,t,n){Page.cmd("optionalFileInfo",e,(function(a){var i,o;a&&(i=a.peer,o=Object(r.e)(a)),y(e);var c=u.user_settings,l=!1;c&&c.deleted_items&&c.deleted_items.indexOf(e)>-1&&(l=!0),Z(l),N(n),I(t),A(i),k(o),g(!1);var d=a&&1===a.is_downloaded&&1===a.is_downloading;(a&&!a.uploaded||d)&&(a.pieces===a.pieces_downloaded?M("downloaded"):(M("downloading"),function(e,t){var n=t&&1===t.is_downloaded&&1===t.is_downloading;if(!t.uploaded||n)if(t.pieces===t.pieces_downloaded)M("downloaded");else{1===t.is_downloading||t.is_downloaded,t.pieces_downloaded>0||t.bytes_downloaded;M("downloading"),ae(t,e)}}(e,a)))}))}function ae(e,t){Page.cmd("fileNeed",t,(function(e){Page.onRequest=function(e,n){var a,i,o,c=t.split("/")[1],d=t.split(c+"/")[1];n.event[0]&&(a=n.event[0]),n.event[1]&&(i=n.event[1]),i&&i.indexOf("|")>-1&&(o=i.split("|")[1],i=i.split("|")[0]),"setSiteInfo"==e&&i===d&&("file_failed"===a?(!function(e,t){var n=parseInt(e.split("-")[0]),a=parseInt(e.split("-")[1]),i=T.map((function(e){if(e.start===n||e.end===a)return"file_failed"===t?l({},e,{state:"failed"}):e}));k(i)}(o,a),M("download failed")):Page.cmd("optionalFileInfo",t,(function(e){var t=Object(r.e)(e);k(t),clearInterval(checkDownloadDuration)})))}}))}i.a.useEffect((function(){!function(){var t;e.topic?t=e.topic:e.comment?t=e.comment:e.profile&&(t=e.profile);t.file_to_item_id||t.added<=1498441955800?ee():t.embed_url&&function(e){var t=e.embed_url.lastIndexOf("."),n=e.embed_url.substring(t+1),a=Object(r.a)(n),i=!1;(e.embed_url.indexOf("http:")>-1||e.embed_url.indexOf("https:")>-1)&&(i=!0);i?function(e,t,n){y(e);var a=u.user_settings,i=!1;a&&a.deleted_items&&a.deleted_items.indexOf(e)>-1&&(i=!0);Z(i),N(n),I(t),g(!1),U(!0),G(!1)}(e.embed_url,a,n):ne(e.embed_url,a,n)}(t)}()}),[]);var ie,oe,re,ce,le="item-media-container";if(!0===H&&(ce=e.topic.embed_url),!0===b)ie=i.a.createElement(c.a,{cssClass:"centered",msg:"Loading Item Media..."});else if(x)if(!0!==H||Q){var de;if(!0===H)oe=i.a.createElement("div",{className:"item-media-peers-display red"},"external");else de=!1===Y?i.a.createElement("span",null,i.a.createElement("a",{onClick:function(){return function(){var t=u.user_settings;t.deleted_items||(t.deleted_items=[]);var n=w;t.deleted_items&&-1===t.deleted_items.indexOf(n)&&t.deleted_items.push(n),Page.cmd("userSetSettings",{settings:t},function(t){Page.cmd("optionalFileDelete",n,function(t){Page.cmd("optionalFileDelete",n+".piecemap.msgpack",function(t){window.top.location.href="index.html?v=topic+id="+e.topic.topic_id}.bind(this))}.bind(this))}.bind(this))}()}},i.a.createElement("i",{className:"trash icon red"}))):i.a.createElement("span",null,i.a.createElement("a",{onClick:function(){return t=u.user_settings,n=t.deleted_items.findIndex((function(e){return e===w})),t.deleted_items.splice(n),void Page.cmd("userSetSettings",{settings:t},(function(t){window.top.location.href="index.html?v=topic+id="+e.topic.topic_id}));var t,n}},i.a.createElement("i",{className:"cloud download icon green"}))),oe=i.a.createElement("div",{className:"item-media-peers-display"},i.a.createElement("span",null,"peers : ",L," | "),de);!0===Y?ie=i.a.createElement("div",{className:"file-deleted-container"},i.a.createElement("i",{className:"icon trash red huge"}),i.a.createElement("p",null,"file is deleted")):(T&&T.length>0&&(re=i.a.createElement(v,{piecesInfo:T,downloadState:R}),le+=" w-pieces "),"image"===x?(le+=" image",B||(le+=" image-loading ui segment"),ie=!0===V?i.a.createElement("img",{className:"not-found",src:"assets/img/404-not-found.png"}):i.a.createElement("div",null,i.a.createElement("img",{onError:function(){q(!0),K(!0)},onLoad:function(){q(!0)},src:w}),ce)):"video"!==x&&"audio"!==x||(ie=i.a.createElement("div",null,i.a.createElement(a.Suspense,{fallback:i.a.createElement(c.a,null)},i.a.createElement(m,{filePath:w,fileType:S,mediaType:x,comment:e.comment})),ce),le+=" video"))}else ie=i.a.createElement("div",{onClick:function(){G(!0)}},i.a.createElement("div",{className:"external-link-overlay"},"External!",i.a.createElement("br",null),"Load?"),ce);else ie=i.a.createElement("img",{className:"not-found",src:"assets/img/404-not-found.png"});return i.a.createElement("div",{className:le},ie,oe,re)},p=function(e){var t,n,o=s(Object(a.useState)(!0),2),c=(o[0],o[1]),d=s(Object(a.useState)(""),2),u=(d[0],d[1],s(Object(a.useState)(e.innerPath),2)),m=u[0],f=(u[1],s(Object(a.useState)(""),2)),p=f[0],_=f[1],b=s(Object(a.useState)(""),2),g=(b[0],b[1]),E=s(Object(a.useState)(""),2),O=(E[0],E[1]),h=s(Object(a.useState)(""),2),w=h[0],y=h[1],j=s(Object(a.useState)(""),2),S=j[0],N=j[1];return i.a.useEffect((function(){Page.cmd("optionalFileInfo",m,(function(e){var t,n;e&&(t=e.peer,n=Object(r.e)(e));var a=m.lastIndexOf("."),i=m.substring(a+1),o=Object(r.a)(p);_(i),g(o),O(t),y(n),c(!0);var d,s=e&&1===e.is_downloaded&&1===e.is_downloading;e.uploaded&&!s||(N("downloading"),d=m,Page.cmd("fileNeed",d,(function(e){Page.onRequest=function(e,t){var n,a,i,o=d.split("/")[1],c=d.split(o+"/")[1];t.event[0]&&(n=t.event[0]),t.event[1]&&(a=t.event[1]),a&&a.indexOf("|")>-1&&(i=a.split("|")[1],a=a.split("|")[0]),"setSiteInfo"==e&&a===c&&("file_failed"===n?(function(e,t){var n=parseInt(e.split("-")[0]),a=parseInt(e.split("-")[1]),i=w.map((function(e){if(e.start===n||e.end===a)return"file_failed"===t?l({},e,{state:"failed"}):e}));y(i)}(i,n),N("download failed")):Page.cmd("optionalFileInfo",d,(function(e){var t=Object(r.e)(e);y(t),clearInterval(checkDownloadDuration)})))}})))}))}),[]),w&&w.length>0&&(t=i.a.createElement(v,{piecesInfo:w,downloadState:S}),n+=" w-pieces "),i.a.createElement("div",{className:"unassigned-media-item-infobar "+n},t)},v=function(e){var t,n="";return e.piecesInfo.length>0?t=e.piecesInfo.map((function(t,n){return i.a.createElement(_,{key:n,piece:t,piecesLength:e.piecesInfo.length})})):e.fileInfo&&1===e.fileInfo.is_downloaded&&(n="non-bfs-loaded"),i.a.createElement("div",{className:"item-file-piece-download-info-container "+n},t,i.a.createElement("span",{className:"download-status"},e.downloadState))},_=function(e){var t=100/e.piecesLength,n="ui progress ";return"complete"===e.piece.state?n+=" success":"downloading"===e.piece.state?n+=" active":"failed"===e.piece.state&&(n+="error"),i.a.createElement("div",{style:{width:t+"%"},className:"piece "+e.piece.state},i.a.createElement("div",{className:n},i.a.createElement("div",{className:"bar"},i.a.createElement("div",{className:"progress"}))))}},34:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}));var a=function(e){return"SELECT * FROM topic_vote WHERE topic_vote.topic_id='"+e+"'"},i=function(e){return"SELECT * FROM comment_vote WHERE comment_vote.comment_id='"+e+"'"},o=function(e,t){return{up:e.filter((function(e){return 1===e.vote})),down:e.filter((function(e){return 0===e.vote})),user_vote:e.find((function(e){return e.user_id===t}))}},r=function(e,t){var n;return"UP"===t?e?1===e.vote?n="DELETE":0===e.vote&&(n="CHANGE"):n="UP":"DOWN"===t&&(e?1===e.vote?n="CHANGE":0===e.vote&&(n="DELETE"):n="DOWN"),n},c=function(e,t,n,a,i,o){var r;if(i&&(r=e[o+"_vote"].findIndex((function(e){return e[o+"_vote_id"]===i[o+"_vote_id"]}))),"UP"===n||"DOWN"===n){var c="UP"===n?1:0,l={user_id:t.cert_user_id,vote:c,added:Date.now()};l[o+"_vote_id"]=t.auth_address+"vt"+e["next_"+o+"_vote_id"],l[o+"_id"]=a,e[o+"_vote"].push(l),e["next_"+o+"_vote_id"]+=1}else"CHANGE"===n?e[o+"_vote"][r].vote=1===e[o+"_vote"][r].vote?0:1:"DELETE"===n&&e[o+"_vote"].splice(r,1);return e},l=function(e){var t={};return e.votes?(t.total=e.votes.up.length+e.votes.down.length,t.uvp=e.votes.up.length/t.total*100,t.dvp=e.votes.down.length/t.total*100):(t.total=e.up_votes+e.down_votes,t.uvp=e.up_votes/t.total*100,t.dvp=e.down_votes/t.total*100),t}},43:function(e,t,n){"use strict";var a=n(0),i=n.n(a),o=n(1),r=n(3),c=n(6),l=n(5),d=n(27),s=n(34),u=n(29);function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){f(e,t,n[t])}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,i=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var _=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,45))}));function b(e){var t=i.a.useContext(o.a),n=t.appState,r=t.zeroNetState,c=p(Object(a.useState)(!0),2),l=c[0],d=c[1],u=p(Object(a.useState)(""),2),m=u[0],f=u[1],v=e.topic;function _(){var e=Object(s.d)(v.topic_id);Page.cmd("dbQuery",[e],(function(e){var t=Object(s.f)(e,r.site_info.cert_user_id);f(t),d(!1)}))}function b(e){d(!0);var t=n.config;if("CHANGE"===e||"DELETE"===e){var a="SELECT * FROM json WHERE json_id='"+m.user_vote.json_id+"'";Page.cmd("dbQuery",[a],function(n){var a="merged-"+t.merger_name+"/"+n[0].directory+"/"+n[0].file_name;g(e,a)}.bind(this))}else{var i=r.site_info.auth_address,o="merged-"+t.merger_name+"/"+t.cluster+"/data/users/"+i+"/data.json";g(e,o)}}function g(e,t){Page.cmd("fileGet",{inner_path:t},(function(n){(n=JSON.parse(n))?n.topic_vote||(n.topic_vote=[],n.next_topic_vote_id=1):n={topic_vote:[],next_topic_vote_id:1},n=Object(s.e)(n,r.site_info,e,v.topic_id,m.user_vote,"topic");var a=unescape(encodeURIComponent(JSON.stringify(n,void 0,"\t")));Page.cmd("fileWrite",[t,btoa(a)],(function(e){Page.cmd("sitePublish",{inner_path:t},(function(e){Page.cmd("wrapperNotification",["done","Topic Voted!",4e3]),_()}))}))}))}i.a.useEffect((function(){_()}),[]);var E,O,h,w="votes-display ui active inverted dimmer";if(l)E=i.a.createElement("div",{className:w},i.a.createElement("div",{className:"ui mini loader"}));else{var y=Object(s.b)(v);h=i.a.createElement("div",{className:"topic-votes-bar"},i.a.createElement("div",{className:"topic-votes-up",style:{height:y.uvp+"%"}}),i.a.createElement("div",{className:"topic-votes-down",style:{height:y.dvp+"%"}})),m?(O=m.up.length-m.down.length,m.user_vote&&(0===m.user_vote.vote?w+=" down-voted":1===m.user_vote.vote&&(w+=" up-voted"))):O=v.up_votes-v.down_votes,E=i.a.createElement("div",{className:w},i.a.createElement("a",{className:"arrow up",onClick:function(){n.user?b(Object(s.a)(m.user_vote,"UP")):Page.cmd("wrapperNotification",["info","Login to participate",4e3])}}),i.a.createElement("span",null,O),i.a.createElement("a",{className:"arrow down",onClick:function(){n.user?b(Object(s.a)(m.user_vote,"DOWN")):Page.cmd("wrapperNotification",["info","Login to participate",4e3])}}))}return i.a.createElement("div",{className:"topic-item-votes"},E,h)}function g(e){var t=i.a.useContext(o.a).appState,n=p(Object(a.useState)(!0),2),r=n[0],c=n[1],l=p(Object(a.useState)(""),2),s=l[0],u=l[1],m=p(Object(a.useState)(""),2),f=m[0],v=m[1],_=p(Object(a.useState)(""),2),b=_[0],g=_[1],E=p(Object(a.useState)(""),2),O=E[0],h=E[1],w=e.topic;function y(e){var n;n=e?Object(d.c)(e):"SELECT * FROM file WHERE item_id='"+w.topic_id+"'",Page.cmd("dbQuery",[n],(function(e){if(e&&e.length>0){var n=e[0],a=Object(d.a)(n.file_type),i=!0;"image"===a&&(i=!1);var o=n.directory;n.directory||(o=t.config.cluster+"/data/users/"+n.user_id),v("merged-"+t.config.merger_name+"/"+o+"/"+n.file_name),u(!0),g(a),c(i)}}))}i.a.useEffect((function(){w.file_to_item_id?function(){u(!0);var e=Object(d.d)(w.file_to_item_id);Page.cmd("dbQuery",[e],(function(e){y(e[0].file_id)}))}():y()}),[]),r&&s&&(S+=" image-loading");var j,S="topic-item-image-container ui segment";if(s)"image"===b?(S+=" image-file",j=i.a.createElement("img",{onLoad:function(e){return c(!0)},onError:function(){h(!0),c(!1)},src:f})):"video"===b?(S+=" video-file",j=i.a.createElement("i",{className:"file video outline icon big"})):"audio"===b&&(S+=" audio-file",j=i.a.createElement("i",{className:"file audio outline icon big"})),!0===O&&(j=i.a.createElement("img",{src:"assets/img/404-not-found.png"}));else if(w.embed_url){S+=" embeded-file";var N=w.embed_url,P=N.lastIndexOf("."),x=N.substring(P+1),I=Object(d.a)(x);"video"===I?(S+=" video-file",j=i.a.createElement("i",{className:"file video outline icon big"})):"audio"===I?j=i.a.createElement("i",{className:"file audio outline icon big"}):"image"===I?j=i.a.createElement("span",{style:{fontSize:"10px"}},"external"):I||(j=i.a.createElement("img",{src:"assets/img/404-not-found.png"}))}else S+=" no-file";return i.a.createElement("div",{className:S},i.a.createElement("a",{href:"index.html?v=topic+id="+w.topic_id},j))}function E(e){var t=i.a.useContext(o.a).zeroNetState,n=e.topic,r=!!t.user_feed[n.topic_id+" topic"],l=p(Object(a.useState)(r),2),d=l[0],s=l[1];return i.a.createElement("div",{id:"topic-follow-container",className:"ui compact segment"},i.a.createElement("a",{onClick:function(){var e;d?(delete(e=m({},t.user_feed))[n.topic_id+" topic"],Page.cmd("feedFollow",[e]),Page.cmd("feedListFollow",[],(function(e){s(!1)}))):function(){var e=[Object(c.c)(n.topic_id),void 0],a=m({},t.user_feed);a[n.topic_id+" topic"]=e,Page.cmd("feedFollow",[a]),Page.cmd("feedListFollow",[],(function(e){s(!0)}))}()}},i.a.createElement("i",{className:"icon feed"}),i.a.createElement("span",null,d?"unfollow":"follow")))}function O(e){var t=e.topic,n=t.added;t.lastCommentDate&&(n=t.lastCommentDate);var o=p(Object(a.useState)(n),2),c=o[0],d=o[1];i.a.useEffect((function(){var e=Object(l.b)(t.topic_id);Page.cmd("dbQuery",[e],(function(e){e&&e.length&&d(e[0].added)}))}),[]),t.added<1481025974864&&(t.added=1481025974864);var s,u=t.user_id.split("@")[0].substring(0,10)+"...@"+t.user_id.split("@")[1],m=i.a.createElement("b",null,i.a.createElement("a",{href:"index.html?v=channel+id="+t.channel_id},t.name));return t.name||(m="no channel"),t.votes&&(s=i.a.createElement("span",null,"(",i.a.createElement("span",{className:"up-votes"},"+",t.votes.up.length),"|",i.a.createElement("span",{className:"down-votes"},"-",t.votes.down.length),")")),i.a.createElement("div",{className:"topic-item-info"},i.a.createElement("span",null,i.a.createElement("a",{onClick:e.showTopicBody},i.a.createElement("i",{className:"icon "+(e.showBody?"minus":"add")+" square"}))),i.a.createElement("span",null," created ",Object(r.a)(t.added)," • "),i.a.createElement("span",null," last activity ",Object(r.a)(c)," • "),i.a.createElement("span",null," by ",i.a.createElement("a",{href:"#"},u)," • "),i.a.createElement("span",null," to ",m),s)}t.a=function(e){var t,n,r,c,l,d=Object(a.useContext)(o.a),s=d.appState,m=(d.zeroNetState,e.topic),f=p(Object(a.useState)(!1),2),v=f[0],h=f[1],w="";return(m.file_id||m.file_to_item_id||m.embed_url||m.added<=1498441955800)&&(t=i.a.createElement(g,{topic:m}),w+=" w-file"),"topic"!==s.route.view?(m.body||m.file_id||m.file_to_item_id||m.embed_url||m.added<=1498441955800)&&v&&(m.body&&(c=i.a.createElement("div",{className:"topic-view-body"},i.a.createElement(a.Suspense,{fallback:""},i.a.createElement(_,{content:m.body})))),(m.file_id||m.file_to_item_id||m.embed_url||m.added<=1498441955800)&&(l=i.a.createElement("div",{className:"topic-view-media"},i.a.createElement(u.a,{topic:m}))),n=i.a.createElement("div",{className:"topic-list-item-body-container ui segment"},l,c)):r=i.a.createElement(E,{topic:m}),i.a.createElement("div",{className:"item ui segment topic-item"},i.a.createElement(b,{topic:m}),i.a.createElement("div",{className:"topic-item-body "+w},t,i.a.createElement("div",{className:"topic-item-content"},i.a.createElement("div",{className:"topic-item-header"},i.a.createElement("h3",null,i.a.createElement("a",{href:"index.html?v=topic+id="+m.topic_id},m.title)),r),i.a.createElement(O,{topic:m,showBody:v,showTopicBody:function(){return h(!0!==v)}}),i.a.createElement("div",{className:"topic-item-comment-counter"},i.a.createElement("b",null,i.a.createElement("a",{href:"index.html?v=topic+id="+m.topic_id},m.comments_total-m.hidden_comments_total," comments")," "))),n))}}}]);