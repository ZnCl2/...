{
	"title": "KanjaZero",
	"description": "My nerdy blog.",
	"links": "### Contact\n*   [ZeroMe](http://127.0.0.1:43110/Me.ZeroNetwork.bit/?Profile/1White24UrrwQrD86o6Vrc1apgZ1x1o51/1AABRF6MEZpwihXdJSPNdygREjis6LzD2w/kanja0@zeroid.bit)\n*   [ZeroMail](http://127.0.0.1:43110/Mail.ZeroNetwork.bit/?to=kanja0)\n---\n### ZeroNet mirrors\n*   [OpenBSD.org](http://127.0.0.1:43110/1Phf391WQfhtDaXfnYeugz8Dhn7zqtGszw)\n*   [NetBSD.org](http://127.0.0.1:43110/1AzvCpaav65tFN9Do2b7LGDBEka2HPyjnj/)\n---",
	"next_post_id": 13,
	"demo": false,
	"modified": 1500375703,
	"post": [
		{
			"post_id": 12,
			"title": "Reading W29Y17",
			"date_published": 1500374169.5,
			"body": "If you're lucky enough to be on vacation you still need to stay tuned with some relevant nerdy news so here we go for this week:\n[Orpheur' Lyre puts Kerberos to Sleep](https://www.orpheus-lyre.info/)\n[Libgcrypt 1.7.8 released to fix CVE-2017-7526](https://lists.gnupg.org/pipermail/gnupg-announce/2017q2/000408.html)\n[Key leak in libgcrypt: Left to right sliding, collision entropy, cache attach, RSA...](https://eprint.iacr.org/2017/627.pdf)\n[Bind broker - unix domain sockets - cool concept](http://www.tedunangst.com/flak/post/bind-broker)\n[The story of stolen .SK top level domain](https://medium.com/@Oskar456/stolen-sk-domain-717e070f6735)\n[ZFS is the best filesystem](http://blog.fosketts.net/2017/07/10/zfs-best-filesystem-now/))\n[From BlackEnergy to Expetr](https://securelist.com/from-blackenergy-to-expetr/78937/)\n[Code minimap for vim](https://github.com/severin-lemaignan/vim-minimap)\n[OpenBSD on the Huawei MateBook](https://jcs.org/2017/07/14/matebook)\n[Cool oldschool pc font](http://int10h.org/oldschool-pc-fonts/)\n[TLS, Server Name Indication and why we need to encrypt it](https://www.evilsocket.net/2017/06/30/BetterCap-1-6-1-TLS-Server-Name-Indication-and-Why-We-Need-to-Encrypt-It/)\n[How FDroid brings apps to Cuba](https://blog.grobox.de/2017/how-f-droid-is-bringing-apps-to-cuba/)\n[PFsense VERSUS OPNsense](https://eerielinux.wordpress.com/2017/06/25/building-a-bsd-home-router-pt-6-pfsense-vs-opnsense/)\n\n\\#news #bsd #security #reading"
		},
		{
			"post_id": 11,
			"title": "Reading W28Y17",
			"date_published": 1499769786.1,
			"body": "I am a bit away from keyboard this week but still here's a bunch of link:\n[Pioneer space probe - pretty cool](https://www.sbnation.com/a/17776-football/chapter-1)\n[RSS is not dead](https://www.franzoni.eu/stopping-the-internet-of-noise/)\n[The Internet phone project - WTF???](http://designawards.core77.com/Interaction/64487/The-Internet-Phone)\n[Documents expose how Hollywood promotes war on behalf of CIA ...](https://medium.com/insurge-intelligence/exclusive-documents-expose-direct-us-military-intelligence-influence-on-1-800-movies-and-tv-shows-36433107c307)\n\\#news #reading "
		},
		{
			"post_id": 10,
			"title": "Reading W27Y17",
			"date_published": 1499071275,
			"body": "New week - new reading.\n[Chaos Computer Club - Fighting for Democracy](https://www.bloomberg.com/news/features/2017-06-27/the-chaos-computer-club-is-fighting-to-save-democracy)\n[AWS Security Primer](https://cloudonaut.io/aws-security-primer/)\n[systemd can't handle the process privilege that belongs to user name starts with number](https://github.com/systemd/systemd/issues/6237)\n[Systemd bug -> root priv](https://ma.ttias.be/giving-perspective-systemds-usernames-start-digit-get-root-privileges-bug/)\n[What global anti-encryption regime could look like.](https://www.eff.org/deeplinks/2017/06/five-eyes-unlimited)\n[12 vim tips](https://dalibornasevic.com/posts/43-12-vim-tips)\n[Usenet Maps](http://olduse.net/blog/current_usenet_map/)\n\nAnd a lot to read on Petya-Notpetya:\n[Petya - the big picture](https://www.welivesecurity.com/2017/06/30/telebots-back-supply-chain-attacks-against-ukraine/)\n[Tech Analysis (CarbonBlack)](https://www.carbonblack.com/2017/06/28/carbon-black-threat-research-technical-analysis-petya-notpetya-ransomware/)\n[Tech Analysis (F-Secure)](https://labsblog.f-secure.com/2017/06/29/petya-i-want-to-believe/)\n[Tech Analysis (Microsoft)](https://blogs.technet.microsoft.com/mmpc/2017/06/27/new-ransomware-old-techniques-petya-adds-worm-capabilities/)\n[Some more though on NotPetya](https://lawfareblog.com/thoughts-notpetya-ransomware-attack)\n\n\\#news #reading #petya #ransomware #systemdisajokeorwhyilovemybsd"
		},
		{
			"post_id": 9,
			"title": "Playing with a USB thermometer",
			"date_published": 1498942912.169,
			"body": "So, it all started with one of my machine that has a CPU running a bit hot (above spec) even when it's not doing much...(<10% cpu usage, still goes >75-80Deg C)\n\nI don't have another temperature sensor on this machine (other than the CPU one) so I bought a ~5EUR USB one.\n_uhidev1 at uhub4 port 2 configuration 1 interface 1_\n\n---\n\nSimply plug it in:\n\n```\n\"RDing TEMPerV1.4\" rev 2.00/0.01 addr 3\nuhidev1: iclass 3/1\nugold0 at uhidev1\nugold0: 1 sensor type ds75/12bit (temperature)\n```\n\nwell...does this work? one easy way to check:\n\n```\n# sysctl hw.sensors.ugold0\nhw.sensors.ugold0.temp0=24.25 degC (inner)\n```\n\nCoolness... I am running [symon/symux/syweb](https://wpd.home.xs4all.nl/symon/) which is an easy way to rrdtool/rrdgraph.\npkg_add them as usual to install them. Then rcctl enable for symon and symux. Then you can rcctl start them once the config is completed.\nThe two temperature sensors are cpu0.temp0 and this usb one, ugold0.temp0\n\n```\n# cat /etc/symon.conf\nmonitor { cpu(0), sensor(cpu0.temp0),\nmem, mbuf,\nif(lo0), if(alc0), if(axe0), if(vether0),\npf,\nproc(httpd),\nio(sd0), io(sd2), io(sd3),\ndf(sd0a),\nsensor(ugold0.temp0)\n} stream to 127.0.0.1 2100\n\n# cat /etc/symux.conf                                                                                                                                                                                                                                         \nmux 127.0.0.1 2100\n\nsource 127.0.0.1 {\n\n        accept { cpu(0), sensor(cpu0.temp0),\n          mem, mbuf,\n          if(lo0), if(alc0), if(axe0), if(vether0),\n          pf,\n          proc(httpd),\n          io(sd0), io(sd2), io(sd3),\n          df(sd0a),\n          sensor(ugold0.temp0)\n        }\n        datadir \"/var/www/symon/rrds/localhost\"\n}\n```\n\nIf you have some rrds already and just added some new one it's no problem you can create the new one with the same command, it won't touch the one already existing:\n\n```\n/usr/local/share/examples/symon/c_smrrds.sh all\n```\n\nNow to get the pretty graph on syweb, go in /var/www/symon and create a temp.layout:\n\n```\ngroup   name=\"Merged Graph\";\ntext    \"<div>\n        How external temp impact the internal one.\n        </div>\";\ngraph   template ='-v temp (Celcius)\n-w %width%\n-h %heigth%\n-s %start%\n-e %end%\n-t Temperature Sensors\nDEF:c=/symon/rrds/localhost/sensor_ugold0.temp0.rrd:value:AVERAGE\nCDEF:msr=-1,c,*\nCOMMENT:  min   avg     max     cur     \\n\nAREA:c#ff5e41:External\nLINE2:c#ff0000:\nGPRINT:c:MIN:%6.2lf\nGPRINT:c:AVERAGE:%6.2lf\nGPRINT:c:MAX:%6.2lf\nGPRINT:c:LAST:%6.2lf\\n\nDEF:i=/symon/rrds/localhost/sensor_cpu0.temp0.rrd:value:AVERAGE\nLINE2:i#00ff00:Internal\nGPRINT:i:MIN:%6.2lf\nGPRINT:i:AVERAGE:%6.2lf\nGPRINT:i:MAX:%6.2lf\nGPRINT:i:LAST:%6.2lf\\n\n';\n```\n\nDon't forget the httpd configuration for syweb:\n\n```\n# cat /etc/httpd.conf\nserver \"stats.zerocks\" {\n        listen on 10.0.10.43 port 81\n        root \"/htdocs/syweb\"\n        directory index index.php\n        location \"*.php*\" {\n                fastcgi socket \"/run/php-fpm.sock\"\n        }\n```\n\nPretty graph...now I can easily see how much of an impact the outside temperature has on the cpu one... Obviously there's plenty of other application to be done with this. Have fun.\n\n\\#openbsd #symon #rrdtool"
		},
		{
			"post_id": 8,
			"title": "Reading W26Y17",
			"date_published": 1498478333,
			"body": "Here's some reading to help you go through this new week.\n\n[The story of a $55 Million digital heist](https://www.bloomberg.com/features/2017-the-ether-thief/)\n[Broken hyper-threading in Intel processors](https://lists.debian.org/debian-devel/2017/06/msg00308.html)\n[Mexican activists targeted with NSO Spyware](https://citizenlab.org/2017/06/reckless-exploit-mexico-nso/)\n[Proposed amendments to ePrivacy Regulation](https://blog.lukaszolejnik.com/proposed-amendments-to-eprivacy-regulation-are-great/)\n[Vulnerability discovered in Alpine Linux](https://www.twistlock.com/2017/06/25/alpine-linux-vulnerability-discovery-code-execution-pt-1-2/)\n[Turning off the electricity in Ukraine](https://www.wired.com/story/russian-hackers-attack-ukraine/)\n[OpenSource PowerPC Laptop](https://www.powerpc-notebook.org/en/)\n[Complete list of all domains under Russian TLD space](https://github.com/mandatoryprogrammer/RussiaDNSLeak)\n[The map of Mathematics](http://www.openculture.com/2017/02/the-map-of-mathematics.html)\n\n\\#news #reading"
		},
		{
			"post_id": 7,
			"title": "ZeroNet - My First Impressions",
			"date_published": 1498429763.948,
			"body": "TADAMMM - Here are my first impressions after being on ZeroNet for 96 hours:\n\n*   **Overall**: Simple, smart and cool. And pretty easy to find content and resources.\n*   **ZeroBlog**: AWESOME.That's for sure a keeper.\n*   **ZeroMe**: The interface is pretty slick, I like it...when it works...for some reason I have load of display issues, 70% of the time it's blank (greyish) then clicking on my profile then back on followers \"sometimes\" give me back the expected content. Of course NoScript and other add-ons didn't help but even all of them turned off it's still struggling. Same feedback using tor-browser, firefox or chrome. The Hubs seem to be a pretty big mess. Keep having tons of update failure.\n*   **Zites**: Super easy to create a Zite from scratch... the error when 'Signing\" isn't obvious to me that it could be a size limitation, should have a clear message or automatically offer to expend size. Also this story of always offering big size chunk, for a 323MB site it wants 500MB. Then the publishing process ... feels like black magic. Sometimes it works...sometimes it doesn't. for the very first publish I mean in similar condition with 2 peers. I should probably RTFM and understand this part better. But once it's running it's all good.\n*   **ZeroMail**: The echobot isn't working, that's not a big deal. I could communicate with people but deleted messages keep popping back up in Inbox every now and then. Also always have an update failing on one file.\n\nI will for sure keep fooling around here. Get used to it...\n\\#imho #zeronet"
		},
		{
			"post_id": 6,
			"title": "Running a tor relay.",
			"date_published": 1498222075.6,
			"body": "There are no valid excuses for **not** running a tor relay at home. Seriously. Do you monitor your home bandwidth usage? So much unused capacity... And considering that most of the ZeroNet users also use tor... then it makes even more sense!\nYou can't say it's difficult to configure, here's the few lines you need in your tor confg file. (Which btw is very well documented so just read it.)\n\n\n---\n\n\n$ grep -v '^\\s*[#]' /etc/tor/torrc | awk /./\n\n```\nSOCKSPort 0# Default: Bind to localhost:9050 for local connections.\nLog notice file /var/log/tor/notices.log  # I don't want more noise in syslog\nRunAsDaemon 1\nDataDirectory /var/tor\nORPort 9418\nNickname whateveryoulike\nRelayBandwidthRate 1221 KBytes  # Throttle traffic to 10Mpbs\nRelayBandwidthBurst 1465 KBytes # But allow bursts up to 12Mbps\nAccountingMax 90 GBytes  # 90GB max / timeperiod (that would be 8.3Mbps continuous)\nAccountingStart day 00:00  # timeperiod is per day (reset at midnight)\nUser _tor\nExitPolicy reject *:* # no exits allowed\n```\n\n\\#justdoit #thingthatmatters #tor #bepartofsomething"
		},
		{
			"post_id": 5,
			"title": "OpenBSD pf.conf",
			"date_published": 1498163823.4,
			"body": "Let's have a quick look on how to configure **OpenBSD PF** (Packet Filter) to force all traffic through a VPN. We'll also cover how to configure **dnscrypt_proxy** for a safe DNS resolution (going through the VPN as well^^).\n\n\n---\n\n\nHere's a quick pf.conf to do the job, appreciate how short and crystal clear the syntax is!\n```\n##### /etc/pf.conf\n# em0 is your local network interface\n# W.X.Y.Z is the IP address of the openvpn server\n# some openvpn client config file comes with a hostname,\n# not an IP for the server, resolv it and change it manually\n#####\nvpn=\"W.X.Y.Z\"\nset block-policy drop\n# no filtering on loopback\nset skip on lo0\n# block all ipv6\nblock return out quick inet6 all\nblock in quick inet6 all\n# block all by default\nblock all\n# accept the local interface to connect only to the vpn server\npass out quick on em0 from any to {$vpn} flags S/SA keep state\n# accept all traffic through the VPN\npass out quick on tun0 from any to any flags S/SA keep state\n```\n\nFor the DNS resolution we'll be using dnscrypt_proxy.\n\n```\n# Install the binary package\npkg_add -v dnscrypt_proxy\n# activate it in /etc/rc.conf.local\nrcctl enable dnscrypt_proxy\n# configure it in /etc/rc.conf.local\necho \"dnscrypt_proxy_flags=-l /var/log/dnscrypt.log -R ipredator -a 127.0.0.1:53\" >> /etc/rc.conf.local\n# change your /etc/resolv.conf to use dnscrypt_proxy\necho \"nameserver 127.0.0.1\" > /etc/resolv.conf\n```\n\nMake sure pf is set at boot (rcctl enable pf) make sure to refresh the rules if you've just changed them (pfctl -f /etc/pf.conf)\nthen you shouldn't be able to access anything until you:\n1/ Start your vpn client (openvpn myclient.conf -- remember to have remote IP_ad dress and not an hostname)\n2/ Start dnscrypt_proxy (rcctl start dnscrypt_proxy) that goes through the VPN . .. obviously.\n3/ Now you can start tor ...\n4/ And now you can start ZeroNet\nIf the VPN drops nothing works...this way ZeroNet goes through Tor which itself g oes through your VPN and just in case the dns request goes on another safe way out still through the VPN...\n\n\\#commentsarewelcome #openvpn #openbsd #pf"
		},
		{
			"post_id": 4,
			"title": "Installing ZeroNet on OpenBSD",
			"date_published": 1498145451.109,
			"body": "Let's just cover real quick how to install ZeroNet on OpenBSD and start it then how to get it to go through tor. All done in 3 minutes! \n\n---\n\n```\n## Let's install the pre-required packages\npkg_add -v python-2.7 py-gevent py-msgpack\n## Let's fetch ZeroNet from github\nftp https://github.com/HelloZeroNet/ZeroNet/archive/master.tar.gz\n## open the ZeroNet tarball\ntar zvfz master.tar.gz\n## get into the directory and start it!\ncd ./ZeroNet-master/\npython2.7 zeronet.py --ui_ip '192.168.X.11'\n```\n\nThe --ui_ip is to allow this to be reachable from the vLAN interface (from another computer) since it's running on a headless server.\nTo run it with tor, it's also pretty straight forward:\n\n```\n## install and configure tor\npkg_add -v tor\nvi /etc/tor/torrc\n## uncomment the lines below in /etc/tor/torrc\nControlPort 9051\nCookieAuthentication 1\n## start tor\nrcctl start tor\n## allow the group from the user that will run zeronet to rw the control_auth_cookie\n## quick and ugly way to do this for testing purpose is to just:\nchgrp usergroup /var/tor/ && chmod 750 /var/tor/\nchgrp usergroup /var/tor/control_auth_cookie && chmod 660 /var/tor/control_auth_cookie\n## then we're good to start zeronet from the folder when you've untar it\ncd /wherever/Zeronet-master\npython2.7 zeronet.py --tor_controller 127.0.0.1:9051 --tor_proxy 127.0.0.1:9050 --ui_ip '192.168.X.11'\n```\n\nPS: I should provide a less naughty way to adjust the auth_cookie permission...in the meantime this still works\n\n\\#zeronet #tor #openbsd #howto"
		},
		{
			"post_id": 3,
			"title": "Install and run an OpenBSD VM (in vmd)",
			"date_published": 1498138353.7,
			"body": "I will describe here how to install an OpenBSD virtual machine under OpenBSD with VMM. Then in a future post we'll cover how to install ZeroNet (VPN+Tor+dnscrypt_proxy+pf) on this VM.\n\n---\n\nLet's get the install kernel and the install image for OpenBSD 6.1 amd64:\n\n```\n# ftp http://mirror.bytemark.co.uk/OpenBSD/6.1/amd64/bsd.rd\n# ftp http://mirror.bytemark.co.uk/OpenBSD/6.1/amd64/install61.fs\n```\n\nBefore I forgot let's enable vmd and stard it:\n\n```\n# rcctl enable vmd && rcctl start vmd\n```\n\nI am creating a 64GB image file for the VM then I start the install image booting on the install kernel and setting up 2GB of ram for it. The -c option will get you straight connected to the console.\n\n```\n# vmctl create zero.drive -s 64G\n# vmctl start \"zerovm\" -c -b bsd.rd -m 2G -i 1 -d zero.drive -d install61.fs\n```\n\nDo a standard install - nothing special, all default options make sense.When you get to the installation of sets, choose \"disk > not mounted > sd1 > a\".\nOnce it's done and your back at the shell prompt. Exit the VM console using the key sequence ~^D (tilde ctrl-D).\nStop the VM and check the status of the VM\n\n```\n# vmctl stop zerovm \n# vmctl status\n```\n\nLet's configure the VM to start at boot with the correct parameter and a virtual ethernet switch on the LAN (feel free to use another IP subnet than your real LAN so it will be even easier to filter with pf on the host).\nCreate the virtual interface:\n\n```\n# echo \"inet 192.168.X.1 255.255.255.0 NONE\" > /etc/hostname.vether0\n```\n\nMake sure you allow traffic on this interface in your host /etc/pf.conf\n\n```\nvmd_if = \"vether0\"\npass out quick on $vmd_if inet\npass in quick on $vmd_if inet\n```\n\nCreate your /etc/vm.conf :\n\n```\nfiles=  /usr/where/ever/you/have/yourvm/store/\nvm zerovm {\n   memory 2g\n   disk $files zero.drive\n   interface tap { lladdr 00:01:02:03:04:05 switch localnet }\n}\nswitch localnet {\n   add vether0\n}\n```\n\nThat should be it...\ncreate the interface (the hostname.vether0 is to have it at boot time) then refresh your pf to take your change into account and restart vmd:\n\n```\n# ifconfig vether0 create\n# ifconfig vether0 inet 192.168.X.1 255.255.255.0\n# pfctl -f /etc/pf.conf\n# rcctl restart vmd\n```\n\nIf everything went smooth the VM should start check and connect to it:\n\n```\n# vmctl status\n# vmctl console zerovm\n```\n\nThat's it... next time we'll see how to install zeronet on this pretty new VM running on OpenBSD of course! (I assume you've configured the VM network properly within the same subnet that the vether0 etc.. etc...)\n\n\\#howto #openbsd #vmm"
		},
		{
			"post_id": 2,
			"title": "Hello World!",
			"date_published": 1498129843.3,
			"body": "Hi all. Why not starting by re-sharing some fresh news and good reading to keep you guys busy while I finish to set things up. That will give you a taste of what you're likely to find posted here in the future.\n\n[[Minitel Story](http://spectrum.ieee.org/computing/networks/minitel-the-online-world-france-built-before-the-web)]\n[[ProtonMail is now offering VPN services](https://protonvpn.com/)]\n[[Inside a Porn-Pimping Spam Botnet](https://krebsonsecurity.com/2017/06/inside-a-porn-pimping-spam-botnet/)]\n[[The Future of Education is plain text](https://simplystatistics.org/2017/06/13/the-future-of-education-is-plain-text/)]\n[[Plan9 has a son?](https://github.com/Harvey-OS/harvey)]\n[[Nexus9 Hack](https://alephsecurity.com/2017/06/13/nexus9-ephemeral-fiq/)]\n[[OpenBSD p0rn](https://marc.info/?l=openbsd-tech&m=149792179514439&w=2)]\n[[CherryBlossom UserManual](https://wikileaks.org/vault7/document/SRI-SLO-FF-2012-177-CherryBlossom_UsersManual_CDRL-12_SLO-FF-2012-171/)]\n[[OpenVPN audit](https://guidovranken.wordpress.com/2017/06/21/the-openvpn-post-audit-bug-bonanza/)]\n[[Intelligence -> Targeted assassination](https://www.buzzfeed.com/heidiblake/from-russia-with-blood-14-suspected-hits-on-british-soil?utm_term=.txN5JpXz8#.vtl7r3zXZ)]\n[[EU wants to get access to tech companies data](http://www.zdnet.com/article/eu-seeks-to-make-it-easier-for-police-to-grab-data-from-us-tech-firms/)]\n[[Follow the $$ (vDOS attack-for-hire)](https://krebsonsecurity.com/2017/06/following-the-money-hobbled-vdos-attack-for-hire-service/)]\n\n\\#openbsd #plan9 #nerd #news #leak #vpn "
		}
	]
}