<!DOCTYPE html>

<html>
<head>
 <title>ZeroTorrent - What is this downtime you speak of‽</title>
 <meta charset="utf-8">
 <meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <link rel="stylesheet" href="css/all.css" />
 <base href="" target="_top" id="base">
 <script>
 setTimeout(function() {
 	base.href = document.location.href.replace("/media", "").replace("index.html", "").replace(/([&?])wrapper=False/, "$1").replace(/&$/, "").replace(/[&?]wrapper_nonce=[A-Za-z0-9]+/, "") // Fix urls
 }, 100) // 100ms later, to workaround double js download in chrome
 </script>
</head>
<body>

<!-- editbar -->
<div class="editbg"></div>
<div class="editbar bottombar">
 <ul class="markdown-help">
  <li># H1</li>
  <li>## H2</li>
  <li>### H3</li>
  <li><i>_italic_</i></li>
  <li><b>**bold**</b></li>
  <li>~~<s>strikethrough</s>~~</li>
  <li>- Lists</li>
  <li>1. Numbered lists</li>
  <li>[Links](http://www.zeronet.io)</li>
  <li>[References][1]<br>[1]: Can be used</li>
  <li>![image alt](img/logo.png)</li>
  <li>Inline <code>`code`</code></li>
  <li><code>```python<br>print "Code block"<br>```</code></li>
  <li>&gt; Quotes</li>
  <li>--- Horizontal rule</li>
 </ul>
 <a href="#Markdown+help" class="icon-help">?</a> Editing: <span class="object">Post:21.body</span> <a href="#Save" class="button save">Save</a> <a href="#Delete" class="button button-delete button-outline delete">Delete</a> <a href="#Cancel" class="cancel">Cancel</a>
</div>
<!-- EOF editbar -->


<!-- Head -->
<div class="head">
 <a class='logo nolink' href="?Home">Zer0 ‽<br />Torrent</a>
</div>
<!-- EOF Head -->

<div class="message-big">Initial sync in progress...</div>

<!-- Page: Main -->
<div class="center topics-list">
 <h1 class="topics-title">Newest torrents </h1> <a href="#Follow" class="feed-follow feed-follow-list"><span class='text-follow'>Follow in Newsfeed</span><span class='text-following'>Following</span><div class="icon-feed"></div></a> <input type="text" id="torrent_search" class="text" placeholder="Search" style="width:70%;"><select name="search_category" id="torrent_search_category"  style="width:30%; height:44px;">
   <option id="all" value="all">All torrents</option>
   <option id="movies" value="movies">Movies</option>
   <option id="tvepisodes" value="tvepisodes">TV Episodes</option>
   <option id="music" value="music">Music</option>
   <option id="applications" value="applications">Applications</option>
   <option id="games" value="games">Games</option>
 </select>
<h4 class="title"><center><a href="/192dZ1EG5tU7PnCfuwGMDEBrr2eLqvs4t3/?Category:movies">Movies</a>&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;<a href="/192dZ1EG5tU7PnCfuwGMDEBrr2eLqvs4t3/?Category:tvepisodes">TV Episodes</a>&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;<a href="/192dZ1EG5tU7PnCfuwGMDEBrr2eLqvs4t3/?Category:music">Music</a>&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;<a href="/192dZ1EG5tU7PnCfuwGMDEBrr2eLqvs4t3/?Category:applications">Applications</a>&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;<a href="/192dZ1EG5tU7PnCfuwGMDEBrr2eLqvs4t3/?Category:games">Games</a></center></h2>
 <!-- New Topic -->
 <a href="#New+topic" class="topic-new-link nolink"> + Add Torrent</a>
 <div class="topic topic-new" style="display: none">
  <a href="#" class="image nolink"><div class="icon icon-topic-chat"></div></a>
  <h1 class="title">Add a torrent</h1>
  <h2 class="title"><input type="text" id="topic_title" class="text" placeholder="Torrent name/title"></h2>
  <h2 class="title">Category: <select name="category" id="torrent_category" style="height:44px;">
   <option value="movies" selected="selected">Movies</option>
   <option value="tvepisodes">TV Episodes</option>
   <option value="music">Music</option>
   <option value="applications">Applications</option>
   <option value="games">Games</option>
 </select>
  <div class="body"><textarea id="topic_body" placeholder="Torrent description (markdown allowed)"></textarea>
  <h2 class="title"><input type="text" id="torrent_magnet" class="text" placeholder="Magnet Link"></h2>
  <h2 class="title"><input type="text" id="torrent_imdb" class="text" placeholder="IMDB id (eg. tt0088846)"></h2>
  <h2 class="title"><input type="file" id="torrent_file" class="text" style="width:50%;"><i>(optional torrent file)</i></h2><input type="hidden" id="filedata" />
  </div>
  <div class="info"><a class="user_name user_name-my certselect" href="#Change+user" title='Change user'>user_name</a> &#9473; <span class="added">new topic</span></div>
  <a href="#Add+new+topic" class="button button-submit">Submit Torrent</a>
  <div style="clear: both"></div>
 </div>
 <!-- EOF New Topic -->

 <div class="topics-loading"><img src="img/loading.gif"/>Loading...</div>

 <div class="topics">

  <!-- Template: Topic -->
  <div class="topic template">
   <div class="dot">&bullet;</div>
   <a href="#" class="image nolink"><div class="icon icon-topic-chat"></div></a>
   <h2 class="title"><a href="#" class="title-link">Title</a></h2>
   <div class="body">Description</div>
   <a href="#" class="link"><div class="icon icon-link"></div> <span class="link-url"></span></a>
   <div class="info">
    <a class="score" href="#Upvote">
     <span class="score-inactive"> <span class="icon-up">^</span><span class="score-num">1</span> </span>
     <span class="score-active"> <span class="icon-up">^</span><span class="score-num">2</span> </span>
    </a>
    <a href="#" class="comment-num"></a>
    <span class="added">added</span>
     &#9473; submitted by <span class="user_name">user_name</span>
   </div>
  </div>
  <!-- EOF Template: Topic main -->

 </div>

 <a href="#More" class="topics-more">Show more torrents</a>

</div>
<!-- EOF Page: Main -->


<!-- Page: Topic -->
<div class="center topics-full">

 <h1 class="topic-title"><span class='parent-link'><a href='?Main'>Main</a> &rsaquo;</span> <span class='parent-link'><a href='?Main'>ZeroNet news</a> &rsaquo; </span> <span class="parent-link">How did you find ZeroNet?</span></h1>

 <div class="topic topic-full">
  <a href="#" class="image nolink"><div class="icon icon-topic-chat"></div></a>
  <a href="#Follow" class="feed-follow feed-follow-show"><span class='text-follow'>Follow in Newsfeed</span><span class='text-following'>Following</span><div class="icon-feed"></div></a>
  <h2 class="title"><a href="#" class="title-link">Title</a></h2>
  <div class="body">Body</div>
  <div class="info">
    <a class="score" href="#Upvote">
     <span class="score-inactive"> <span class="icon-up">^</span><span class="score-num">?</span> </span>
     <span class="score-active"> <span class="icon-up">^</span><span class="score-num">0</span> </span>
    </a>
   <span class="user_name">username</span> posted <span class="added">added</span>
  </div>
 </div>

 <!-- New comment -->
 <div class="comment comment-new">
  <div class="info"><a class="user_name user_name-my certselect" href="#Change+user" title='Change user'>user_name</a> &#9473; <span class="added">new comment</span></div>
  <div class="body">
   <a class="button button-submit button-certselect certselect" href="#Change+user"><div class='icon-profile'></div>Sign in as...</a>
   <textarea id="comment_body"></textarea>
  <h2 class="title"><input type="file" id="comment_image_file" class="text" style="width:50%;"><input type="hidden" id="commentfiledata"> <i>(optional image in comment)</i></h2>
   <a href="#Submit+comment" class="button button-submit button-submit-form">Submit comment</a>
   <div style='float: right; margin-top: -6px; position: relative; text-align: right'>
    <div class="user-size user-size-used">Used space: 22k/100k</div>
    <div class="user-size">Used space: 22k/100k</div>
    <div class="user-size-warning">You are running out of your allowed space, please contact the site's admin at <a href="#">unknown</a> to raise your limit.</div>
   </div>
   <div style="clear: both"></div>
  </div>
 </div>
<!-- Comments -->
 <div class="comments center">

  <!-- Template: Comment -->
  <div class="comment template">
   <div class="info">
    <span class="user_name">user_name</span>
    &#9473;
    <span class="added">added</span>
    <a class="score" href="#Upvote">
     <span class="score-inactive"> <span class="icon-up">^</span><span class="score-num">1</span> </span>
     <span class="score-active"> <span class="icon-up">^</span><span class="score-num">2</span> </span>
    </a>
    <a href="#Reply" class="reply"><div class="icon icon-reply"></div> <span class="reply-text">Reply</span></a>
   </div>
   <div class="body">Body</div>
  </div>
  <!-- EOF Template: Comment -->
 </div>

</div>
<!-- EOF Page: Topic -->

<!-- Template: menu -->
<div class="menu template">
 <a href="#" class="menu-item template">Template</a>
</div>
<!-- EOF Template: menu -->

<script type="text/javascript" src="js/all.js"></script>
<script>
$(".head .more a").each( function(i, elem) {
    $(elem).attr("href", Text.fixLink($(elem).attr("href")))
});
</script>
<script type="text/javascript">

 document.addEventListener("DOMContentLoaded", function() {
filedataHiddenElement = document.querySelector("#filedata"); 
commentfiledataHiddenElement = document.querySelector("#commentfiledata"); 

  function handlecommentimageFileSelect(evt) {
    var files = evt.target.files; // FileList object
    console.log(files);
    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

       //Only process image files.
       if (!f.type.match('image.*')) {
        alert("only image files allowed!");
         continue;
       }

      var reader = new FileReader();

      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          
          commentfiledataHiddenElement.value = e.target.result;
          
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
    }
  }


  function handletorrentFileSelect(evt) {
    var files = evt.target.files; // FileList object
    
    // Loop through the FileList and render image files as thumbnails.
    for (var i = 0, f; f = files[i]; i++) {

       //Only process torrent files.
       if (!f.type.match('application.x-bittorrent')) {
        alert("only torrent files allowed!");
         continue;
       }

      var reader = new FileReader();

      // Closure to capture the file information.
      reader.onload = (function(theFile) {
        return function(e) {
          
          filedataHiddenElement.value = e.target.result;
          
        };
      })(f);

      // Read in the image file as a data URL.
      reader.readAsDataURL(f);
    }
  }

document.getElementById('torrent_file').addEventListener('change', handletorrentFileSelect, false);
document.getElementById('comment_image_file').addEventListener('change', handlecommentimageFileSelect, false);



});
// function doSearch(e) {
//     if (e.keyCode == 13) {
//         alert("pressed enter");
//         var search = document.getElementById("torrent_search");
//         alert(search.value);
//         TopicList.
//         return false;
//     }
// }
</script>
</body>
</html>
