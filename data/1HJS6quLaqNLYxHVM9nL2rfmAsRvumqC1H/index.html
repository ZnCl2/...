<!DOCTYPE html>
<html>
    <head>
        <title>ZeroFrameJS</title>

        <meta name="description" content="ZeroFrame WebSocket API for JavaScript" />
        <meta name="keywords" content="zeroframe,websocket,library,p2p,decentralized" />

        <meta charset="utf-8" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=0.8" />

        <base href="" target="_top" id="base" />
        <script>base.href = document.location.href.replace("/media", "").replace("index.html", "").replace(/[&?]wrapper=False/, "").replace(/[&?]wrapper_nonce=[A-Za-z0-9]+/, "")</script>
    </head>

	<body style="display: none">
        <h1>ZeroFrame WebSocket API for JavaScript</h1>

        <p>This is JavaScript WebSocket client for ZeroFrame API. It supports (almost) same features as default ZeroFrame that is included in ZeroNet sites, but it is using WebSocket client so it can be used in local programs, such as Node.js and Electron. It can't be used in browsers because of CORS restrictions.</p>
        <p>This repository is mirrored from <a href="https://github.com/filips123/ZeroFrameJS/">GitHub</a>. To use it, see details in <a href="http://127.0.0.1:43110/1GitLiXB6t5r8vuU2zC6a8GYj9ME6HMQ4t/repo/?1HJS6quLaqNLYxHVM9nL2rfmAsRvumqC1H/@master">master branch</a>.</p>
        <p>This repository is a mirror, so please don't submit issues and pull requests here. Use GitHub instead. In the future, you might be able to do this if Git Center will enable better sync with GitHub.</p>
        <p>Project is licensed under MIT license.</p>
        
        <p><strong>You will be redirected to Git Center in a few moments. If you aren't redirected, please click <a href="javascript:void(0);" id="gitcenter-url">here</a>.</strong></p>
    
    
		<script type="text/javascript" src="js/ZeroFrame.js"></script>
		<script type="text/javascript">
			let address = location.pathname.replace(/^\//, "").replace(/\/.*/, "")
            let gitcenter

            let zeroFrame = new ZeroFrame()

			zeroFrame.cmd("siteInfo", [], (siteInfo) => {
				if(siteInfo.content.installed) {
					gitcenter = "/1GitLiXB6t5r8vuU2zC6a8GYj9ME6HMQ4t/repo/?" + siteInfo.address
				} else {
					gitcenter = "/1GitLiXB6t5r8vuU2zC6a8GYj9ME6HMQ4t/install/?" + siteInfo.address
				}

                location.href = gitcenter
			})

            window.setTimeout(() => {
                if (gitcenter) {
                    document.getElementById("gitcenter-url").href = gitcenter
                } else {
                    document.getElementById("gitcenter-url").href = "/1GitLiXB6t5r8vuU2zC6a8GYj9ME6HMQ4t/install/?" + address
                }

                document.body.removeAttribute("style")
            }, 5000)
		</script>
	</body>
</html>
