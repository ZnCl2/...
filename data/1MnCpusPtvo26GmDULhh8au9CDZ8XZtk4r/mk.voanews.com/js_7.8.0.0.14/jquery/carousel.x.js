(function(n){n.fn.tinycarousel=function(t){function w(){var o=n("body"),e,v,y,u;o.hasClass("body_External")&&(o.css("overflow","hidden"),r.css("width",l.parents(".slider-code").innerWidth()));f=h?n(r[0]).outerWidth(!0):n(r[0]).outerHeight(!0);e=(window.outerWidth-8)/window.innerWidth;v=e<.98||e>1.02;v&&(f=f+1);y=Math.ceil((h?l.outerWidth():l.outerHeight())/(f*t.display)-1);s=Math.max(1,Math.ceil(r.length/t.display)-y);i=Math.min(s,Math.max(1,t.start))-2;u={};u[h?"width":"height"]=f*r.length;a.css(u);t.layout=="rtl"&&(navigator.userAgent.toLowerCase().indexOf("msie 6")!=-1||navigator.userAgent.toLowerCase().indexOf("msie 7")!=-1)&&l.css(u);c(1);k()}function b(){t.controls&&(e.toggleClass("disableslider",!(i>0)),v.toggleClass("disableslider",!(i+1<s)))}function k(){t.controls&&e.length>0&&v.length>0&&(e.click(function(){return c(-1),!1}),v.click(function(){return c(1),!1}));t.pager&&u.length>0&&u.click(d)}function d(t){var r=t.target;return n(r).hasClass("pagenum")&&(i=parseInt(r.rel)-1,c(1)),!1}function g(){var f=navigator.userAgent.toLowerCase(),r;t.pager&&f.indexOf("msie 6")===-1&&t.pager&&f.indexOf("msie 7")===-1&&(r=n(".pagenum",u),r.removeClass("active"),n(r[i]).addClass("active"),f.indexOf("msie")&&window.setTimeout(function(){n(r[i]).addClass("active")},10))}function nt(n){t.interval&&!n&&(clearInterval(p),p=window.setInterval(function(){y=i+1==s?!1:i==0?!0:y;c(y?1:-1,!0)},t.intervaltime))}function tt(){var r=navigator.userAgent.toLowerCase(),f,t,i;(r.indexOf("msie 6")!=-1||r.indexOf("msie 7")!=-1)&&(u.hasClass("carousel_pager_topnewsside")||(f=n("li",u),t=0,f.each(function(){t+=n(this).outerWidth(!0)}),u.css("width",t+"px")),i="<li style='display:none'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<\/li>",u.append(i+i),e.hasClass("disableslider")?e.addClass("disableslider_prev"):e.removeClass("disableslider_prev"))}function c(u,e){if(i+u>-1&&i+u<s){i+=u;var o={};t.layout=="rtl"?o[h?"right":"top"]=-(i*f*t.display):o[h?"left":"top"]=-(i*f*t.display);n(r[i]).removeClass("hideBgImages");a.animate(o,{queue:!1,duration:t.animation?t.duration:0,complete:function(){typeof t.callback=="function"&&t.callback.call(this,r[i],i)}});b();g();nt(e);tt()}}var t=n.extend({start:1,display:1,axis:"x",controls:!0,pager:!1,interval:!1,intervaltime:5e3,animation:!0,duration:2e3,callback:null},t),o=n(this),l=n(".viewport",o),a=n(".overview",o),r=a.children(),v=n(".next",o),e=n(".prev",o),u=n(".pager",o),f,s,i,p,y=!0,h=t.axis=="x";return this.each(function(){w()})}})(jQuery);;